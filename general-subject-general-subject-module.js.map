{"version":3,"sources":["webpack:///./src/app/curriculum/curriculum.service.ts","webpack:///./src/app/general-subject/general-subject-create.component.html","webpack:///./src/app/general-subject/general-subject-create.component.ts","webpack:///./src/app/general-subject/general-subject-delete.component.ts","webpack:///./src/app/general-subject/general-subject-details.component.html","webpack:///./src/app/general-subject/general-subject-details.component.ts","webpack:///./src/app/general-subject/general-subject-manage.component.html","webpack:///./src/app/general-subject/general-subject-manage.component.ts","webpack:///./src/app/general-subject/general-subject-update-publish.component.ts","webpack:///./src/app/general-subject/general-subject-update-unpublish.component.ts","webpack:///./src/app/general-subject/general-subject-update.component.html","webpack:///./src/app/general-subject/general-subject-update.component.ts","webpack:///./src/app/general-subject/general-subject.module.ts","webpack:///./src/app/general-subject/general-subject.route.ts","webpack:///./src/app/general-subject/general-subject.service.ts","webpack:///./src/app/general-subject/index.ts","webpack:///./src/app/shared/constants/common.constants.ts","webpack:///./src/app/shared/model/content/general-subject.model.ts"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;AAA2C;AACkC;AAEhB;AACb;AAGc;AAM9D,IAAI,OAAO,GAAgB,IAAI,gEAAW,EAAE,CAAC;AAC7C,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;AAIzG;IAKI,2BAAsB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAH/B,gCAA2B,GAAG,qEAAW,CAAC,OAAO,GAAG,wCAAwC,CAAC;QAC7F,0BAAqB,GAAG,qEAAW,CAAC,OAAO,GAAG,iCAAiC,CAAC;IAE7C,CAAC;IAE3C,4CAAgB,GAAhB,UAAiB,UAAuB;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAc,IAAI,CAAC,qBAAqB,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACxG,CAAC;IAED,4CAAgB,GAAhB,UAAiB,UAAuB;QACpC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAc,IAAI,CAAC,qBAAqB,EAAE,UAAU,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACvG,CAAC;IAED,gCAAI,GAAJ,UAAK,EAAU;QACX,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAiB,IAAI,CAAC,qBAAqB,SAAI,EAAI,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACtG,CAAC;IAED,kDAAsB,GAAtB,UAAuB,GAAS;QAC5B,IAAM,OAAO,GAAG,mEAAmB,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG;YACV,mBAAmB,EAAE,KAAK;SAC7B,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAgB,IAAI,CAAC,2BAA2B,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IAC9H,CAAC;IAED,+CAAmB,GAAnB,UAAoB,GAAS;QACzB,IAAM,OAAO,GAAG,mEAAmB,CAAC,GAAG,CAAC,CAAC;QACzC,IAAI,OAAO,GAAG;YACV,mBAAmB,EAAE,KAAK;YAC1B,QAAQ,EAAE,yEAAM;SACnB,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAgB,IAAI,CAAC,2BAA2B,EAAE,OAAO,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IAC9H,CAAC;IAED,kCAAM,GAAN,UAAO,EAAU;QACb,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAS,IAAI,CAAC,qBAAqB,SAAI,EAAI,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACjG,CAAC;IAtCQ,iBAAiB;QAD7B,gEAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;+EAMH,+DAAU;OAL7B,iBAAiB,CAuC7B;IAAD,wBAAC;CAAA;AAvC6B;;;;;;;;;;;;AClB9B,q0IAAq0I,UAAU,mLAAmL,UAAU,0KAA0K,WAAW,uDAAuD,iBAAiB,mHAAmH,WAAW,oDAAoD,iBAAiB,6CAA6C,YAAY,wCAAwC,OAAO,sqFAAsqF,gBAAgB,oaAAoa,iBAAiB,oqBAAoqB,wEAAwE,onBAAonB,+EAA+E,kpBAAkpB,sEAAsE,+mBAA+mB,6EAA6E,ohBAAohB,iBAAiB,wTAAwT,iBAAiB,mqB;;;;;;;;;;;;;;;;;;;;;;;;ACA1uX;AAC7C;AACwB;AAIhB;AACD;AACc;AACd;AACK;AASrE;IA+BE,uCACU,MAAc,EACd,WAAwB,EACxB,aAA4B,EAC7B,iBAAoC,EACpC,qBAA4C,EAC5C,cAA8B,EAC9B,aAA4B,EAC3B,eAAkC;QAPlC,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QAC7B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC3B,oBAAe,GAAf,eAAe,CAAmB;QAnC5C,mBAAc,GAAsB,EAAE,CAAC;QACvC,wBAAmB,GAAsB,EAAE,CAAC;QAC5C,oBAAe,GAAsB,EAAE,CAAC;QACxC,cAAS,GAAU,EAAE,CAAC;QACtB,WAAM,GAAU,EAAE,CAAC;QAiCjB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAChC,CAAC;IAED,uDAAe,GAAf;QAAA,iBAIC;QAHC,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC,SAAS,CAAC,UAAC,YAAiB;YAClE,KAAI,CAAC,SAAS,GAAG,YAAY,CAAC,cAAc,CAAC;QAC/C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gDAAQ,GAAR;QACE,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;QACpC,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAC7B,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,eAAe,EAAE,CAAC;IACzB,CAAC;IAED,iEAAyB,GAAzB;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC/C,kBAAkB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YACjH,yBAAyB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SACrG,CAAC,CAAC;QACH,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAChD,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAChC,kBAAkB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7F,SAAS,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAC9B,gBAAgB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SAC5F,CAAC;IACJ,CAAC;IAED,sBAAI,sDAAW;aAAf,cAAoB,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAC9D,sBAAI,2DAAgB;aAApB,cAAyB,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAEpE,yDAAiB,GAAjB;QAAA,iBAKC;QAJC,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,CAAC,SAAS,CACvD,UAAC,GAAoC,IAAK,YAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAnC,CAAmC,EAC7E,UAAC,GAAsB,IAAK,YAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAAzB,CAAyB,CACtD;IACH,CAAC;IAED,4DAAoB,GAApB,UAAqB,IAAuB;QAC1C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,kEAA0B,GAA1B;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QACpF,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAClG,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI,EAAE;YAC1F,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC;QACD,IAAI,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACjC;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE;YACjC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC;IACH,CAAC;IAED,8DAAsB,GAAtB;QACE,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE;YACjC,IAAI,CAAC,mBAAmB,GAAG;gBACzB;oBACE,MAAM,EAAE,IAAI,CAAC,WAAW;oBACxB,MAAM,EAAE,YAAY;oBACpB,MAAM,EAAE;wBACN,MAAM,EAAE,IAAI,CAAC,WAAW;wBACxB,aAAa,EAAE,IAAI,CAAC,kBAAkB;wBACtC,QAAQ,EAAE,IAAI;wBACd,cAAc,EAAE,CAAC;wBACjB,OAAO,EAAE,CAAC;wBACV,YAAY,EAAE,0EAAO;qBACtB;oBACD,QAAQ,EAAE,GAAG;oBACb,MAAM,EAAE,MAAM;iBACf;aACF,CAAC;YACF,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,mBAAmB,EAAE,IAAI,CAAC,CAAC;YACxE,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,mBAAmB,EAAE,IAAI,CAAC,mBAAmB,EAAE,KAAK,CAAC,CAAC;YAChF,IAAI,CAAC,iBAAiB,GAAG,IAAI,CAAC;SAC/B;QACD,IAAI,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE;YACnC,OAAM;SACP;IACH,CAAC;IAED,uDAAe,GAAf;QACE,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,6BAA6B,EAAE,CAAC;IACvC,CAAC;IAED,wDAAgB,GAAhB;QACE,IAAM,UAAU,GAAG,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5F,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YAC3C,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAC/B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gBACjC,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,aAAa,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;gBACpF,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC,CAAC;gBACtE,IAAI,CAAC,8BAA8B,EAAE,CAAC;aACvC;iBAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;gBACpC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gBACjC,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;gBAClF,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,aAAa,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC,CAAC;gBACxE,IAAI,CAAC,8BAA8B,EAAE,CAAC;aACvC;SACF;IACH,CAAC;IAED,0DAAkB,GAAlB;QACE,IAAI,oBAAoB,EAAE,kBAAkB,CAAC;QAC7C,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,EAAE;YAC7E,oBAAoB,GAAG,IAAI,CAAC;YAC5B,kBAAkB,GAAG,IAAI,CAAC;SAC3B;aAAM;YACL,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC;YACpE,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC;YAChE,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;SAClE;IACH,CAAC;IAED,yDAAiB,GAAjB,UAAkB,GAAG,EAAE,GAAG;QACxB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,KAAK,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBACf,IAAI,EAAE,CAAC;gBACP,MAAM,EAAE,CAAC;aACV,CAAC,CAAC;SACJ;QACD,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,uBAAuB;IACvB,sEAA8B,GAA9B;QACE,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;QACjC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,mEAA2B,GAA3B;QACE,IAAI,WAAW,EAAE,SAAS,CAAC;QAC3B,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACzE,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACrE,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;YAC/B,IAAI,WAAW,KAAK,EAAE,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,IAAI,EAAE;gBAC3E,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAC9B;iBAAM;gBACL,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aAC/B;SACF;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;YACpC,IAAI,SAAS,KAAK,EAAE,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,KAAK,IAAI,EAAE;gBACrE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAC9B;iBAAM;gBACL,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aAC/B;SACF;IACH,CAAC;IAED,0DAAkB,GAAlB;QACE,iCAAiC;QACjC,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAClC,mCAAmC;QACnC,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC;IACvC,CAAC;IAED,uCAAuC;IACvC,uDAAe,GAAf;QACE,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE,IAAI;YACpD,IAAI,CAAC,EAAE,CAAC,EAAE,YAAY,CAAC;YACvB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAChD,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACvC,IAAI,YAAY,CAAC,QAAQ,KAAK,MAAM,EAAE;oBACpC,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBACxC,YAAY,CAAC,uBAAuB,GAAG,KAAK,CAAC;iBAC9C;qBAAM,IAAI,YAAY,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC9C,YAAY,CAAC,uBAAuB,GAAG,IAAI,CAAC;oBAC5C,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBACxC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC7C,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;oBAC1D,YAAY,CAAC,4BAA4B,CAAC,YAAY,CAAC,CAAC;iBACzD;qBAAM,IAAI,YAAY,CAAC,QAAQ,KAAK,OAAO,EAAE;oBAC5C,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBACxC,YAAY,CAAC,uBAAuB,GAAG,IAAI,CAAC;oBAC5C,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC7C,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;oBAC1D,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;oBAC/C,IAAI,YAAY,KAAK,IAAI,EAAE;wBACzB,YAAY,CAAC,kBAAkB,GAAG,IAAI,CAAC;wBACvC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;qBAChC;yBAAM;wBACL,YAAY,CAAC,UAAU,GAAG,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,KAAK,YAAY,EAAxB,CAAwB,CAAC,CAAC,OAAO,CAAC;qBACtG;oBACD,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;oBAC9C,YAAY,CAAC,4BAA4B,CAAC,YAAY,CAAC,CAAC;iBACzD;qBAAM;oBACL,YAAY,CAAC,mBAAmB,GAAG,KAAK,CAAC;oBACzC,YAAY,CAAC,uBAAuB,GAAG,KAAK,CAAC;iBAC9C;aACF;QACH,CAAC,CAAC;IACJ,CAAC;IAED,iDAAiD;IACjD,oEAA4B,GAA5B,UAA6B,UAAU;QACrC,IAAI,aAAa,EAAE,eAAe,EAAE,UAAU,EAAE,oBAAoB,EAAE,kBAAkB,CAAC;QACzF,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ,EAAjC,CAAiC,CAAC,CAAC;QACpF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QACtD,IAAI,UAAU,CAAC,QAAQ,KAAK,SAAS,EAAE;YACrC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC;gBAChC,WAAW,EAAE,UAAU,CAAC,SAAS;gBACjC,kBAAkB,EAAE,UAAU,CAAC,eAAe;gBAC9C,SAAS,EAAE,EAAE;gBACb,gBAAgB,EAAE,EAAE;aACrB,CAAC;SACH;aAAM,IAAI,UAAU,CAAC,QAAQ,KAAK,OAAO,EAAE;YAC1C,IAAI,UAAU,CAAC,UAAU,KAAK,IAAI,IAAI,UAAU,CAAC,UAAU,KAAK,SAAS,EAAE;gBACzE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC3B;iBAAM;gBACL,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,OAAO,KAAK,UAAU,CAAC,UAAU,EAAtC,CAAsC,CAAC,CAAC;gBAChG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;gBAC/D,oBAAoB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,oBAAoB,CAAC;gBACjF,kBAAkB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,kBAAkB,CAAC;gBAC7E,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;gBACjE,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,KAAK,UAAU,CAAC,KAAK,EAA9B,CAA8B,CAAC,CAAC;gBAC3E,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;aAC9C;YACD,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC;gBAChC,WAAW,EAAE,EAAE;gBACf,kBAAkB,EAAE,EAAE;gBACtB,SAAS,EAAE,UAAU,CAAC,SAAS;gBAC/B,gBAAgB,EAAE,UAAU,CAAC,eAAe;aAC7C,CAAC;SACH;IACH,CAAC;IAED,gEAAwB,GAAxB;QACE,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,0BAA0B,CAAC,CAAC;IACjE,CAAC;IAED,iEAAyB,GAAzB;QACE,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,0BAA0B,CAAC,CAAC;IACjE,CAAC;IAED,8DAAsB,GAAtB;QACE,IAAI,eAAe,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC;YACH,KAAK,EAAE,wCAAwC;YAC/C,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,KAAK;YACxB,kBAAkB,EAAE,SAAS;YAC7B,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,IAAI;SACpB,EACC,UAAU,SAAS;YACjB,IAAI,SAAS,KAAK,IAAI,EAAE;gBACtB,eAAe,CAAC,yBAAyB,EAAE,CAAC;gBAC5C,eAAe,CAAC,qBAAqB,EAAE,CAAC;aACzC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6DAAqB,GAArB;QACE,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,EAAE;QAClB,IAAI,CAAC,8BAA8B,EAAE,CAAC;QACtC,IAAI,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAChD,YAAY,CAAC,YAAY,EAAE,CAAC;IAC9B,CAAC;IAED,oBAAoB;IACpB,kDAAU,GAAV;QACE,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;QAClC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAChC,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,8BAA8B,EAAE,CAAC;QACtC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,kBAAkB;IAClB,gDAAQ,GAAR;QACE,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC;YAClC,WAAW,EAAE,IAAI,CAAC,SAAS;YAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,kBAAkB,EAAE,IAAI,CAAC,eAAe;YACxC,gBAAgB,EAAE,IAAI,CAAC,eAAe;SACvC,CAAC;QACF,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;IACnC,CAAC;IAED,kBAAkB;IAClB,gDAAQ,GAAR;QACE,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE;YAClC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,YAAY,EAAE,QAAQ,EAAE,MAAM,EAAE,YAAY,EAAE,SAAS,EAAE,SAAS,EAAE,YAAY,EAAE,MAAM,EAAE,IAAI,EAAE,UAAU,EAAE,KAAK,CAAC;YACtH,QAAQ,GAAG,MAAM,CAAC;YAClB,MAAM,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC5C,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;YAC1G,MAAM,GAAG,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;YACxC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,KAAK,MAAM,EAAlB,CAAkB,CAAC,CAAC;YAC5D,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,EAAE;gBACvC,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;oBAC5E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;oBACzF,YAAY,GAAG;wBACb,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,MAAM,EAAE,SAAS;wBACjB,OAAO,EAAE;4BACP,QAAQ,EAAE,IAAI;4BACd,UAAU,EAAE,KAAK;yBAClB;wBACD,MAAM,EAAE;4BACN,MAAM,EAAE,IAAI,CAAC,SAAS;4BACtB,aAAa,EAAE,IAAI,CAAC,eAAe;4BACnC,aAAa,EAAE,CAAC;4BAChB,QAAQ,EAAE,IAAI;4BACd,cAAc,EAAE,IAAI;4BACpB,OAAO,EAAE,IAAI;4BACb,YAAY,EAAE,0EAAO;4BACrB,kBAAkB,EAAE,CAAC;4BACrB,WAAW,EAAE,CAAC;yBACf;qBACF;oBACD,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC,WAAW,CAAC,MAAM,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;oBACrE,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;iBAC3G;qBACI,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;oBAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBAC1E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;oBACvF,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,EAAE;wBAC7E,UAAU,GAAG,IAAI,CAAC;qBACnB;yBAAM;wBACL,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC;qBACzC;oBACD,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;wBACnE,KAAK,GAAG,IAAI,CAAC;qBACd;yBAAM;wBACL,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;qBAC/B;oBACD,YAAY,GAAG;wBACb,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,MAAM,EAAE,OAAO;wBACf,OAAO,EAAE;4BACP,QAAQ,EAAE,IAAI;4BACd,UAAU,EAAE,KAAK;yBAClB;wBACD,MAAM,EAAE;4BACN,MAAM,EAAE,IAAI,CAAC,SAAS;4BACtB,aAAa,EAAE,IAAI,CAAC,eAAe;4BACnC,kBAAkB,EAAE,UAAU;4BAC9B,WAAW,EAAE,KAAK;4BAClB,aAAa,EAAE,CAAC;4BAChB,QAAQ,EAAE,IAAI;4BACd,cAAc,EAAE,IAAI;4BACpB,OAAO,EAAE,IAAI;4BACb,YAAY,EAAE,0EAAO;yBACtB;qBACF;oBACD,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC,WAAW,CAAC,MAAM,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;oBACrE,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;iBAC3G;aACF;iBAAM,IAAI,IAAI,CAAC,iBAAiB,KAAK,MAAM,EAAE;gBAC5C,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;gBAC1C,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;oBAC5E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;oBACzF,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,IAAI,GAAG;wBACL,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;wBACnC,aAAa,EAAE,CAAC;wBAChB,kBAAkB,EAAE,CAAC;wBACrB,WAAW,EAAE,CAAC;wBACd,QAAQ,EAAE,IAAI;wBACd,cAAc,EAAE,IAAI;wBACpB,OAAO,EAAE,IAAI;wBACb,YAAY,EAAE,0EAAO;qBACtB;oBACD,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;oBACpC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC;iBAC1B;qBAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;oBACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBAC1E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;oBACvF,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,EAAE;wBAC7E,UAAU,GAAG,IAAI,CAAC;qBACnB;yBAAM;wBACL,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC;qBACzC;oBACD,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;wBACnE,KAAK,GAAG,IAAI,CAAC;qBACd;yBAAM;wBACL,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;qBAC/B;oBACD,IAAI,GAAG;wBACL,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;wBACnC,kBAAkB,EAAE,UAAU;wBAC9B,WAAW,EAAE,KAAK;wBAClB,aAAa,EAAE,CAAC;wBAChB,QAAQ,EAAE,IAAI;wBACd,cAAc,EAAE,IAAI;wBACpB,OAAO,EAAE,IAAI;wBACb,YAAY,EAAE,0EAAO;qBACtB;oBACD,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;oBACpC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC;iBAC1B;aACF;YACD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,EAAE,SAAS,EAAE,IAAI,CAAC,CAAC;YACzD,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC;YAC3C,YAAY,CAAC,YAAY,EAAE,CAAC;YAC5B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACjC,IAAI,CAAC,yBAAyB,EAAE,CAAC;YACjC,IAAI,CAAC,8BAA8B,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE;YACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,OAAO;SACR;IACH,CAAC;IAED,oBAAoB;IACpB,kDAAU,GAAV;QACE,IAAI,MAAM,EAAE,SAAS,EAAE,YAAY,CAAC;QACpC,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;QAClC,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC;QACxC,MAAM,GAAG,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;QACxC,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,MAAM,CAAC,CAAC;QACzC,SAAS,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;QACzH,IAAI,CAAC,0BAA0B,CAAC,SAAS,CAAC,CAAC;QAC3C,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,MAAM,CAAC;IACzB,CAAC;IAED,qCAAqC;IACrC,qEAA6B,GAA7B;QACE,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE,IAAI;YACjD,UAAU,CAAC;gBACT,IAAI,IAAI,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;gBACzH,QAAQ,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC;YAC5C,CAAC,EAAE,GAAG,CAAC,CAAC;QACV,CAAC,CAAC,CAAC;IACL,CAAC;IAED,iDAAS,GAAT,UAAU,KAAK;QACb,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;YACzC,OAAO,KAAK,CAAC;SACd;aAAM;YACL,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC;SACrB;IACH,CAAC;IAES,+DAAuB,GAAjC,UAAkC,MAAiD;QAAnF,iBAEC;QADC,MAAM,CAAC,SAAS,CAAC,UAAC,GAAkC,IAAK,YAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAvB,CAAuB,EAAE,UAAC,MAAyB,IAAK,YAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAxB,CAAwB,CAAC,CAAC;IAC7I,CAAC;IAED,mDAAW,GAAX;QACE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,wEAAK,CAAC;QAC5C,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,sDAAc,GAAd;QACE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,yEAAM,CAAC;QAC7C,IAAI,CAAC,kBAAkB,EAAE,CAAC;IAC5B,CAAC;IAED,0DAAkB,GAAlB;QACE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;IAC/G,CAAC;IAES,qDAAa,GAAvB,UAAwB,GAAkC;QACxD,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,oCAAoC,EAAE,SAAS,CAAC;QAChF,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,8BAA8B,EAAE,CAAC;QACtC,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;IAClC,CAAC;IAES,mDAAW,GAArB,UAAsB,GAAsB;QAC1C,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,sCAAsC,EAAE,OAAO,CAAC;IAClF,CAAC;IAEO,gEAAwB,GAAhC;QACE,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED,sCAAsC;IACtC,kEAA0B,GAA1B,UAA2B,IAAI;QAC7B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;YAC1F,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,kGAAkG,EAAE,OAAO,CAAC,CAAC;YAC7I,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B;aAAM,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;YAClD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC3B;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpD,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YAC7C,2DAA2D;YAC3D,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACrC,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;YACtC,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YACvC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,GAAG,CAAC,EAAE;gBACzF,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,kGAAkG,EAAE,OAAO,CAAC,CAAC;gBAC7I,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC1B;SACF;QACD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IAC7E,CAAC;IAES,+CAAO,GAAjB,UAAkB,YAAoB;QACpC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;IAED,uDAAe,GAAf;QACE,IAAI,IAAI,CAAC,eAAe,CAAC,MAAM,GAAG,CAAC,EAAE;YACnC,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC;YAC/C,IAAI,IAAI,CAAC,gBAAgB,EAAE;gBACzB,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;aACrD;iBAAM;gBACL,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,YAAY,CAAC;aACrD;SACF;IACH,CAAC;IAED,8CAAM,GAAN;QACE,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC;YACH,KAAK,EAAE,oCAAoC;YAC3C,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,KAAK;YACxB,kBAAkB,EAAE,SAAS;YAC7B,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,IAAI;SACpB,EACC,UAAU,SAAS;YACjB,IAAI,SAAS,EAAE;gBACb,QAAQ,CAAC,WAAW,EAAE,CAAC;gBACvB,QAAQ,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;aACzC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mDAAW,GAAX;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IAChD,CAAC;IAjmBU,6BAA6B;QAJzC,+DAAS,CAAC;;YAET,SAAS,EAAE,CAAC,8EAAqB,CAAC;SACnC,CAAC;+EAiCkB,sDAAM;YACD,0DAAW;YACT,2EAAa;YACV,gFAAiB;YACb,8EAAqB;YAC5B,8DAAc;YACf,2EAAa;YACV,+DAAiB;OAvCjC,6BAA6B,CAkmBzC;IAAD,oCAAC;CAAA;AAlmByC;;;;;;;;;;;;;;;;;;;;;;ACnBQ;AAEO;AAEO;AAClB;AACoB;AASlE;IAEI,uCACW,MAAc,EACd,cAA8B,EAC3B,YAA6B,EAChC,qBAA4C,EACzC,aAA4B;QAJ/B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC3B,iBAAY,GAAZ,YAAY,CAAiB;QAChC,0BAAqB,GAArB,qBAAqB,CAAuB;QACzC,kBAAa,GAAb,aAAa,CAAe;IACtC,CAAC;IAEL,gDAAQ,GAAR;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,UAAC,EAAkB;gBAAhB,kCAAc;YAChD,KAAI,CAAC,oBAAoB,CAAC,cAAc,CAAC,CAAC;QAC9C,CAAC,CAAC,CAAC;IACP,CAAC;IAES,iEAAyB,GAAnC,UAAoC,IAAmC;QAAvE,iBAEC;QADG,IAAI,CAAC,SAAS,CAAC,UAAC,GAAsB,IAAK,YAAI,CAAC,eAAe,CAAC,GAAG,CAAC,EAAzB,CAAyB,EAAE,UAAC,GAAsB,IAAK,YAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAvB,CAAuB,CAAC,CAAC;IAC/H,CAAC;IAED,4DAAoB,GAApB,UAAqB,cAAc;QAC/B,IAAI,eAAe,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC;YACD,KAAK,EAAE,+CAA+C;YACtD,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,KAAK;YACxB,kBAAkB,EAAE,SAAS;YAC7B,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,KAAK;YACrB,aAAa,EAAE,IAAI;SACtB,EACG,UAAU,SAAS;YACf,IAAI,SAAS,EAAE;gBACX,eAAe,CAAC,aAAa,CAAC,cAAc,CAAC,EAAE,CAAC,CAAC;aACpD;iBAAM;gBACH,eAAe,CAAC,WAAW,EAAE,CAAC;aACjC;QACL,CAAC,CAAC,CAAC;IACX,CAAC;IAED,qDAAa,GAAb,UAAc,EAAU;QACpB,IAAI,CAAC,yBAAyB,CAAC,IAAI,CAAC,qBAAqB,CAAC,MAAM,CAAC,EAAE,CAAC,CAAC,CAAC;IAC1E,CAAC;IAED,mDAAW,GAAX;QACI,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IAClD,CAAC;IAES,uDAAe,GAAzB,UAA0B,IAAI;QAC1B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,sCAAsC,EAAE,SAAS,CAAC,CAAC;QACnF,IAAI,CAAC,WAAW,EAAE,CAAC;IACvB,CAAC;IAED,qDAAa,GAAb,UAAc,GAAsB;QAChC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,wDAAwD,EAAE,OAAO,CAAC;IACtG,CAAC;IAxDQ,6BAA6B;QAJzC,+DAAS,CAAC;;YAEP,SAAS,EAAE,CAAC,8EAAqB,CAAC;SACrC,CAAC;+EAIqB,sDAAM;YACE,8DAAc;YACb,2DAAe;YACT,8EAAqB;YAC1B,2EAAa;OAPjC,6BAA6B,CA0DzC;IAAD,oCAAC;CAAA;AA1DyC;;;;;;;;;;;;ACf1C,s+BAAs+B,UAAU,0DAA0D,iBAAiB,0HAA0H,UAAU,0DAA0D,iBAAiB,8LAA8L,UAAU,gDAAgD,iBAAiB,yCAAyC,YAAY,oCAAoC,OAAO,iE;;;;;;;;;;;;;;;;;;;;;ACAjkD;AACO;AAEQ;AAED;AACK;AASrE;IAWE,wCACS,aAA4B,EAC5B,iBAAoC,EACpC,qBAA4C,EAC5C,cAA8B,EAC9B,MAAc;QAJd,kBAAa,GAAb,aAAa,CAAe;QAC5B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,mBAAc,GAAd,cAAc,CAAgB;QAC9B,WAAM,GAAN,MAAM,CAAQ;QAfvB,mBAAc,GAAsB,EAAE,CAAC;QAiBrC,IAAI,CAAC,MAAM,GAAG,KAAK,CAAC;IACtB,CAAC;IAED,iDAAQ,GAAR;QAAA,iBAOC;QANC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;QACpC,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,UAAC,EAAkB;gBAAhB,kCAAc;YAClD,KAAI,CAAC,cAAc,GAAG,cAAc,CAAC;YACrC,KAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,iBAAiB,EAAE,CAAC;IAC3B,CAAC;IAED,mEAA0B,GAA1B,UAA2B,cAAiC;QAC1D,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,WAAW,EAAE,IAAI,CAAC,cAAc,EAAE,KAAK,CAAC,CAAC;QACnE,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,CAAC;IAClD,CAAC;IAED,mEAA0B,GAA1B;QACE,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC,WAAW,CAAC;aACX,EAAE,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE,IAAI;YACrC,IAAI,CAAC,EAAE,CAAC,EAAE,YAAY,CAAC;YACvB,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAChD,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACvC,IAAI,YAAY,CAAC,QAAQ,KAAK,MAAM,EAAE;oBACpC,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC5C,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;iBAC3D;qBACI,IAAI,YAAY,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC5C,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC5C,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;iBAC3D;qBAAM,IAAI,YAAY,CAAC,QAAQ,KAAK,OAAO,EAAE;oBAC5C,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC5C,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;oBAC1D,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;oBAC/C,IAAI,YAAY,KAAK,IAAI,EAAE;wBACzB,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;qBAChC;yBAAM;wBACL,YAAY,CAAC,UAAU,GAAG,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,KAAK,YAAY,EAAxB,CAAwB,CAAC,CAAC,OAAO,CAAC;qBACtG;oBACD,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;iBAC/C;qBAAM;oBACL,YAAY,CAAC,QAAQ,GAAG,EAAE;iBAC3B;aACF;QACH,CAAC,CAAC;IACN,CAAC;IAED,wDAAe,GAAf;QACE,IAAI,CAAC,0BAA0B,EAAE,CAAC;IACpC,CAAC;IAED,wDAAe,GAAf;QACE,IAAI,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QAC3B,IAAI,IAAI,CAAC,MAAM,EAAE;YACf,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,WAAW,CAAC,CAAC;SACpD;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,WAAW,CAAC;SACpD;IACH,CAAC;IAED,0DAAiB,GAAjB;QAAA,iBAKC;QAJC,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,CAAC,SAAS,CACvD,UAAC,GAAoC,IAAK,YAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAnC,CAAmC,EAC7E,UAAC,GAAsB,IAAK,YAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAAzB,CAAyB,CACtD;IACH,CAAC;IAED,6DAAoB,GAApB,UAAqB,IAAuB;QAC1C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,gDAAO,GAAP,UAAQ,OAAO;QACb,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,OAAO,EAAE,OAAO,CAAC;IACnD,CAAC;IAED,+CAAM,GAAN;QACE,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC;YACH,KAAK,EAAE,oCAAoC;YAC3C,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,KAAK;YACxB,kBAAkB,EAAE,SAAS;YAC7B,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,IAAI;SACpB,EACC,UAAU,SAAS;YACjB,IAAI,SAAS,EAAE;gBACb,QAAQ,CAAC,WAAW,EAAE,CAAC;gBACvB,QAAQ,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;aACzC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,oDAAW,GAAX;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC;IAC/C,CAAC;IArHU,8BAA8B;QAJ1C,+DAAS,CAAC;;YAET,SAAS,EAAE,CAAC,8EAAqB,CAAC;SACnC,CAAC;+EAawB,2EAAa;YACT,gFAAiB;YACb,8EAAqB;YAC5B,8DAAc;YACtB,sDAAM;OAhBZ,8BAA8B,CAsH1C;IAAD,qCAAC;CAAA;AAtH0C;;;;;;;;;;;;ACf3C,yiCAAyiC,gEAAgE,sBAAsB,4CAA4C,uBAAuB,+9C;;;;;;;;;;;;;;;;;;;;;;;ACAroC;AACpB;AACoB;AAEzB;AAC6B;AAEtB;AAEqB;AAShE;IAYE,uCACS,OAAe,EACf,qBAA4C,EACzC,YAA6B,EAC7B,UAAyB,EACzB,gBAA2B,EAC9B,aAA4B;QAL5B,YAAO,GAAP,OAAO,CAAQ;QACf,0BAAqB,GAArB,qBAAqB,CAAuB;QACzC,iBAAY,GAAZ,YAAY,CAAiB;QAC7B,eAAU,GAAV,UAAU,CAAe;QACzB,qBAAgB,GAAhB,gBAAgB,CAAW;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAEnC,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,YAAY,GAAG,sDAAc,CAAC;QACnC,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,KAAK,GAAG;YACX,IAAI,EAAE,CAAC;SACR,CAAC;QACF,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC;QACtB,IAAI,CAAC,OAAO,GAAG,KAAK,CAAC;IACvB,CAAC;IAED,6CAAK,GAAL;QACE,IAAI,CAAC,IAAI,GAAG,CAAC,CAAC;QACd,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,CAAC;IAED,gDAAQ,GAAR,UAAS,IAAI;QACX,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,mBAAmB,EAAE,CAAC;IAC7B,CAAC;IAED,gDAAQ,GAAR;QAAA,iBAMC;QALC,IAAI,CAAC,mBAAmB,EAAE,CAAC;QAC3B,IAAI,CAAC,gBAAgB,CAAC,QAAQ,EAAE,CAAC,IAAI,CAAC,iBAAO;YAC3C,KAAI,CAAC,cAAc,GAAG,OAAO,CAAC;QAChC,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,+BAA+B,EAAE,CAAC;IACzC,CAAC;IAED,mDAAW,GAAX;QACE,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC;IAClD,CAAC;IAED,+CAAO,GAAP,UAAQ,KAAa,EAAE,IAAqB;QAC1C,OAAO,IAAI,CAAC,EAAE,CAAC;IACjB,CAAC;IAED,4CAAI,GAAJ;QACE,IAAM,MAAM,GAAG,CAAC,IAAI,CAAC,SAAS,GAAG,GAAG,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC,CAAC,MAAM,CAAC,CAAC,CAAC;QACxE,IAAI,IAAI,CAAC,SAAS,KAAK,IAAI,EAAE;YAC3B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;SACnB;QACD,OAAO,MAAM,CAAC;IAChB,CAAC;IAED,uEAA+B,GAA/B;QAAA,iBAEC;QADC,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,SAAS,CAAC,gCAAgC,EAAE,kBAAQ,IAAI,YAAI,CAAC,KAAK,EAAE,EAAZ,CAAY,CAAC,CAAC;IACjH,CAAC;IAED,2DAAmB,GAAnB;QAAA,iBAWC;QAVC,IAAI,CAAC,qBAAqB;aACvB,KAAK,CAAC;YACL,IAAI,EAAE,IAAI,CAAC,IAAI;YACf,IAAI,EAAE,IAAI,CAAC,YAAY;YACvB,IAAI,EAAE,IAAI,CAAC,IAAI,EAAE;SAClB,CAAC;aACD,SAAS,CACR,UAAC,GAAoC,IAAK,YAAI,CAAC,uBAAuB,CAAC,GAAG,CAAC,IAAI,EAAE,GAAG,CAAC,OAAO,CAAC,EAAnD,CAAmD,EAC7F,UAAC,GAAsB,IAAK,YAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAAzB,CAAyB,CACtD,CAAC;IACN,CAAC;IAES,+DAAuB,GAAjC,UAAkC,IAAuB,EAAE,OAAoB;QAC7E,IAAI,CAAC,KAAK,GAAG,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,OAAO,CAAC,GAAG,CAAC,MAAM,CAAC,CAAC,CAAC;QACxD,IAAI,CAAC,UAAU,GAAG,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,eAAe,CAAC,EAAE,EAAE,CAAC,CAAC;QAC7D,IAAI,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE;YACnB,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;gBACpC,IAAI,CAAC,eAAe,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,CAAC;aACpC;SACF;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,kBAAkB,EAAE,SAAS,CAAC,CAAC;SAChE;IACH,CAAC;IAES,+CAAO,GAAjB,UAAkB,YAAoB;QACpC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;IAhGU,6BAA6B;QAJzC,+DAAS,CAAC;;YAET,SAAS,EAAE,CAAC,8EAAqB,CAAC;SACnC,CAAC;+EAckB,sDAAM;YACQ,8EAAqB;YAC3B,2DAAe;YACjB,yDAAa;YACP,+CAAS;YACf,2EAAa;OAlB1B,6BAA6B,CAiGzC;IAAD,oCAAC;CAAA;AAjGyC;;;;;;;;;;;;;;;;;;;;;;AClBQ;AAEO;AACI;AAEG;AACE;AAOlE;IAEI,wCACW,MAAc,EACd,cAA8B,EAC9B,qBAA4C,EACzC,aAA4B;QAH/B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,0BAAqB,GAArB,qBAAqB,CAAuB;QACzC,kBAAa,GAAb,aAAa,CAAe;IAG1C,CAAC;IAED,iDAAQ,GAAR;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,UAAC,EAAkB;gBAAhB,kCAAc;YAChD,KAAI,CAAC,qBAAqB,CAAC,cAAc,CAAC,CAAC;QAC/C,CAAC,CAAC,CAAC;IACP,CAAC;IAES,gEAAuB,GAAjC,UAAkC,MAAiD;QAAnF,iBAEC;QADG,MAAM,CAAC,SAAS,CAAC,UAAC,GAAkC,IAAK,YAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAvB,CAAuB,EAAE,UAAC,MAAyB,IAAK,YAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAxB,CAAwB,CAAC,CAAC;IAC/I,CAAC;IAED,8DAAqB,GAArB,UAAsB,cAAc;QAChC,cAAc,CAAC,MAAM,GAAG,yEAAM,CAAC;QAC/B,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,qBAAqB,CAAC,0BAA0B,CAAC,cAAc,CAAC,CAAC,CAAC;QACpG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IAClD,CAAC;IAGD,sDAAa,GAAb,UAAc,IAAmC;QAC7C,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,yEAAM,EAAE;YAC7B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,wCAAwC,EAAE,SAAS,CAAC;SACvF;IACL,CAAC;IAED,oDAAW,GAAX,UAAY,MAAyB;QACjC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,yCAAyC,EAAE,OAAO,CAAC;IACvF,CAAC;IApCQ,8BAA8B;QAJ1C,+DAAS,CAAC;;YAEP,SAAS,EAAE,CAAC,8EAAqB,CAAC;SACrC,CAAC;+EAIqB,sDAAM;YACE,8DAAc;YACP,8EAAqB;YAC1B,2EAAa;OANjC,8BAA8B,CAsC1C;IAAD,qCAAC;CAAA;AAtC0C;;;;;;;;;;;;;;;;;;;;;;ACbO;AAEO;AACM;AAEC;AACE;AAOlE;IAEI,0CACW,MAAc,EACd,cAA8B,EAC9B,qBAA4C,EACzC,aAA4B;QAH/B,WAAM,GAAN,MAAM,CAAQ;QACd,mBAAc,GAAd,cAAc,CAAgB;QAC9B,0BAAqB,GAArB,qBAAqB,CAAuB;QACzC,kBAAa,GAAb,aAAa,CAAe;IACtC,CAAC;IAEL,mDAAQ,GAAR;QAAA,iBAIC;QAHG,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,UAAC,EAAkB;gBAAhB,kCAAc;YAChD,KAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;QACjD,CAAC,CAAC,CAAC;IACP,CAAC;IAES,kEAAuB,GAAjC,UAAkC,MAAiD;QAAnF,iBAEC;QADG,MAAM,CAAC,SAAS,CAAC,UAAC,GAAkC,IAAK,YAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAvB,CAAuB,EAAE,UAAC,MAAyB,IAAK,YAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAxB,CAAwB,CAAC,CAAC;IAC/I,CAAC;IAED,kEAAuB,GAAvB,UAAwB,cAAc;QAClC,cAAc,CAAC,MAAM,GAAG,2EAAQ,CAAC;QACjC,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,qBAAqB,CAAC,0BAA0B,CAAC,cAAc,CAAC,CAAC,CAAC;QACpG,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IAClD,CAAC;IAGD,wDAAa,GAAb,UAAc,IAAmC;QAC7C,IAAI,IAAI,CAAC,IAAI,CAAC,MAAM,KAAK,2EAAQ,EAAE;YAC/B,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,0CAA0C,EAAE,SAAS,CAAC;SACzF;IACL,CAAC;IAED,sDAAW,GAAX,UAAY,MAAyB;QACjC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,2CAA2C,EAAE,OAAO,CAAC;IACzF,CAAC;IAlCQ,gCAAgC;QAJ5C,+DAAS,CAAC;;YAEP,SAAS,EAAE,CAAC,8EAAqB,CAAC;SACrC,CAAC;+EAIqB,sDAAM;YACE,8DAAc;YACP,8EAAqB;YAC1B,2EAAa;OANjC,gCAAgC,CAoC5C;IAAD,uCAAC;CAAA;AApC4C;;;;;;;;;;;;ACb7C,ygEAAygE,mEAAmE,ilBAAilB,0EAA0E,y0DAAy0D,UAAU,mLAAmL,UAAU,0KAA0K,WAAW,uDAAuD,iBAAiB,mHAAmH,WAAW,oDAAoD,iBAAiB,6CAA6C,YAAY,wCAAwC,OAAO,smFAAsmF,gBAAgB,geAAge,iBAAiB,2jGAA2jG,iBAAiB,kUAAkU,iBAAiB,gsB;;;;;;;;;;;;;;;;;;;;;;;;ACAjtX;AAC3B;AACwB;AAIhB;AACD;AACyC;AAEzC;AACK;AASrE;IA+BE,uCACU,MAAc,EACd,WAAwB,EACxB,aAA4B,EAC7B,iBAAoC,EACpC,qBAA4C,EAC5C,cAA8B,EAC9B,aAA4B,EAC3B,eAAkC;QAPlC,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QAC7B,sBAAiB,GAAjB,iBAAiB,CAAmB;QACpC,0BAAqB,GAArB,qBAAqB,CAAuB;QAC5C,mBAAc,GAAd,cAAc,CAAgB;QAC9B,kBAAa,GAAb,aAAa,CAAe;QAC3B,oBAAe,GAAf,eAAe,CAAmB;QAnC5C,oBAAe,GAAsB,EAAE,CAAC;QACxC,mBAAc,GAAkB,EAAE,CAAC;QACnC,cAAS,GAAU,EAAE,CAAC;QACtB,WAAM,GAAU,EAAE,CAAC;QAkCjB,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;QAChC,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;QACzB,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;IAChC,CAAC;IAED,uDAAe,GAAf;QAAA,iBAIC;QAHC,IAAI,CAAC,aAAa,CAAC,kBAAkB,EAAE,CAAC,SAAS,CAAC,UAAC,YAAiB;YAClE,KAAI,CAAC,SAAS,GAAG,YAAY,CAAC,cAAc,CAAC;QAC/C,CAAC,CAAC,CAAC;IACL,CAAC;IAED,gDAAQ,GAAR;QAAA,iBAUC;QATC,IAAI,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;QACpC,IAAI,CAAC,yBAAyB,EAAE,CAAC;QACjC,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAC7B,IAAI,CAAC,cAAc,CAAC,IAAI,CAAC,SAAS,CAAC,UAAC,EAAkB;gBAAhB,kCAAc;YAClD,KAAI,CAAC,0BAA0B,CAAC,cAAc,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;QACH,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,iBAAiB,EAAE,CAAC;QACzB,IAAI,CAAC,8BAA8B,EAAE,CAAC;IACxC,CAAC;IAED,iEAAyB,GAAzB;QACE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAC/C,kBAAkB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;YACjH,yBAAyB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SACrG,CAAC,CAAC;QACH,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;YAChD,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAChC,kBAAkB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;YAC7F,SAAS,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC;YAC9B,gBAAgB,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,CAAC,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC;SAC5F,CAAC;IACJ,CAAC;IAED,sBAAI,sDAAW;aAAf,cAAoB,OAAO,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAC9D,sBAAI,2DAAgB;aAApB,cAAyB,OAAO,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC,CAAC,CAAC;;;OAAA;IAEpE,yDAAiB,GAAjB;QAAA,iBAKC;QAJC,IAAI,CAAC,iBAAiB,CAAC,sBAAsB,EAAE,CAAC,SAAS,CACvD,UAAC,GAAoC,IAAK,YAAI,CAAC,oBAAoB,CAAC,GAAG,CAAC,IAAI,CAAC,EAAnC,CAAmC,EAC7E,UAAC,GAAsB,IAAK,YAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,EAAzB,CAAyB,CACtD;IACH,CAAC;IAED,4DAAoB,GAApB,UAAqB,IAAuB;QAC1C,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC;IAC7B,CAAC;IAED,kEAA0B,GAA1B,UAA2B,cAA+B;QACxD,IAAI,CAAC,uBAAuB,CAAC,cAAc,CAAC,CAAC;QAC7C,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,mBAAmB,EAAE,cAAc,EAAE,KAAK,CAAC,CAAC;QACtE,IAAI,CAAC,WAAW,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC;QAC/C,IAAI,CAAC,kBAAkB,GAAG,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,CAAC;QAC7D,IAAI,CAAC,kBAAkB,CAAC,QAAQ,CAAC;YAC/B,kBAAkB,EAAE,IAAI,CAAC,WAAW;YACpC,yBAAyB,EAAE,IAAI,CAAC,kBAAkB;SACnD,CAAC,CAAC;IACL,CAAC;IAED,+DAAuB,GAAvB,UAAwB,cAAc;QACpC,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,cAAc,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YAC9C,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,2EAAQ,CAAC;SAC9C;QACD,IAAI,CAAC,cAAc,GAAG,cAAc,CAAC;QACrC,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,EAAE,cAAc,EAAE,IAAI,CAAC,CAAC;IAChE,CAAC;IAED,iDAAS,GAAT,UAAU,KAAK;QACb,IAAI,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAS,EAAE;YACzC,OAAO,KAAK,CAAC;SACd;aAAM;YACL,OAAO,KAAK,CAAC,IAAI,EAAE,CAAC;SACrB;IACH,CAAC;IAED,kEAA0B,GAA1B;QACE,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;QACpF,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;QAClG,IAAI,IAAI,CAAC,WAAW,KAAK,EAAE,IAAI,IAAI,CAAC,WAAW,KAAK,SAAS,IAAI,IAAI,CAAC,WAAW,KAAK,IAAI,EAAE;YAC1F,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACjC;aAAM;YACL,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE;YACnC,IAAI,CAAC,mBAAmB,GAAG,IAAI,CAAC;SACjC;QAED,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE;YACjC,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;SAClC;IACH,CAAC;IAED,yDAAiB,GAAjB;QACE,IAAI,IAAI,EAAE,WAAW,CAAC;QACtB,IAAI,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE;YACjC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;YACxE,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,kBAAkB,CAAC,KAAK,CAAC,yBAAyB,CAAC,CAAC;YACtF,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;YACnC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;YACxC,IAAI,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,WAAW,CAAC;YACtD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,EAAE,IAAI,CAAC,cAAc,EAAE,IAAI,CAAC,CAAC;SACpE;QACD,IAAI,IAAI,CAAC,kBAAkB,CAAC,OAAO,EAAE;YACnC,OAAM;SACP;IACH,CAAC;IAED,uDAAe,GAAf;QACE,IAAI,CAAC,eAAe,EAAE,CAAC;QACvB,IAAI,CAAC,6BAA6B,EAAE,CAAC;IACvC,CAAC;IAED,wDAAgB,GAAhB;QACE,IAAM,UAAU,GAAG,CAAC,yDAAU,CAAC,QAAQ,EAAE,yDAAU,CAAC,SAAS,CAAC,CAAC,CAAC,EAAE,yDAAU,CAAC,SAAS,CAAC,EAAE,CAAC,CAAC,CAAC;QAC5F,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,gBAAgB,CAAC,IAAI,CAAC;YAC3C,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;gBAC/B,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gBACjC,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,aAAa,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;gBACpF,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC,CAAC;aACvE;iBAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;gBACpC,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;gBACjC,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,WAAW,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC;gBAClF,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC,aAAa,EAAE,IAAI,0DAAW,CAAC,EAAE,CAAC,CAAC,CAAC;aACzE;SACF;IACH,CAAC;IAED,0DAAkB,GAAlB;QACE,IAAI,oBAAoB,EAAE,kBAAkB,CAAC;QAC7C,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,EAAE;YAC7E,oBAAoB,GAAG,IAAI,CAAC;YAC5B,kBAAkB,GAAG,IAAI,CAAC;SAC3B;aAAM;YACL,oBAAoB,GAAG,IAAI,CAAC,kBAAkB,CAAC,oBAAoB,CAAC;YACpE,kBAAkB,GAAG,IAAI,CAAC,kBAAkB,CAAC,kBAAkB,CAAC;YAChE,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;SAClE;IACH,CAAC;IAED,yDAAiB,GAAjB,UAAkB,GAAG,EAAE,GAAG;QACxB,IAAI,CAAC,MAAM,GAAG,EAAE,CAAC;QACjB,KAAK,IAAI,CAAC,GAAG,GAAG,EAAE,CAAC,IAAI,GAAG,EAAE,CAAC,EAAE,EAAE;YAC/B,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC;gBACf,IAAI,EAAE,CAAC;gBACP,MAAM,EAAE,CAAC;aACV,CAAC,CAAC;SACJ;QACD,OAAO,IAAI,CAAC,MAAM,CAAC;IACrB,CAAC;IAED,uBAAuB;IACvB,sEAA8B,GAA9B;QACE,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE,CAAC;QACjC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;QAC7B,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;QAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;IAC5B,CAAC;IAED,uCAAuC;IACvC,uDAAe,GAAf;QACE,IAAI,YAAY,GAAG,IAAI,CAAC;QACxB,CAAC,CAAC,YAAY,CAAC,CAAC,EAAE,CAAC,gBAAgB,EAAE,UAAU,CAAC,EAAE,IAAI;YACpD,IAAI,CAAC,EAAE,CAAC,CAAC;YACT,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,GAAG,CAAC,EAAE,CAAC,EAAE,EAAE;gBAChD,YAAY,CAAC,QAAQ,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;gBACvC,IAAI,YAAY,CAAC,QAAQ,KAAK,MAAM,EAAE;oBACpC,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBACxC,YAAY,CAAC,uBAAuB,GAAG,KAAK,CAAC;iBAC9C;qBAAM,IAAI,YAAY,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC9C,YAAY,CAAC,uBAAuB,GAAG,IAAI,CAAC;oBAC5C,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBACxC,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;oBACxC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC7C,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;oBAC1D,YAAY,CAAC,4BAA4B,CAAC,YAAY,CAAC,CAAC;iBACzD;qBAAM,IAAI,YAAY,CAAC,QAAQ,KAAK,OAAO,EAAE;oBAC5C,YAAY,CAAC,mBAAmB,GAAG,IAAI,CAAC;oBACxC,YAAY,CAAC,uBAAuB,GAAG,IAAI,CAAC;oBAC5C,YAAY,CAAC,MAAM,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,EAAE,CAAC;oBACxC,YAAY,CAAC,SAAS,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC;oBAC7C,YAAY,CAAC,eAAe,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,WAAW,CAAC;oBAC1D,YAAY,CAAC,YAAY,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,gBAAgB,CAAC;oBAC5D,IAAI,YAAY,CAAC,YAAY,KAAK,IAAI,EAAE;wBACtC,YAAY,CAAC,kBAAkB,GAAG,IAAI,CAAC;wBACvC,YAAY,CAAC,UAAU,GAAG,IAAI,CAAC;qBAChC;yBAAM;wBACL,YAAY,CAAC,UAAU,GAAG,YAAY,CAAC,cAAc,CAAC,IAAI,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,KAAK,YAAY,CAAC,YAAY,EAArC,CAAqC,CAAC,CAAC,OAAO,CAAC;qBACnH;oBACD,YAAY,CAAC,KAAK,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC;oBAC9C,YAAY,CAAC,4BAA4B,CAAC,YAAY,CAAC,CAAC;iBACzD;qBAAM;oBACL,YAAY,CAAC,mBAAmB,GAAG,KAAK,CAAC;oBACzC,YAAY,CAAC,uBAAuB,GAAG,KAAK,CAAC;iBAC9C;aACF;QACH,CAAC,CAAC;IACJ,CAAC;IAED,iDAAiD;IACjD,oEAA4B,GAA5B,UAA6B,UAAU;QACrC,IAAI,aAAa,EAAE,eAAe,EAAE,UAAU,EAAE,oBAAoB,EAAE,kBAAkB,CAAC;QACzF,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,KAAK,UAAU,CAAC,QAAQ,EAAjC,CAAiC,CAAC,CAAC;QACpF,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC,SAAS,CAAC,aAAa,CAAC,CAAC;QACtD,IAAI,UAAU,CAAC,QAAQ,KAAK,SAAS,EAAE;YACrC,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC;gBAChC,WAAW,EAAE,UAAU,CAAC,SAAS;gBACjC,kBAAkB,EAAE,UAAU,CAAC,eAAe;gBAC9C,SAAS,EAAE,EAAE;gBACb,gBAAgB,EAAE,EAAE;aACrB,CAAC;SACH;aAAM,IAAI,UAAU,CAAC,QAAQ,KAAK,OAAO,EAAE;YAC1C,IAAI,UAAU,CAAC,UAAU,KAAK,IAAI,IAAI,UAAU,CAAC,UAAU,KAAK,SAAS,EAAE;gBACzE,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC;gBAC/B,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC;aAC3B;iBAAM;gBACL,eAAe,GAAG,IAAI,CAAC,cAAc,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,OAAO,KAAK,UAAU,CAAC,UAAU,EAAtC,CAAsC,CAAC,CAAC;gBAChG,IAAI,CAAC,kBAAkB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC;gBAC/D,oBAAoB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,oBAAoB,CAAC;gBACjF,kBAAkB,GAAG,IAAI,CAAC,cAAc,CAAC,eAAe,CAAC,CAAC,kBAAkB,CAAC;gBAC7E,IAAI,CAAC,iBAAiB,CAAC,oBAAoB,EAAE,kBAAkB,CAAC,CAAC;gBACjE,UAAU,GAAG,IAAI,CAAC,MAAM,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,IAAI,KAAK,UAAU,CAAC,KAAK,EAA9B,CAA8B,CAAC,CAAC;gBAC3E,IAAI,CAAC,aAAa,GAAG,IAAI,CAAC,MAAM,CAAC,UAAU,CAAC,CAAC;aAC9C;YACD,IAAI,CAAC,mBAAmB,CAAC,QAAQ,CAAC;gBAChC,WAAW,EAAE,EAAE;gBACf,kBAAkB,EAAE,EAAE;gBACtB,SAAS,EAAE,UAAU,CAAC,SAAS;gBAC/B,gBAAgB,EAAE,UAAU,CAAC,eAAe;aAC7C,CAAC;SACH;IACH,CAAC;IAED,mEAA2B,GAA3B;QACE,IAAI,WAAW,EAAE,SAAS,CAAC;QAC3B,WAAW,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;QACzE,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;QACrE,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;YAC/B,IAAI,WAAW,KAAK,EAAE,IAAI,WAAW,KAAK,SAAS,IAAI,WAAW,KAAK,IAAI,EAAE;gBAC3E,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAC9B;iBAAM;gBACL,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aAC/B;SACF;aAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;YACpC,IAAI,SAAS,KAAK,EAAE,IAAI,SAAS,KAAK,SAAS,IAAI,SAAS,KAAK,IAAI,EAAE;gBACrE,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;aAC9B;iBAAM;gBACL,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;aAC/B;SACF;IACH,CAAC;IAED,0DAAkB,GAAlB;QACE,iCAAiC;QACjC,IAAI,CAAC,0BAA0B,EAAE,CAAC;QAClC,mCAAmC;QACnC,IAAI,CAAC,2BAA2B,EAAE,CAAC;QACnC,IAAI,CAAC,eAAe,CAAC,aAAa,EAAE,CAAC;IACvC,CAAC;IAED,oBAAoB;IACpB,kDAAU,GAAV;QACE,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;QAClC,IAAI,CAAC,cAAc,GAAG,SAAS,CAAC;QAChC,IAAI,CAAC,wBAAwB,EAAE,CAAC;QAChC,IAAI,CAAC,8BAA8B,EAAE,CAAC;QACtC,IAAI,CAAC,eAAe,GAAG,KAAK,CAAC;QAC7B,IAAI,CAAC,oBAAoB,GAAG,KAAK,CAAC;QAClC,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;IACrB,CAAC;IAED,kBAAkB;IAClB,gDAAQ,GAAR;QACE,IAAI,CAAC,iBAAiB,GAAG,MAAM,CAAC;QAChC,IAAI,CAAC,cAAc,GAAG,MAAM,CAAC;QAC7B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,CAAC,mBAAmB,CAAC,UAAU,CAAC;YAClC,WAAW,EAAE,IAAI,CAAC,SAAS;YAC3B,SAAS,EAAE,IAAI,CAAC,SAAS;YACzB,kBAAkB,EAAE,IAAI,CAAC,eAAe;YACxC,gBAAgB,EAAE,IAAI,CAAC,eAAe;SACvC,CAAC;QACF,IAAI,CAAC,oBAAoB,GAAG,IAAI,CAAC;QACjC,IAAI,CAAC,wBAAwB,EAAE,CAAC;IAClC,CAAC;IAED,gEAAwB,GAAxB;QACE,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,sBAAsB,CAAC,CAAC;IAC7D,CAAC;IAED,iEAAyB,GAAzB;QACE,IAAI,CAAC,aAAa,CAAC,eAAe,CAAC,sBAAsB,CAAC;IAC5D,CAAC;IAED,8DAAsB,GAAtB;QACE,IAAI,eAAe,GAAG,IAAI,CAAC;QAC3B,IAAI,CAAC;YACH,KAAK,EAAE,wCAAwC;YAC/C,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,KAAK;YACxB,kBAAkB,EAAE,SAAS;YAC7B,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,IAAI;SACpB,EACC,UAAU,SAAS;YACjB,IAAI,SAAS,KAAK,IAAI,EAAE;gBACtB,eAAe,CAAC,yBAAyB,EAAE,CAAC;gBAC5C,eAAe,CAAC,qBAAqB,EAAE,CAAC;aACzC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,6DAAqB,GAArB;QACE,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;QACjC,IAAI,CAAC,QAAQ,GAAG,EAAE;QAClB,IAAI,CAAC,8BAA8B,EAAE,CAAC;QACtC,IAAI,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;QAChD,YAAY,CAAC,YAAY,EAAE,CAAC;IAC9B,CAAC;IAED,kBAAkB;IAClB,gDAAQ,GAAR;QACE,IAAI,IAAI,CAAC,mBAAmB,CAAC,KAAK,EAAE;YAClC,IAAI,CAAC,gBAAgB,GAAG,KAAK,CAAC;YAC9B,IAAI,YAAY,WAAE,QAAQ,WAAE,QAAM,EAAE,YAAY,WAAE,SAAS,WAAE,SAAS,WAAE,YAAY,WAAE,gBAAc,EAAE,IAAI,WAAE,UAAU,WAAE,KAAK,UAAC;YAC9H,QAAQ,GAAG,MAAM,CAAC;YAClB,QAAM,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC;YACnD,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;YAC5C,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;YAC1G,gBAAc,GAAG,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;YAChD,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,KAAK,gBAAc,EAA1B,CAA0B,CAAC,CAAC;YACpE,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,EAAE;gBACvC,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;oBAC5E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;oBACzF,YAAY,GAAG;wBACb,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,MAAM,EAAE,SAAS;wBACjB,OAAO,EAAE;4BACP,QAAQ,EAAE,IAAI;4BACd,UAAU,EAAE,KAAK;yBAClB;wBACD,MAAM,EAAE;4BACN,MAAM,EAAE,IAAI,CAAC,SAAS;4BACtB,aAAa,EAAE,IAAI,CAAC,eAAe;4BACnC,aAAa,EAAE,IAAI;4BACnB,QAAQ,EAAE,IAAI;4BACd,cAAc,EAAE,IAAI;4BACpB,kBAAkB,EAAE,IAAI;4BACxB,WAAW,EAAE,IAAI;4BACjB,YAAY,EAAE,0EAAO;yBACtB;qBACF;oBACD,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC,WAAW,CAAC,QAAM,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;oBACrE,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;iBAC3G;qBACI,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;oBAClC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBAC1E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;oBACvF,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,EAAE;wBAC7E,UAAU,GAAG,IAAI,CAAC;qBACnB;yBAAM;wBACL,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC;qBACzC;oBACD,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;wBACnE,KAAK,GAAG,IAAI,CAAC;qBACd;yBAAM;wBACL,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;qBAC/B;oBACD,YAAY,GAAG;wBACb,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,MAAM,EAAE,OAAO;wBACf,OAAO,EAAE;4BACP,QAAQ,EAAE,IAAI;4BACd,UAAU,EAAE,KAAK;yBAClB;wBACD,MAAM,EAAE;4BACN,MAAM,EAAE,IAAI,CAAC,SAAS;4BACtB,aAAa,EAAE,IAAI,CAAC,eAAe;4BACnC,kBAAkB,EAAE,UAAU;4BAC9B,WAAW,EAAE,KAAK;4BAClB,aAAa,EAAE,IAAI;4BACnB,QAAQ,EAAE,IAAI;4BACd,cAAc,EAAE,IAAI;4BACpB,YAAY,EAAE,0EAAO;yBACtB;qBACF;oBACD,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,EAAE,CAAC,WAAW,CAAC,QAAM,EAAE,YAAY,EAAE,QAAQ,CAAC,CAAC;oBACrE,SAAS,GAAG,YAAY,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;iBAC3G;gBACD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;aAC3B;YAAC,IAAI,IAAI,CAAC,iBAAiB,KAAK,MAAM,EAAE;gBACvC,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;gBAC1C,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC/B,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,WAAW,CAAC,CAAC;oBAC5E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,kBAAkB,CAAC,CAAC;oBACzF,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,IAAI,GAAG;wBACL,IAAI,EAAE,IAAI,CAAC,MAAM;wBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;wBACnC,aAAa,EAAE,IAAI;wBACnB,kBAAkB,EAAE,IAAI;wBACxB,WAAW,EAAE,IAAI;wBACjB,QAAQ,EAAE,IAAI;wBACd,cAAc,EAAE,IAAI;wBACpB,YAAY,EAAE,yEAAM;qBACrB;oBACD,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;oBACpC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC;iBAC1B;qBAAM,IAAI,IAAI,CAAC,QAAQ,KAAK,OAAO,EAAE;oBACpC,IAAI,CAAC,SAAS,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,SAAS,CAAC,CAAC;oBAC1E,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,SAAS,CAAC,IAAI,CAAC,mBAAmB,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;oBACvF,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC,SAAS,CAAC;oBAC3C,IAAI,IAAI,CAAC,kBAAkB,KAAK,IAAI,IAAI,IAAI,CAAC,kBAAkB,KAAK,SAAS,EAAE;wBAC7E,UAAU,GAAG,IAAI,CAAC;qBACnB;yBAAM;wBACL,UAAU,GAAG,IAAI,CAAC,kBAAkB,CAAC,EAAE,CAAC;qBACzC;oBACD,IAAI,IAAI,CAAC,aAAa,KAAK,IAAI,IAAI,IAAI,CAAC,aAAa,KAAK,SAAS,EAAE;wBACnE,KAAK,GAAG,IAAI,CAAC;qBACd;yBAAM;wBACL,KAAK,GAAG,IAAI,CAAC,aAAa,CAAC,EAAE,CAAC;qBAC/B;oBACD,IAAI,GAAG;wBACL,IAAI,EAAE,IAAI,CAAC,MAAM;wBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;wBACnC,kBAAkB,EAAE,UAAU;wBAC9B,WAAW,EAAE,KAAK;wBAClB,aAAa,EAAE,IAAI;wBACnB,QAAQ,EAAE,IAAI;wBACd,cAAc,EAAE,IAAI;wBACpB,YAAY,EAAE,yEAAM;qBACrB;oBACD,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;oBACpC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC;iBAC1B;aACF;iBAAM,IAAI,IAAI,CAAC,iBAAiB,KAAK,QAAQ,EAAE;gBAC9C,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;gBAC1B,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;gBAC1C,IAAI,IAAI,CAAC,QAAQ,KAAK,SAAS,EAAE;oBAC/B,IAAI,GAAG;wBACL,IAAI,EAAE,IAAI,CAAC,MAAM;wBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;wBACnC,aAAa,EAAE,IAAI;wBACnB,kBAAkB,EAAE,IAAI;wBACxB,WAAW,EAAE,IAAI;wBACjB,QAAQ,EAAE,IAAI;wBACd,cAAc,EAAE,IAAI;wBACpB,YAAY,EAAE,0EAAO;qBACtB;oBACD,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;oBACpC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC;oBACzB,YAAY,CAAC,IAAI,GAAG,SAAS,CAAC;oBAC9B,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;oBAC1C,4BAA4B;oBAC5B,IAAI,YAAY,CAAC,SAAS,CAAC,gBAAc,CAAC,KAAK,IAAI,EAAE;wBACnD,IAAI,CAAC,cAAc,CAAC,gBAAc,EAAE,SAAS,CAAC,CAAC;qBAChD;iBACF;qBAAM;oBACL,IAAI,GAAG;wBACL,IAAI,EAAE,IAAI,CAAC,MAAM;wBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;wBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;wBACnC,aAAa,EAAE,IAAI;wBACnB,kBAAkB,EAAE,IAAI,CAAC,YAAY;wBACrC,WAAW,EAAE,IAAI,CAAC,KAAK;wBACvB,QAAQ,EAAE,IAAI;wBACd,cAAc,EAAE,IAAI;wBACpB,YAAY,EAAE,0EAAO;qBACtB;oBACD,YAAY,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC;oBACpC,YAAY,CAAC,IAAI,GAAG,IAAI,CAAC;oBACzB,YAAY,CAAC,IAAI,GAAG,OAAO,CAAC;oBAC5B,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;iBAC3C;aACF;iBAAM;aACN;YACD,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,YAAY,EAAE,SAAS,EAAE,IAAI,CAAC;YACxD,IAAI,CAAC,gBAAgB,CAAC,SAAS,CAAC,CAAC;YACjC,YAAY,CAAC,YAAY,EAAE,CAAC;YAC5B,IAAI,CAAC,QAAQ,GAAG,EAAE,CAAC;YACnB,IAAI,CAAC,mBAAmB,GAAG,KAAK,CAAC;YACjC,IAAI,CAAC,yBAAyB,EAAE;YAChC,IAAI,CAAC,8BAA8B,EAAE,CAAC;SACvC;QACD,IAAI,IAAI,CAAC,mBAAmB,CAAC,OAAO,EAAE;YACpC,IAAI,CAAC,gBAAgB,GAAG,IAAI,CAAC;YAC7B,OAAO;SACR;IACH,CAAC;IAED,oBAAoB;IACpB,kDAAU,GAAV;QACE,IAAI,CAAC,iBAAiB,GAAG,QAAQ,CAAC;QAClC,IAAI,CAAC,QAAQ,EAAE,CAAC;IAClB,CAAC;IAED,kBAAkB;IAClB,sDAAc,GAAd,UAAe,YAAY,EAAE,SAAS;QACpC,IAAI,YAAY,EAAE,WAAW,EAAE,QAAQ,EAAE,YAAY,EAAE,WAAW,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,YAAY,GAAG,EAAE,EAAE,YAAY,GAAG,EAAE,EAAE,YAAY,GAAG,EAAE,EAAE,YAAY,GAAG,EAAE,EAAE,WAAW,GAAG,EAAE,CAAC;QAC7K,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC;QAC3C,WAAW,GAAG,YAAY,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC;QAC1D,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;YAC/C,IAAI,YAAY,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;gBACpD,QAAQ,GAAG,YAAY,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;gBAC1D,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,QAAQ,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oBACpC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,QAAQ,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;oBAC5C,IAAI,YAAY,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;wBACpD,WAAW,GAAG,YAAY,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;wBAC7D,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;4BACvC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;4BAC/C,IAAI,YAAY,CAAC,SAAS,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,EAAE;gCACpD,YAAY,GAAG,YAAY,CAAC,gBAAgB,CAAC,YAAY,CAAC,CAAC,CAAC,CAAC,CAAC;gCAC9D,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,YAAY,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;oCACxC,YAAY,CAAC,IAAI,CAAC,EAAE,IAAI,EAAE,YAAY,CAAC,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC,CAAC;oCAChD,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;iCAClD;6BACF;4BACD,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;yBAClD;qBACF;oBACD,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;iBAClD;aACF;SACF;QACD,IAAI,CAAC,kBAAkB,CAAC,YAAY,EAAE,SAAS,CAAC,CAAC;QACjD,IAAI,CAAC,eAAe,GAAG,SAAS,CAAC;IACnC,CAAC;IAED,sBAAsB;IACtB,0DAAkB,GAAlB,UAAmB,WAAW,EAAE,SAAS;QACvC,IAAI,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,IAAI,CAAC;QACjC,KAAK,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,WAAW,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvC,SAAS,GAAG,SAAS,CAAC,SAAS,CAAC,cAAI,IAAI,WAAI,CAAC,EAAE,KAAK,WAAW,CAAC,CAAC,CAAC,CAAC,EAAE,EAA7B,CAA6B,CAAC,CAAC;YACvE,QAAQ,GAAG,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,CAAC;YACrC,IAAI,QAAQ,KAAK,SAAS,EAAE;gBAC1B,IAAI,GAAG;oBACL,IAAI,EAAE,IAAI,CAAC,MAAM;oBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;oBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;oBACnC,aAAa,EAAE,IAAI;oBACnB,kBAAkB,EAAE,IAAI;oBACxB,WAAW,EAAE,IAAI;oBACjB,QAAQ,EAAE,IAAI;oBACd,cAAc,EAAE,IAAI;oBACpB,YAAY,EAAE,0EAAO;iBACtB;gBACD,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,SAAS,CAAC;gBACtC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;aAC3C;iBAAM;gBACL,IAAI,GAAG;oBACL,IAAI,EAAE,IAAI,CAAC,MAAM;oBACjB,MAAM,EAAE,IAAI,CAAC,SAAS;oBACtB,aAAa,EAAE,IAAI,CAAC,eAAe;oBACnC,aAAa,EAAE,IAAI;oBACnB,kBAAkB,EAAE,IAAI,CAAC,YAAY;oBACrC,WAAW,EAAE,IAAI,CAAC,KAAK;oBACvB,QAAQ,EAAE,IAAI;oBACd,cAAc,EAAE,IAAI;oBACpB,YAAY,EAAE,0EAAO;iBACtB;gBACD,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,IAAI,CAAC;gBACjC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,OAAO,CAAC;gBACpC,SAAS,CAAC,SAAS,CAAC,CAAC,IAAI,GAAG,aAAa,CAAC;aAC3C;SACF;IACH,CAAC;IAED,qCAAqC;IACrC,qEAA6B,GAA7B;QACE,IAAI,QAAQ,GAAG,IAAI,EAAE,IAAI,GAAU,EAAE,CAAC;QACtC,CAAC,CAAC,QAAQ,CAAC,CAAC,EAAE,CAAC,iBAAiB,EAAE,UAAU,CAAC,EAAE,IAAI;YACjD,UAAU,CAAC;gBACT,IAAI,IAAI,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC,CAAC;gBACzH,QAAQ,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC;YAC5C,CAAC,EAAE,GAAG,CAAC,CAAC;QACV,CAAC,CAAC,CAAC;IACL,CAAC;IAES,+DAAuB,GAAjC,UAAkC,MAAiD;QAAnF,iBAEC;QADC,MAAM,CAAC,SAAS,CAAC,UAAC,GAAkC,IAAK,YAAI,CAAC,aAAa,CAAC,GAAG,CAAC,EAAvB,CAAuB,EAAE,UAAC,MAAyB,IAAK,YAAI,CAAC,WAAW,CAAC,MAAM,CAAC,EAAxB,CAAwB,CAAC,CAAC;IAC7I,CAAC;IAES,qDAAa,GAAvB,UAAwB,GAAkC;QACxD,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,oCAAoC,EAAE,SAAS,CAAC;QAChF,IAAI,CAAC,WAAW,EAAE,CAAC;QACnB,IAAI,CAAC,8BAA8B,EAAE,CAAC;QACtC,IAAI,CAAC,kBAAkB,CAAC,KAAK,EAAE,CAAC;IAClC,CAAC;IAES,mDAAW,GAArB,UAAsB,MAAyB;QAC7C,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,sCAAsC,EAAE,OAAO,CAAC;IAClF,CAAC;IAED,mDAAW,GAAX;QACE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,wEAAK,CAAC;QAC5C,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,8BAA8B,EAAE,CAAC;IACxC,CAAC;IAED,sDAAc,GAAd;QACE,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,MAAM,GAAG,yEAAM,CAAC;QAC7C,IAAI,CAAC,kBAAkB,EAAE,CAAC;QAC1B,IAAI,CAAC,8BAA8B,EAAE,CAAC;IACxC,CAAC;IAED,0DAAkB,GAAlB;QACE,IAAI,CAAC,uBAAuB,CAAC,IAAI,CAAC,qBAAqB,CAAC,kBAAkB,CAAC,IAAI,CAAC,wBAAwB,EAAE,CAAC,CAAC,CAAC;IAC/G,CAAC;IAEO,gEAAwB,GAAhC;QACE,OAAO,IAAI,CAAC,eAAe,CAAC;IAC9B,CAAC;IAED,sCAAsC;IACtC,kEAA0B,GAA1B,UAA2B,IAAI;QAC7B,IAAI,CAAC,eAAe,GAAG,EAAE,CAAC;QAC1B,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC;QAC5B,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,SAAS,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,OAAO,EAAE;YAC1F,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,kGAAkG,EAAE,OAAO,CAAC,CAAC;YAC7I,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;SAC1B;aAAM,IAAI,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,EAAE;YAClD,IAAI,CAAC,YAAY,GAAG,KAAK,CAAC;SAC3B;QACD,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,eAAe,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACpD,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,WAAW,GAAG,CAAC,CAAC;YAC7C,2DAA2D;YAC3D,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC;YACrC,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,CAAC;YACtC,OAAO,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC;YACvC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,IAAI,KAAK,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,eAAe,CAAC,CAAC,CAAC,CAAC,MAAM,KAAK,GAAG,CAAC,EAAE;gBACzF,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,kGAAkG,EAAE,OAAO,CAAC,CAAC;gBAC7I,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC;aAC1B;SACF;QAID,IAAI,CAAC,aAAa,CAAC,MAAM,CAAC,kBAAkB,EAAE,IAAI,CAAC,eAAe,EAAE,KAAK,CAAC,CAAC;IAC7E,CAAC;IAED,kEAAkE;IAClE,+EAA+E;IAC/E,wDAAgB,GAAhB,UAAiB,IAAI;QACnB,IAAI,cAAc,EAAE,YAAY,EAAE,WAAW,CAAC;QAC9C,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE;YAClC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,EAAE,KAAK,SAAS,EAAE;gBACjC,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,yEAAM,EAAE;oBACtC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,GAAG,0EAAO;iBAClC;qBAAM,IAAI,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC,UAAU,KAAK,0EAAO,EAAE;oBAC9C,YAAY,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC;oBAC5C,cAAc,GAAG,YAAY,CAAC,YAAY,EAAE,CAAC,CAAC,CAAC,CAAC;oBAChD,YAAY,CAAC,WAAW,CAAC,CAAC,CAAC,GAAG,GAAG,cAAc,CAAC,CAAC;oBACjD,WAAW,GAAG,CAAC,CAAC,YAAY,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,QAAQ,CAAC,GAAG,EAAE,EAAE,QAAQ,EAAE,IAAI,EAAE,UAAU,EAAE,IAAI,EAAE,SAAS,EAAE,IAAI,EAAE,IAAI,EAAE,IAAI,EAAE,CAAC;oBAC3H,IAAI,GAAG,WAAW,CAAC;iBACpB;aACF;QACH,IAAI,CAAC,0BAA0B,CAAC,IAAI,CAAC,CAAC;IACxC,CAAC;IAED,uDAAe,GAAf;QACE,IAAI,CAAC,gBAAgB,GAAG,CAAC,IAAI,CAAC,gBAAgB,CAAC;QAC/C,IAAI,IAAI,CAAC,gBAAgB,EAAE;YACzB,IAAI,CAAC,aAAa,CAAC,kBAAkB,CAAC,YAAY,CAAC,CAAC;SACrD;aAAM;YACL,IAAI,CAAC,aAAa,CAAC,mBAAmB,CAAC,YAAY,CAAC,CAAC;SACtD;IACH,CAAC;IAES,+CAAO,GAAjB,UAAkB,YAAoB;QACpC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,YAAY,EAAE,OAAO,CAAC,CAAC;IACzD,CAAC;IAED,mDAAW,GAAX;QACE,IAAI,CAAC,MAAM,CAAC,aAAa,CAAC,kBAAkB,CAAC,CAAC;IAChD,CAAC;IAED,8CAAM,GAAN;QACE,IAAI,QAAQ,GAAG,IAAI,CAAC;QACpB,IAAI,CAAC;YACH,KAAK,EAAE,oCAAoC;YAC3C,IAAI,EAAE,SAAS;YACf,gBAAgB,EAAE,IAAI;YACtB,iBAAiB,EAAE,KAAK;YACxB,kBAAkB,EAAE,SAAS;YAC7B,gBAAgB,EAAE,IAAI;YACtB,cAAc,EAAE,IAAI;YACpB,aAAa,EAAE,IAAI;SACpB,EACC,UAAU,SAAS;YACjB,IAAI,SAAS,EAAE;gBACb,QAAQ,CAAC,WAAW,EAAE,CAAC;gBACvB,QAAQ,CAAC,aAAa,CAAC,cAAc,EAAE,CAAC;aACzC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IA9uBU,6BAA6B;QAJzC,+DAAS,CAAC;;YAET,SAAS,EAAE,CAAC,8EAAqB,CAAC;SACnC,CAAC;+EAiCkB,sDAAM;YACD,0DAAW;YACT,2EAAa;YACV,gFAAiB;YACb,8EAAqB;YAC5B,8DAAc;YACf,2EAAa;YACV,+DAAiB;OAvCjC,6BAA6B,CA+uBzC;IAAD,oCAAC;CAAA;AA/uByC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACpBuB;AAClB;AACA;AACY;AACJ;AACd;AAM9B;AACuD;AACiB;AACS;AACI;AACb;AAyBnF;IAAA;IAEA,CAAC;IAFY,qBAAqB;QAtBjC,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY,CAAC,QAAQ,CAAC,qDAAmB,CAAC;gBAC1C,0DAAW;gBACX,kEAAmB;gBACnB,oDAAY;gBACZ,4DAAgB;gBAChB,wEAAoB;gBACpB,oEAAS;aACV;YACD,YAAY,EAAE;gBACZ,+DAA6B;gBAC7B,+FAA6B;gBAC7B,+DAA6B;gBAC7B,gEAA8B;gBAC9B,gGAA6B;gBAC7B,yGAA8B;gBAC9B,6GAAgC;aACjC;YACD,OAAO,EAAE,CAAC,oEAAsB,CAAC;SAClC,CAAC;OAEW,qBAAqB,CAEjC;IAAD,4BAAC;CAAA;AAFiC;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACzCS;AAGM;AACX;AACO;AACqB;AACiB;AACE;AACF;AACa;AACb;AACS;AACI;AACb;AAGnF;IACE,+BAAoB,OAA8B;QAA9B,YAAO,GAAP,OAAO,CAAuB;IAAI,CAAC;IAEvD,uCAAO,GAAP,UAAQ,KAA6B,EAAE,KAA0B;QAC/D,IAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC1D,IAAI,EAAE,EAAE;YACN,OAAO,IAAI,CAAC,OAAO,CAAC,qBAAqB,CAAC,EAAE,CAAC,CAAC,IAAI,CAChD,6DAAM,CAAC,UAAC,QAAsC,IAAK,eAAQ,CAAC,EAAE,EAAX,CAAW,CAAC,EAC/D,0DAAG,CAAC,UAAC,cAA4C,IAAK,qBAAc,CAAC,IAAI,EAAnB,CAAmB,CAAC,CAC3E,CAAC;SACH;QACD,OAAO,+CAAE,CAAC,IAAI,0FAAc,EAAE,CAAC,CAAC;IAClC,CAAC;IAZU,qBAAqB;QADjC,gEAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;+EAEJ,8EAAqB;OADvC,qBAAqB,CAajC;IAAD,4BAAC;CAAA;AAbiC;AAgBlC;IACE,uCAAoB,OAA8B;QAA9B,YAAO,GAAP,OAAO,CAAuB;IAAI,CAAC;IAEvD,+CAAO,GAAP,UAAQ,KAA6B,EAAE,KAA0B;QAC/D,IAAM,EAAE,GAAG,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,KAAK,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC,IAAI,CAAC;QAC1D,IAAI,EAAE,EAAE;YACN,OAAO,IAAI,CAAC,OAAO,CAAC,yBAAyB,CAAC,EAAE,CAAC,CAAC,IAAI,CACpD,6DAAM,CAAC,UAAC,QAA2B,IAAK,eAAQ,CAAC,EAAE,EAAX,CAAW,CAAC,EACpD,0DAAG,CAAC,UAAC,cAAiC,IAAK,qBAAc,CAAC,IAAI,EAAnB,CAAmB,CAAC,CAChE,CAAC;SACH;QACD,OAAO,+CAAE,CAAC,IAAI,0FAAc,EAAE,CAAC,CAAC;IAClC,CAAC;IAZU,6BAA6B;QADzC,gEAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;+EAEJ,8EAAqB;OADvC,6BAA6B,CAazC;IAAD,oCAAC;CAAA;AAbyC;AAenC,IAAM,mBAAmB,GAAW;IACzC;QACE,IAAI,EAAE,EAAE;QACR,SAAS,EAAE,+FAA6B;QACxC,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;YAC1B,SAAS,EAAE,yBAAyB;SACrC;QACD,WAAW,EAAE,CAAC,4DAAsB,CAAC;KACtC;IACD;QACE,IAAI,EAAE,QAAQ;QACd,SAAS,EAAE,gGAA6B;QACxC,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;YAC1B,SAAS,EAAE,4BAA4B;SACxC;QACD,WAAW,EAAE,CAAC,4DAAsB,CAAC;KACtC;IACD;QACE,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,+FAA6B;QACxC,OAAO,EAAE;YACP,cAAc,EAAE,6BAA6B;SAC9C;QACD,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;YAC1B,SAAS,EAAE,sBAAsB;YACjC,MAAM,EAAE,MAAM;SACf;QACD,WAAW,EAAE,CAAC,4DAAsB,CAAC;KACtC;IACD;QACE,IAAI,EAAE,UAAU;QAChB,SAAS,EAAE,iGAA8B;QACzC,OAAO,EAAE;YACP,cAAc,EAAE,6BAA6B;SAC9C;QACD,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;YAC1B,SAAS,EAAE,sBAAsB;SAClC;QACD,WAAW,EAAE,CAAC,4DAAsB,CAAC;KACtC;IACD;QACE,IAAI,EAAE,YAAY;QAClB,SAAS,EAAE,gGAA6B;QACxC,OAAO,EAAE;YACP,cAAc,EAAE,qBAAqB;SACtC;QACD,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;YAC1B,SAAS,EAAE,wBAAwB;SACpC;QACD,WAAW,EAAE,CAAC,4DAAsB,CAAC;KACtC;IACD;QACE,IAAI,EAAE,aAAa;QACnB,SAAS,EAAE,yGAA8B;QACzC,OAAO,EAAE;YACP,cAAc,EAAE,qBAAqB;SACtC;QACD,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;YAC1B,SAAS,EAAE,yBAAyB;YACpC,MAAM,EAAE,SAAS;SAClB;QACD,WAAW,EAAE,CAAC,4DAAsB,CAAC;KACtC;IACD;QACE,IAAI,EAAE,eAAe;QACrB,SAAS,EAAE,6GAAgC;QAC3C,OAAO,EAAE;YACP,cAAc,EAAE,qBAAqB;SACtC;QACD,IAAI,EAAE;YACJ,WAAW,EAAE,CAAC,WAAW,CAAC;YAC1B,SAAS,EAAE,2BAA2B;YACtC,MAAM,EAAE,WAAW;SACpB;QACD,WAAW,EAAE,CAAC,4DAAsB,CAAC;KACtC;CACF,CAAC;;;;;;;;;;;;;;;;;;;;;;AClIyC;AACkC;AAEhB;AACb;AAEc;AAK9D,IAAI,OAAO,GAAgB,IAAI,gEAAW,EAAE,CAAC;AAC7C,OAAO,GAAG,OAAO,CAAC,MAAM,CAAC,6BAA6B,EAAE,GAAG,CAAC,CAAC,MAAM,CAAC,8BAA8B,EAAE,GAAG,CAAC,CAAC;AAGzG;IAQE,+BAAsB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;QAN/B,gCAA2B,GAAG,qEAAW,CAAC,OAAO,GAAG,wCAAwC,CAAC;QAC7F,0BAAqB,GAAG,qEAAW,CAAC,OAAO,GAAG,iCAAiC,CAAC;QAChF,8BAAyB,GAAG,qEAAW,CAAC,OAAO,GAAG,uCAAuC,CAAC;QAC1F,oCAA+B,GAAG,qEAAW,CAAC,OAAO,GAAG,8CAA8C,CAAC;QACvG,sCAAiC,GAAG,qEAAW,CAAC,OAAO,GAAG,oDAAoD,CAAC;IAE5E,CAAC;IAE3C,qDAAqB,GAArB,UAAsB,EAAU;QAC9B,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAqB,IAAI,CAAC,yBAAyB,SAAI,EAAI,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IAC5G,CAAC;IAED,oDAAoB,GAApB;QACE,IAAI,OAAO,GAAG;YACZ,QAAQ,EAAE,yEAAM;SACjB,CAAC;QACF,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAoB,IAAI,CAAC,+BAA+B,EAAE,OAAO,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACnH,CAAC;IAED,yDAAyB,GAAzB,UAA0B,EAAU;QAClC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAuB,IAAI,CAAC,iCAAiC,SAAI,EAAI,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACtH,CAAC;IAED,0DAA0B,GAA1B,UAA2B,cAA+B;QACxD,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAkB,IAAI,CAAC,yBAAyB,EAAE,cAAc,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACjH,CAAC;IAED,qCAAK,GAAL,UAAM,GAAS;QACb,IAAM,OAAO,GAAG,mEAAmB,CAAC,GAAG,CAAC,CAAC;QACzC,OAAO,IAAI,CAAC,IAAI,CAAC,GAAG,CAAoB,IAAI,CAAC,yBAAyB,EAAE,EAAE,MAAM,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACpH,CAAC;IAED,sCAAM,GAAN,UAAO,EAAU;QACf,OAAO,IAAI,CAAC,IAAI,CAAC,MAAM,CAAS,IAAI,CAAC,yBAAyB,SAAI,EAAI,EAAE,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IACnG,CAAC;IAED,kDAAkB,GAAlB,UAAmB,cAAiC;QAClD,OAAO,IAAI,CAAC,IAAI,CAAC,IAAI,CAAkB,IAAI,CAAC,iCAAiC,EAAE,cAAc,EAAE,EAAE,OAAO,EAAE,OAAO,EAAE,OAAO,EAAE,UAAU,EAAE,CAAC,CAAC;IAC5I,CAAC;IAxCU,qBAAqB;QADjC,gEAAU,CAAC,EAAE,UAAU,EAAE,MAAM,EAAE,CAAC;+EASL,+DAAU;OAR3B,qBAAqB,CAyCjC;IAAD,4BAAC;CAAA;AAzCiC;;;;;;;;;;;;;ACflC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAmD;AACA;AACA;AACC;AACD;AACQ;AACE;AACrB;;;;;;;;;;;;;ACPxC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAO,IAAM,KAAK,GAAG,OAAO,CAAC;AACtB,IAAM,MAAM,GAAG,QAAQ,CAAC;AACxB,IAAM,QAAQ,GAAG,UAAU,CAAC;AAC5B,IAAM,QAAQ,GAAG,UAAU,CAAC;AAC5B,IAAM,QAAQ,GAAG,UAAU,CAAC;AAC5B,IAAM,OAAO,GAAG,SAAS,CAAC;AAC1B,IAAM,MAAM,GAAG,QAAQ,CAAC;AACxB,IAAM,OAAO,GAAG,SAAS,CAAC;;;;;;;;;;;;;AC0BjC;AAAA;AAAA;IACE,wBACS,EAAW,EACX,KAAc,EACd,WAAoB,EACpB,MAAe,EACf,IAWN,EACM,IAAa,EACb,MAAe,EACf,QAAkB,EAClB,IAAa,EACb,IAAa,EACb,KAAc,EACd,MAAe,EACf,OAAgB,EAChB,YAAqB,EACrB,IAAa,EACb,OAAgB,EAChB,oBAA6B,EAC7B,kBAA2B,EAC3B,MAA0B;QA7B1B,OAAE,GAAF,EAAE,CAAS;QACX,UAAK,GAAL,KAAK,CAAS;QACd,gBAAW,GAAX,WAAW,CAAS;QACpB,WAAM,GAAN,MAAM,CAAS;QACf,SAAI,GAAJ,IAAI,CAWV;QACM,SAAI,GAAJ,IAAI,CAAS;QACb,WAAM,GAAN,MAAM,CAAS;QACf,aAAQ,GAAR,QAAQ,CAAU;QAClB,SAAI,GAAJ,IAAI,CAAS;QACb,SAAI,GAAJ,IAAI,CAAS;QACb,UAAK,GAAL,KAAK,CAAS;QACd,WAAM,GAAN,MAAM,CAAS;QACf,YAAO,GAAP,OAAO,CAAS;QAChB,iBAAY,GAAZ,YAAY,CAAS;QACrB,SAAI,GAAJ,IAAI,CAAS;QACb,YAAO,GAAP,OAAO,CAAS;QAChB,yBAAoB,GAApB,oBAAoB,CAAS;QAC7B,uBAAkB,GAAlB,kBAAkB,CAAS;QAC3B,WAAM,GAAN,MAAM,CAAoB;IAAI,CAAC;IAC1C,qBAAC;AAAD,CAAC","file":"general-subject-general-subject-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpResponse, HttpHeaders, HttpClient } from '@angular/common/http';\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\nimport { environment } from '../../environments/environment';\nimport { createRequestOption } from '../shared';\nimport { Observable } from 'rxjs';\nimport { IOrganisation } from '../shared/model/common/organisation.model';\nimport { ACTIVE } from '../shared/constants/common.constants';\n\ntype EntityResponseType = HttpResponse<ICurriculum>;\ntype EntityArrayResponseType = HttpResponse<ICurriculum[]>;\ntype OrgEntityArrayResponseType = HttpResponse<IOrganisation[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n\n@Injectable({ providedIn: 'root' })\nexport class CurriculumService {\n\n    public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\n    public curriculumResourceUrl = environment.API_URL + 'services/learning/api/curricula';\n\n    constructor(protected http: HttpClient) { }\n\n    createCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\n        return this.http.post<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\n    }\n\n    updateCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\n        return this.http.put<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\n    }\n\n    find(id: number): Observable<EntityResponseType> {\n        return this.http.get<ICurriculum>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    getStandardCurriculums(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        var reqJSON = {\n            \"isExtraCurriculum\": false\n        };\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\n    }\n\n    getCurriculumSearch(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        var reqJSON = {\n            \"isExtraCurriculum\": false,\n            \"status\": ACTIVE\n        };\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\n    }\n\n    delete(id: number): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\n    }\n}\n","module.exports = \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n  </div>\\n</div>\\n\\n<div class=\\\"row-flex stepper\\\">\\n  <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\n    <a class=\\\"nav-link active\\\" id=\\\"createSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createSubject\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"createSubject\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 1\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Create subject\\n      </span>\\n    </a>\\n    <a class=\\\"nav-link disabled\\\" id=\\\"createConcept-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createConcept\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"createConcept\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 2\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Create concepts and topics\\n      </span>\\n    </a>\\n    <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 3\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Summary\\n      </span>\\n    </a>\\n  </div>\\n  <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\n\\n    <div class=\\\"tab-pane fade show active\\\" id=\\\"createSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createSubject-tab\\\">\\n\\n      <form [formGroup]=\\\"generalSubjectForm\\\">\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\n          <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\"\\n            inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"generalSubjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\" />\\n          <div class=\\\"text-muted font-15 my-2\\\">Allowed\\n            characters - Alphabets</div>\\n        </div>\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\n            <span class=\\\"text-muted\\\">(Optional)</span>\\n          </label>\\n          <textarea class=\\\"form-control description-form\\\" name=\\\"description\\\"\\n            placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\"\\n            formControlName=\\\"generalSubjectDescription\\\" maxlength=\\\"250\\\" minlength=\\\"3\\\"></textarea>\\n          <div class=\\\"text-muted font-15 my-2\\\">\\n            Allowed characters - Alphabets, Numbers and\\n            Special characters\\n          </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n            <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\"\\n              (click)=\\\"loadGeneralSubjectTree()\\\">\\n              Next\\n              <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n            </button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n\\n    <div class=\\\"tab-pane fade\\\" id=\\\"createConcept\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createConcept-tab\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-xxl-4 p-2\\\">\\n          <div class=\\\"d-flex justify-content-start mb-2\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\" *ngIf=\\\"updatedJSONTree.length > 1\\\">\\n              <i class=\\\"fa fa-clone mr-2\\\"></i>\\n              <span *ngIf=\\\"enableExpandNode === false\\\">\\n                Expand all\\n              </span>\\n              <span *ngIf=\\\"enableExpandNode === true\\\">\\n                Collapse all\\n              </span>\\n            </div>\\n          </div>\\n          <div id=\\\"buildTree\\\"></div>\\n        </div>\\n        <div class=\\\"col-xxl-8\\\">\\n          <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'topic'\\\" (click)=\\\"createNode()\\\">\\n              <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\n              concept / topic\\n            </div>\\n            <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\n              <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\n            </div>\\n            <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\n              <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\n            </div>\\n          </div>\\n          <div class=\\\"w-100 p-4\\\">\\n            <div *ngIf=\\\"nodeType === 'concept'\\\">\\n              <p><b>Concept name :</b> {{nodeTitle}} </p>\\n              <p><b>Concept description :</b> {{nodeDescription}}</p>\\n            </div>\\n            <div *ngIf=\\\"nodeType === 'topic'\\\">\\n              <p><b>Topic name :</b> {{nodeTitle}}</p>\\n              <p><b>Topic description :</b> {{nodeDescription}}</p>\\n              <p><b>Curriculum :</b> {{curriculum}}</p>\\n              <p><b>Grade :</b> {{grade}}</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"my-2 rounded p-3 border-danger\\\" *ngIf=\\\"enableInstruction\\\">\\n        <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check text-danger mr-2\\\"></i> Select a subject node and do your actions.\\n        </p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Add atleast one concept or one topic for general subject\\n          creation.\\n        </p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't drag and drop on top of\\n          root node\\n        </p>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n          <div class=\\\"btn btn-danger prev-step\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\n          </div>\\n          <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\">\\n            Next\\n            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\n\\n      <div class=\\\"card-body\\\">\\n        <div class=\\\"row mb-3\\\">\\n          <div class=\\\"col-md-6\\\">\\n            <h5>Before changes</h5>\\n            <div id=\\\"beforeChangeTree\\\"></div>\\n          </div>\\n          <div class=\\\"col-md-6\\\">\\n            <h5>After changes</h5>\\n            <div id=\\\"afterChangeTree\\\"></div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n          <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\n            Previous\\n          </span>\\n          <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\n            Save as draft\\n          </div>\\n          <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\n            <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\n            Save and publish\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"generalSubjectEditModal\\\">\\n  <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\" [formGroup]=\\\"conceptAndTopicForm\\\">\\n      <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n        <h5 class=\\\"modal-title text-white\\\">\\n          {{modalTitleName}} concept / topic\\n        </h5>\\n        <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\n          <i class=\\\"fa fa-times\\\"></i>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"form-group mb-2\\\">\\n          <label class=\\\"col-form-label\\\">Type\\n          </label>\\n          <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n            bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\" (change)=\\\"onNodeTypeChange()\\\"\\n            [searchable]=\\\"false\\\">\\n          </ng-select>\\n        </div>\\n        <div *ngIf=\\\"nodeType === 'concept'\\\">\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Concept\\n              name\\n            </label>\\n            <input type=\\\"text\\\" placeholder=\\\"Enter concept name (minlength: 3 and maxlength: 75)\\\" class=\\\"form-control\\\"\\n              formControlName=\\\"conceptName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.conceptName.errors }\\\">\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\n            </div>\\n          </div>\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Concept\\n              description <span class=\\\"text-muted\\\">(Optional)</span>\\n            </label>\\n            <textarea class=\\\"form-control description-form\\\"\\n              placeholder=\\\"Enter description (minlength: 3 and maxlength: 250)\\\" formControlName=\\\"conceptDescription\\\"\\n              minlength=\\\"3\\\" maxlength=\\\"250\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.conceptDescription.errors }\\\"></textarea>\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special characters\\n            </div>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"nodeType === 'topic'\\\">\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Topic\\n              name\\n            </label>\\n            <input type=\\\"text\\\" placeholder=\\\"Enter topic name (minlength: 3 and maxlength: 75)\\\" class=\\\"form-control\\\"\\n              formControlName=\\\"topicName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.topicName.errors }\\\">\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\n            </div>\\n          </div>\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Topic\\n              description <span class=\\\"text-muted\\\">(Optional)</span>\\n            </label>\\n            <textarea class=\\\"form-control description-form\\\"\\n              placeholder=\\\"Enter description(minlength: 3 and maxlength: 250)\\\" formControlName=\\\"topicDescription\\\"\\n              minlength=\\\"3\\\" maxlength=\\\"250\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.topicDescription.errors }\\\"></textarea>\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special characters\\n            </div>\\n          </div>\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Primary\\n              applicable curriculum and\\n              grade\\n            </label>\\n            <div class=\\\"form-row pr-0 mr-0\\\">\\n              <div class=\\\"col-md-6 mb-2\\\">\\n                <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                  placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n                </ng-select>\\n              </div>\\n              <div class=\\\"col-md-6 mb-2\\\">\\n                <ng-select [items]=\\\"grades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                  placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\n                </ng-select>\\n              </div>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\n        <div class=\\\"btn btn-danger\\\" (click)=\\\"resetConceptAndTopicFormValues()\\\">\\n          <i class=\\\"fa fa-times mr-2\\\"></i>\\n          Reset\\n        </div>\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\n          <i class=\\\"fa fa-save mr-2\\\"></i>\\n          Save\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\nimport { GeneralSubjectService } from './general-subject.service'\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { DRAFT, CREATED, ACTIVE } from '../shared/constants/common.constants';\nimport { CommonService } from '../shared/common/common.service';\nimport { CurriculumService } from '../curriculum/curriculum.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n  templateUrl: \"./general-subject-create.component.html\",\n  providers: [GeneralSubjectService]\n})\nexport class GeneralSubjectCreateComponent implements OnInit, AfterViewInit, AfterViewChecked {\n  generalSubjectForm: FormGroup;\n  conceptAndTopicForm: FormGroup;\n  generalSubject: IGeneralSubject;\n  curriculumList: IGeneralSubject[] = [];\n  conceptAndTopicTree: IGeneralSubject[] = [];\n  updatedJSONTree: IGeneralSubject[] = [];\n  nodeTypes: any[] = [];\n  grades: any[] = [];\n  subjectName: string;\n  subjectDescription: string;\n  nodeType: string;\n  nodeTitle: string;\n  nodeDescription: string;\n  curriculum: string;\n  grade: string;\n  nodeOperationType: string;\n  modalTitleName: string;\n  validateSubjectForm: boolean;\n  validateNodeForm: boolean;\n  enableNodeOperation: boolean;\n  enableEditNodeOperation: boolean;\n  enableInstruction: boolean;\n  enableModalOperation: boolean;\n  validateNode: boolean;\n  disableDropdown: boolean;\n  enableExpandNode: boolean;\n  selectedNodeType: any;\n  selectedCurriculum: any;\n  selectedGrade: any;\n\n  constructor(\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private pluginService: PluginService,\n    public curriculumService: CurriculumService,\n    public generalSubjectService: GeneralSubjectService,\n    public activatedRoute: ActivatedRoute,\n    public commonService: CommonService,\n    private changeDetectRef: ChangeDetectorRef\n  ) {\n    this.validateSubjectForm = true;\n    this.validateNode = true;\n    this.validateNodeForm = true;\n    this.enableExpandNode = false;\n  }\n\n  getNodeTypeList() {\n    this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\n      this.nodeTypes = nodeTypeData.generalSubject;\n    });\n  }\n\n  ngOnInit() {\n    this.pluginService.sideMenuToggle();\n    this.createGeneralSubjectGroup();\n    this.pluginService.stepper();\n    this.getCurriculumList();\n    this.getNodeTypeList();\n  }\n\n  createGeneralSubjectGroup() {\n    this.generalSubjectForm = this.formBuilder.group({\n      generalSubjectName: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n      generalSubjectDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\n    });\n    this.conceptAndTopicForm = this.formBuilder.group({\n      conceptName: new FormControl(''),\n      conceptDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)]),\n      topicName: new FormControl(''),\n      topicDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\n    })\n  }\n\n  get formControl() { return this.generalSubjectForm.controls; }\n  get modalFormControl() { return this.conceptAndTopicForm.controls; }\n\n  getCurriculumList() {\n    this.curriculumService.getStandardCurriculums().subscribe(\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\n      (res: HttpErrorResponse) => this.onError(res.message)\n    )\n  }\n\n  assignResponseToList(data: IGeneralSubject[]) {\n    this.curriculumList = data;\n  }\n\n  validateGeneralSubjectForm() {\n    this.subjectName = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\n    this.subjectDescription = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\n    if (this.subjectName === \"\" || this.subjectName === undefined || this.subjectName === null) {\n      this.validateSubjectForm = true;\n    } else {\n      this.validateSubjectForm = false;\n    }\n    if (this.generalSubjectForm.invalid) {\n      this.validateSubjectForm = true;\n    }\n\n    if (this.generalSubjectForm.valid) {\n      this.validateSubjectForm = false;\n    }\n  }\n\n  loadGeneralSubjectTree() {\n    if (this.generalSubjectForm.valid) {\n      this.conceptAndTopicTree = [\n        {\n          \"text\": this.subjectName,\n          \"icon\": \"fa fa-book\",\n          \"data\": {\n            \"name\": this.subjectName,\n            \"description\": this.subjectDescription,\n            \"status\": null,\n            \"curriculumId\": 0,\n            \"grade\": 0,\n            \"editStatus\": CREATED\n          },\n          \"parent\": \"#\",\n          \"type\": \"root\"\n        }\n      ];\n      this.pluginService.jsTree(\"#buildTree\", this.conceptAndTopicTree, true);\n      this.pluginService.jsTree(\"#beforeChangeTree\", this.conceptAndTopicTree, false);\n      this.enableInstruction = true;\n    }\n    if (this.generalSubjectForm.invalid) {\n      return\n    }\n  }\n\n  ngAfterViewInit() {\n    this.nodeOnSelection();\n    this.generateJSONTreeOnDragAndDrop();\n  }\n\n  onNodeTypeChange() {\n    const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\n    if (this.selectedNodeType) {\n      this.nodeType = this.selectedNodeType.name;\n      if (this.nodeType === 'concept') {\n        this.enableModalOperation = true;\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl('', validators));\n        this.conceptAndTopicForm.addControl('topicName', new FormControl(''));\n        this.resetConceptAndTopicFormValues();\n      } else if (this.nodeType === 'topic') {\n        this.enableModalOperation = true;\n        this.conceptAndTopicForm.addControl('topicName', new FormControl('', validators));\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl(''));\n        this.resetConceptAndTopicFormValues();\n      }\n    }\n  }\n\n  onCurriculumChange() {\n    let gradesApplicableFrom, gradesApplicableTo;\n    if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\n      gradesApplicableFrom = null;\n      gradesApplicableTo = null;\n    } else {\n      gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n      gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n      this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n    }\n  }\n\n  generateGradeList(min, max) {\n    this.grades = [];\n    for (var i = min; i <= max; i++) {\n      this.grades.push({\n        \"id\": i,\n        \"name\": i\n      });\n    }\n    return this.grades;\n  }\n\n  //Reset all form values\n  resetConceptAndTopicFormValues() {\n    this.conceptAndTopicForm.reset();\n    this.selectedNodeType = null;\n    this.selectedCurriculum = null;\n    this.selectedGrade = null;\n  }\n\n  validateConceptAndTopicForm() {\n    let conceptName, topicName;\n    conceptName = this.trimValue(this.conceptAndTopicForm.value.conceptName);\n    topicName = this.trimValue(this.conceptAndTopicForm.value.topicName);\n    if (this.nodeType === 'concept') {\n      if (conceptName === \"\" || conceptName === undefined || conceptName === null) {\n        this.validateNodeForm = true;\n      } else {\n        this.validateNodeForm = false;\n      }\n    } else if (this.nodeType === 'topic') {\n      if (topicName === \"\" || topicName === undefined || topicName === null) {\n        this.validateNodeForm = true;\n      } else {\n        this.validateNodeForm = false;\n      }\n    }\n  }\n\n  ngAfterViewChecked() {\n    //General Subject Form Validation\n    this.validateGeneralSubjectForm();\n    //Concept and topic form validation\n    this.validateConceptAndTopicForm();\n    this.changeDetectRef.detectChanges();\n  }\n\n  //Tree selection and change method call\n  nodeOnSelection() {\n    let localThisObj = this;\n    $('#buildTree').on('changed.jstree', function (e, data) {\n      let i, j, curriculumId;\n      for (i = 0, j = data.selected.length; i < j; i++) {\n        localThisObj.nodeType = data.node.type;\n        if (localThisObj.nodeType === \"root\") {\n          localThisObj.enableNodeOperation = true;\n          localThisObj.enableEditNodeOperation = false;\n        } else if (localThisObj.nodeType === \"concept\") {\n          localThisObj.enableEditNodeOperation = true;\n          localThisObj.enableNodeOperation = true;\n          localThisObj.nodeTitle = data.node.data.name;\n          localThisObj.nodeDescription = data.node.data.description;\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\n        } else if (localThisObj.nodeType === \"topic\") {\n          localThisObj.enableNodeOperation = true;\n          localThisObj.enableEditNodeOperation = true;\n          localThisObj.nodeTitle = data.node.data.name;\n          localThisObj.nodeDescription = data.node.data.description;\n          curriculumId = data.node.data.baseCurriculumId;\n          if (curriculumId === null) {\n            localThisObj.selectedCurriculum = null;\n            localThisObj.curriculum = null;\n          } else {\n            localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === curriculumId).acronym;\n          }\n          localThisObj.grade = data.node.data.baseGrade;\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\n        } else {\n          localThisObj.enableNodeOperation = false;\n          localThisObj.enableEditNodeOperation = false;\n        }\n      }\n    })\n  }\n\n  //Concept and topic details form setvalues method\n  conceptAndTopicFormSetValues(Objectthis) {\n    let nodeTypeIndex, curriculumIndex, gradeIndex, gradesApplicableFrom, gradesApplicableTo;\n    nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\n    this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\n    if (Objectthis.nodeType === \"concept\") {\n      this.conceptAndTopicForm.setValue({\n        conceptName: Objectthis.nodeTitle,\n        conceptDescription: Objectthis.nodeDescription,\n        topicName: \"\",\n        topicDescription: \"\"\n      })\n    } else if (Objectthis.nodeType === \"topic\") {\n      if (Objectthis.curriculum === null || Objectthis.curriculum === undefined) {\n        this.selectedCurriculum = null;\n        this.selectedGrade = null;\n      } else {\n        curriculumIndex = this.curriculumList.findIndex(item => item.acronym === Objectthis.curriculum);\n        this.selectedCurriculum = this.curriculumList[curriculumIndex];\n        gradesApplicableFrom = this.curriculumList[curriculumIndex].gradesApplicableFrom;\n        gradesApplicableTo = this.curriculumList[curriculumIndex].gradesApplicableTo;\n        this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n        gradeIndex = this.grades.findIndex(item => item.name === Objectthis.grade);\n        this.selectedGrade = this.grades[gradeIndex];\n      }\n      this.conceptAndTopicForm.setValue({\n        conceptName: \"\",\n        conceptDescription: \"\",\n        topicName: Objectthis.nodeTitle,\n        topicDescription: Objectthis.nodeDescription\n      })\n    }\n  }\n\n  openConceptAndTopicModal() {\n    this.pluginService.showModalWindow(\"#generalSubjectEditModal\");\n  }\n\n  closeConceptAndTopicModal() {\n    this.pluginService.hideModalWindow(\"#generalSubjectEditModal\");\n  }\n\n  closeWithOutSavingNode() {\n    var localthisObject = this;\n    swal({\n      title: \"Are you sure to close without saving ?\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      confirmButtonColor: \"#32b432\",\n      cancelButtonText: \"No\",\n      closeOnConfirm: true,\n      closeOnCancel: true\n    },\n      function (isConfirm) {\n        if (isConfirm === true) {\n          localthisObject.closeConceptAndTopicModal();\n          localthisObject.disableNodeOperations();\n        }\n      });\n  }\n\n  disableNodeOperations() {\n    this.enableNodeOperation = false;\n    this.nodeType = \"\"\n    this.resetConceptAndTopicFormValues();\n    let treeCallback = $('#buildTree').jstree(true);\n    treeCallback.deselect_all();\n  }\n\n  //Create node method\n  createNode() {\n    this.nodeOperationType = \"create\";\n    this.modalTitleName = \"Add new\";\n    this.openConceptAndTopicModal();\n    this.resetConceptAndTopicFormValues();\n    this.disableDropdown = false;\n    this.enableModalOperation = false;\n    this.nodeType = \"\";\n  }\n\n  //Edit node method\n  editNode() {\n    this.nodeOperationType = \"edit\";\n    this.modalTitleName = \"Edit\";\n    this.disableDropdown = true;\n    this.conceptAndTopicForm.patchValue({\n      conceptName: this.nodeTitle,\n      topicName: this.nodeTitle,\n      conceptDescription: this.nodeDescription,\n      topicDescription: this.nodeDescription\n    })\n    this.openConceptAndTopicModal();\n    this.enableModalOperation = true;\n  }\n\n  //Save node method\n  saveNode() {\n    if (this.conceptAndTopicForm.valid) {\n      this.validateNodeForm = false;\n      var newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, nodeID, data, curriculum, grade;\n      position = 'last';\n      parent = $('#buildTree').jstree('get_selected')[0];\n      treeCallback = $('#buildTree').jstree(true);\n      jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n      nodeID = treeCallback.get_selected()[0];\n      nodeIndex = jsonArray.findIndex(item => item.id === nodeID);\n      if (this.nodeOperationType === \"create\") {\n        if (this.nodeType === \"concept\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\n          newNodeArray = {\n            \"text\": this.nodeTitle,\n            \"type\": \"concept\",\n            \"state\": {\n              \"opened\": true,\n              \"selected\": false\n            },\n            \"data\": {\n              \"name\": this.nodeTitle,\n              \"description\": this.nodeDescription,\n              \"orderNumber\": 0,\n              \"status\": null,\n              \"curriculumId\": null,\n              \"grade\": null,\n              \"editStatus\": CREATED,\n              \"baseCurriculumId\": 0,\n              \"baseGrade\": 0,\n            }\n          }\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n        }\n        else if (this.nodeType === \"topic\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\n            curriculum = null;\n          } else {\n            curriculum = this.selectedCurriculum.id;\n          }\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\n            grade = null;\n          } else {\n            grade = this.selectedGrade.id;\n          }\n          newNodeArray = {\n            \"text\": this.nodeTitle,\n            \"type\": \"topic\",\n            \"state\": {\n              \"opened\": true,\n              \"selected\": false\n            },\n            \"data\": {\n              \"name\": this.nodeTitle,\n              \"description\": this.nodeDescription,\n              \"baseCurriculumId\": curriculum,\n              \"baseGrade\": grade,\n              \"orderNumber\": 0,\n              \"status\": null,\n              \"curriculumId\": null,\n              \"grade\": null,\n              \"editStatus\": CREATED\n            }\n          }\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n        }\n      } else if (this.nodeOperationType === \"edit\") {\n        this.nodeType = jsonArray[nodeIndex].type;\n        if (this.nodeType === \"concept\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          data = {\n            \"name\": this.nodeTitle,\n            \"description\": this.nodeDescription,\n            \"orderNumber\": 0,\n            \"baseCurriculumId\": 0,\n            \"baseGrade\": 0,\n            \"status\": null,\n            \"curriculumId\": null,\n            \"grade\": null,\n            \"editStatus\": CREATED\n          }\n          arrayDetails = jsonArray[nodeIndex];\n          arrayDetails.data = data;\n        } else if (this.nodeType === \"topic\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\n            curriculum = null;\n          } else {\n            curriculum = this.selectedCurriculum.id;\n          }\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\n            grade = null;\n          } else {\n            grade = this.selectedGrade.id;\n          }\n          data = {\n            \"name\": this.nodeTitle,\n            \"description\": this.nodeDescription,\n            \"baseCurriculumId\": curriculum,\n            \"baseGrade\": grade,\n            \"orderNumber\": 0,\n            \"status\": null,\n            \"curriculumId\": null,\n            \"grade\": null,\n            \"editStatus\": CREATED\n          }\n          arrayDetails = jsonArray[nodeIndex];\n          arrayDetails.data = data;\n        }\n      }\n      this.pluginService.jsTree(\"#buildTree\", jsonArray, true);\n      this.updateJSONTreeWithOrderNum(jsonArray);\n      treeCallback.deselect_all();\n      this.nodeType = \"\";\n      this.enableNodeOperation = false;\n      this.closeConceptAndTopicModal();\n      this.resetConceptAndTopicFormValues();\n    }\n    if (this.conceptAndTopicForm.invalid) {\n      this.validateNodeForm = true;\n      return;\n    }\n  }\n\n  //Delete node method\n  deleteNode() {\n    var nodeID, jsonArray, treeCallback;\n    this.nodeOperationType = \"delete\";\n    treeCallback = $(\"#buildTree\").jstree();\n    nodeID = treeCallback.get_selected()[0];\n    treeCallback.delete_node($('#' + nodeID))\n    jsonArray = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\n    this.updateJSONTreeWithOrderNum(jsonArray);\n    this.enableNodeOperation = false;\n    this.nodeType = \"root\";\n  }\n\n  //Generate JSON tree on drag and drop\n  generateJSONTreeOnDragAndDrop() {\n    var localObj = this;\n    $(document).on('dnd_stop.vakata', function (e, data) {\n      setTimeout(function () {\n        var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n        localObj.updateJSONTreeWithOrderNum(json);\n      }, 100);\n    });\n  }\n\n  trimValue(value) {\n    if (value === null || value === undefined) {\n      return value;\n    } else {\n      return value.trim();\n    }\n  }\n\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\n    result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (ErrRes: HttpErrorResponse) => this.onSaveError(ErrRes));\n  }\n\n  saveAsDraft() {\n    this.updatedJSONTree[0].data.status = DRAFT;\n    this.saveGeneralSubject();\n  }\n\n  saveAndPublish() {\n    this.updatedJSONTree[0].data.status = ACTIVE;\n    this.saveGeneralSubject();\n  }\n\n  saveGeneralSubject() {\n    this.subscribeToSaveResponse(this.generalSubjectService.saveGeneralSubject(this.createGeneralSubjectForm()));\n  }\n\n  protected onSaveSuccess(res: HttpResponse<IGeneralSubject>) {\n    this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\n    this.previousUrl();\n    this.resetConceptAndTopicFormValues();\n    this.generalSubjectForm.reset();\n  }\n\n  protected onSaveError(res: HttpErrorResponse) {\n    this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n  }\n\n  private createGeneralSubjectForm(): IGeneralSubject[] {\n    return this.updatedJSONTree;\n  }\n\n  //update JSON array with order number \n  updateJSONTreeWithOrderNum(json) {\n    this.updatedJSONTree = [];\n    this.updatedJSONTree = json;\n    if (this.updatedJSONTree[0].type === \"concept\" || this.updatedJSONTree[0].type === \"topic\") {\n      this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n      this.validateNode = true;\n    } else if (this.updatedJSONTree[0].type === \"root\") {\n      this.validateNode = false;\n    }\n    for (let i = 0; i < this.updatedJSONTree.length; i++) {\n      this.updatedJSONTree[i].data.orderNumber = i;\n      //Remove unwanted objects (for api call) from the JSON tree\n      delete this.updatedJSONTree[i].state;\n      delete this.updatedJSONTree[i].a_attr;\n      delete this.updatedJSONTree[i].li_attr;\n      if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\n        this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n        this.validateNode = true;\n      }\n    }\n    this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\n  }\n\n  protected onError(errorMessage: string) {\n    this.pluginService.alertMessage(errorMessage, \"error\");\n  }\n\n  toggleTreeNodes() {\n    if (this.updatedJSONTree.length > 1) {\n      this.enableExpandNode = !this.enableExpandNode;\n      if (this.enableExpandNode) {\n        this.pluginService.openJsTreeAllNodes(\"#buildTree\");\n      } else {\n        this.pluginService.closeJsTreeAllNodes(\"#buildTree\")\n      }\n    }\n  }\n\n  onBack() {\n    var localObj = this;\n    swal({\n      title: \"Are you sure to go previous page ?\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      confirmButtonColor: \"#32b432\",\n      cancelButtonText: \"No\",\n      closeOnConfirm: true,\n      closeOnCancel: true\n    },\n      function (isConfirm) {\n        if (isConfirm) {\n          localObj.previousUrl();\n          localObj.pluginService.sideMenuToggle();\n        }\n      });\n  }\n\n  previousUrl() {\n    this.router.navigateByUrl('/general-subject');\n  }\n}","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { JhiEventManager } from 'ng-jhipster';\nimport { GeneralSubjectService } from './general-subject.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./general-subject-manage.component.html\",\n    providers: [GeneralSubjectService]\n})\nexport class GeneralSubjectDeleteComponent implements OnInit {\n\n    constructor(\n        public router: Router,\n        public activatedRoute: ActivatedRoute,\n        protected eventManager: JhiEventManager,\n        public generalSubjectService: GeneralSubjectService,\n        protected pluginService: PluginService\n    ) { }\n\n    ngOnInit() {\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\n            this.deletegeneralSubject(generalSubject);\n        });\n    }\n\n    protected subscribeToDeleteResponse(resp: Observable<HttpResponse<any>>) {\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteSuccess(res), (res: HttpErrorResponse) => this.onDeleteError(res));\n    }\n\n    deletegeneralSubject(generalSubject) {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete this general subject ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: false,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm) {\n                    localthisObject.confirmDelete(generalSubject.id);\n                } else {\n                    localthisObject.previousUrl();\n                }\n            });\n    }\n\n    confirmDelete(id: number) {\n        this.subscribeToDeleteResponse(this.generalSubjectService.delete(id));\n    }\n\n    previousUrl() {\n        this.router.navigateByUrl('/general-subject');\n    }\n\n    protected onDeleteSuccess(resp) {\n        this.pluginService.alertMessage(\"General subject deleted successfully\", \"success\");\n        this.previousUrl();\n    }\n\n    onDeleteError(err: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not delete general subject, please contact admin\", \"error\")\n    }\n\n}","module.exports = \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n  </div>\\n  <a class=\\\"btn btn-success mr-2\\\" [routerLink]=\\\"['/general-subject',subjectId, 'edit' ]\\\">\\n    <i class=\\\"fa fa-edit mr-2\\\"></i>Edit general subject\\n  </a>\\n</div>\\n\\n<div class=\\\"row mb-3 p-3\\\">\\n  <div class=\\\"col-xxl-3\\\">\\n    <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"generalSubject.length > 1\\\">\\n      <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n        <i class=\\\"fa fa-clone mr-2\\\"></i>\\n        <span *ngIf=\\\"active === false\\\">\\n          Expand all\\n        </span>\\n        <span *ngIf=\\\"active === true\\\">\\n          Collapse all\\n        </span>\\n      </div>\\n    </div>\\n    <div id=\\\"treeView\\\"></div>\\n  </div>\\n  <div class=\\\"col-xxl-9\\\">\\n\\n    <div class=\\\"p-3\\\" *ngIf=\\\"nodeType == 'root'\\\">\\n      <p><b>Subject name</b></p>\\n      <p>{{nodeName}}</p>\\n      <p><b>Subject description</b></p>\\n      <p>{{nodeDescription}}</p>\\n    </div>\\n\\n    <div *ngIf=\\\"nodeType == 'concept'\\\" class=\\\"p-3\\\">\\n      <p><b>Concept name</b></p>\\n      <p>{{nodeName}}</p>\\n      <p><b>Concept description</b></p>\\n      <p>{{nodeDescription}}</p>\\n    </div>\\n\\n    <div class=\\\"p-3\\\" *ngIf=\\\"nodeType == 'topic'\\\">\\n      <div class=\\\"d-flex w-100 justify-content-between mb-3\\\">\\n        <div>\\n          <p><b>Topic name</b> - {{nodeName}}</p>\\n          <p><b>Topic description</b> - {{nodeDescription}}</p>\\n          <p><b>Curriculum :</b> {{curriculum}}</p>\\n          <p><b>Grade :</b> {{grade}}</p>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\nimport { GeneralSubjectService } from './general-subject.service'\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { CurriculumService } from '../curriculum/curriculum.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n  templateUrl: \"./general-subject-details.component.html\",\n  providers: [GeneralSubjectService]\n})\nexport class GeneralSubjectDetailsComponent implements OnInit {\n  generalSubject: IGeneralSubject[] = [];\n  curriculumList: IGeneralSubject[];\n  nodeType: string;\n  nodeName: string;\n  nodeDescription: string;\n  subjectId: number;\n  curriculum: string;\n  grade: string;\n  active: boolean;\n\n  constructor(\n    public pluginService: PluginService,\n    public curriculumService: CurriculumService,\n    public generalSubjectService: GeneralSubjectService,\n    public activatedRoute: ActivatedRoute,\n    public router: Router\n  ) {\n    this.active = false;\n  }\n\n  ngOnInit() {\n    this.pluginService.sideMenuToggle();\n    this.activatedRoute.data.subscribe(({ generalSubject }) => {\n      this.generalSubject = generalSubject;\n      this.updateGeneralSubjectValues(generalSubject);\n    });\n    this.getCurriculumList();\n  }\n\n  updateGeneralSubjectValues(generalSubject: IGeneralSubject[]) {\n    this.generalSubject = generalSubject;\n    this.pluginService.jsTree(\"#treeView\", this.generalSubject, false);\n    this.subjectId = this.generalSubject[0].data.id;\n  }\n\n  showConceptAndTopicDetails() {\n    var localThisObj = this;\n    $('#treeView')\n      .on('changed.jstree', function (e, data) {\n        var i, j, curriculumId;\n        for (i = 0, j = data.selected.length; i < j; i++) {\n          localThisObj.nodeType = data.node.type;\n          if (localThisObj.nodeType === \"root\") {\n            localThisObj.nodeName = data.node.data.name;\n            localThisObj.nodeDescription = data.node.data.description;\n          }\n          else if (localThisObj.nodeType === \"concept\") {\n            localThisObj.nodeName = data.node.data.name;\n            localThisObj.nodeDescription = data.node.data.description;\n          } else if (localThisObj.nodeType === \"topic\") {\n            localThisObj.nodeName = data.node.data.name;\n            localThisObj.nodeDescription = data.node.data.description;\n            curriculumId = data.node.data.baseCurriculumId;\n            if (curriculumId === null) {\n              localThisObj.curriculum = null;\n            } else {\n              localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === curriculumId).acronym;\n            }\n            localThisObj.grade = data.node.data.baseGrade;\n          } else {\n            localThisObj.nodeType = \"\"\n          }\n        }\n      })\n  }\n\n  ngAfterViewInit() {\n    this.showConceptAndTopicDetails();\n  }\n\n  toggleTreeNodes() {\n    this.active = !this.active;\n    if (this.active) {\n      this.pluginService.openJsTreeAllNodes(\"#treeView\");\n    } else {\n      this.pluginService.closeJsTreeAllNodes(\"#treeView\")\n    }\n  }\n\n  getCurriculumList() {\n    this.curriculumService.getStandardCurriculums().subscribe(\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\n      (res: HttpErrorResponse) => this.onError(res.message)\n    )\n  }\n\n  assignResponseToList(data: IGeneralSubject[]) {\n    this.curriculumList = data;\n  }\n\n  onError(message) {\n    this.pluginService.alertMessage(message, \"error\")\n  }\n\n  onBack() {\n    var localObj = this;\n    swal({\n      title: \"Are you sure to go previous page ?\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      confirmButtonColor: \"#32b432\",\n      cancelButtonText: \"No\",\n      closeOnConfirm: true,\n      closeOnCancel: true\n    },\n      function (isConfirm) {\n        if (isConfirm) {\n          localObj.previousUrl();\n          localObj.pluginService.sideMenuToggle();\n        }\n      });\n  }\n\n  previousUrl() {\n    this.router.navigateByUrl('/general-subject')\n  }\n}","module.exports = \"<div class=\\\"w-100 d-flex justify-content-end my-3\\\">\\n  <a [routerLink]=\\\"['/general-subject','create']\\\">\\n    <div class=\\\"btn btn-primary\\\">\\n      <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Create new subject\\n    </div>\\n  </a>\\n</div>\\n<div class=\\\"table-responsive\\\" *ngIf=\\\"generalSubjects\\\">\\n  <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"generalSubjectsTable\\\">\\n    <thead>\\n      <tr jhiSort [(predicate)]=\\\"predicate\\\" [(ascending)]=\\\"reverse\\\" [callback]=\\\"reset.bind(this)\\\">\\n        <th jhiSortBy=\\\"title\\\">Subject Name <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\n        <th jhiSortBy=\\\"status\\\">Status <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\n        <th class=\\\"fixed-column\\\">Update status</th>\\n        <th class=\\\"fixed-column\\\">Actions</th>\\n      </tr>\\n    </thead>\\n    <tbody infinite-scroll (scrolled)=\\\"loadPage(page + 1)\\\" [infiniteScrollDisabled]=\\\"page >= links['last']\\\"\\n      [infiniteScrollDistance]=\\\"0\\\">\\n      <tr *ngFor=\\\"let generalSubject of generalSubjects ;trackBy: trackId\\\">\\n        <td data-column=\\\"Subject name\\\">{{generalSubject.title}}</td>\\n        <td data-column=\\\"Status\\\">{{generalSubject.status}}</td>\\n        <td class=\\\"fixed-column\\\" data-column=\\\"Update status\\\">\\n          <a class=\\\"btn btn-outline-success mr-1 mb-1\\\"\\n            *ngIf=\\\"generalSubject.status === 'DRAFT' || generalSubject.status === 'INACTIVE'\\\"\\n            [routerLink]=\\\"['/general-subject', generalSubject.id, 'publish']\\\">\\n            Publish\\n          </a>\\n          <a class=\\\"btn btn-outline-danger mr-1 mb-1\\\" *ngIf=\\\"generalSubject.status === 'ACTIVE'\\\"\\n            [routerLink]=\\\"['/general-subject', generalSubject.id, 'unpublish']\\\">\\n            Unpublish\\n          </a>\\n        </td>\\n        <td class=\\\"fixed-column\\\" data-column=\\\"Actions\\\">\\n          <div>\\n            <a class=\\\"btn btn-outline-info mr-1 btn-icon-size mb-1\\\"\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'view' ]\\\">\\n              <i class=\\\"fa fa-eye\\\"></i>\\n            </a>\\n\\n            <a class=\\\"btn btn-outline-success mr-1 btn-icon-size mb-1\\\"\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'edit' ]\\\">\\n              <i class=\\\"fa fa-edit\\\"></i>\\n            </a>\\n\\n            <div class=\\\"btn btn-outline-danger mr-1 btn-icon-size mb-1\\\"\\n              *ngIf=\\\"generalSubject.status === 'INACTIVE' || generalSubject.status === 'DRAFT'\\\"\\n              [routerLink]=\\\"['/general-subject', generalSubject.id, 'delete']\\\">\\n              <i class=\\\"fa fa-trash\\\"></i>\\n            </div>\\n          </div>\\n        </td>\\n      </tr>\\n    </tbody>\\n  </table>\\n</div>\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Router } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { Subscription } from 'rxjs';\nimport { Principal } from '../core';\nimport { GeneralSubjectService } from './general-subject.service'\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\nimport { ITEMS_PER_PAGE } from '../shared';\nimport { HttpResponse, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n  templateUrl: \"./general-subject-manage.component.html\",\n  providers: [GeneralSubjectService]\n})\nexport class GeneralSubjectManageComponent implements OnInit, OnDestroy {\n  generalSubjects: IGeneralSubject[];\n  eventSubscriber: Subscription;\n  itemsPerPage: number;\n  totalItems: number;\n  totalPages: number;\n  currentAccount: any;\n  predicate: any;\n  reverse: any;\n  page: any;\n  links: any;\n\n  constructor(\n    public _router: Router,\n    public generalSubjectService: GeneralSubjectService,\n    protected eventManager: JhiEventManager,\n    protected parseLinks: JhiParseLinks,\n    protected principalService: Principal,\n    public pluginService: PluginService\n  ) {\n    this.generalSubjects = [];\n    this.itemsPerPage = ITEMS_PER_PAGE;\n    this.page = 0;\n    this.links = {\n      last: 0\n    };\n    this.predicate = 'id';\n    this.reverse = false;\n  }\n\n  reset() {\n    this.page = 0;\n    this.generalSubjects = [];\n    this.loadGeneralSubjects();\n  }\n\n  loadPage(page) {\n    this.page = page;\n    this.loadGeneralSubjects();\n  }\n\n  ngOnInit() {\n    this.loadGeneralSubjects();\n    this.principalService.identity().then(account => {\n      this.currentAccount = account;\n    });\n    this.registerChangeInGeneralSubjects();\n  }\n\n  ngOnDestroy() {\n    this.eventManager.destroy(this.eventSubscriber);\n  }\n\n  trackId(index: number, item: IGeneralSubject) {\n    return item.id;\n  }\n\n  sort() {\n    const result = [this.predicate + ',' + (this.reverse ? 'asc' : 'desc')];\n    if (this.predicate !== 'id') {\n      result.push('id');\n    }\n    return result;\n  }\n\n  registerChangeInGeneralSubjects() {\n    this.eventSubscriber = this.eventManager.subscribe('generalSubjectListModification', response => this.reset());\n  }\n\n  loadGeneralSubjects() {\n    this.generalSubjectService\n      .query({\n        page: this.page,\n        size: this.itemsPerPage,\n        sort: this.sort()\n      })\n      .subscribe(\n        (res: HttpResponse<IGeneralSubject[]>) => this.paginateGeneralSubjects(res.body, res.headers),\n        (res: HttpErrorResponse) => this.onError(res.message)\n      );\n  }\n\n  protected paginateGeneralSubjects(data: IGeneralSubject[], headers: HttpHeaders) {\n    this.links = this.parseLinks.parse(headers.get('link'));\n    this.totalItems = parseInt(headers.get('X-Total-Count'), 10);\n    if (data.length > 0) {\n      for (let i = 0; i < data.length; i++) {\n        this.generalSubjects.push(data[i]);\n      }\n    } else {\n      this.pluginService.alertMessage(\"No data found..!\", \"warning\");\n    }\n  }\n\n  protected onError(errorMessage: string) {\n    this.pluginService.alertMessage(errorMessage, \"error\");\n  }\n}\n\n\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ACTIVE } from '../shared/constants/common.constants'\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { GeneralSubjectService } from './general-subject.service';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\n\n@Component({\n    templateUrl: \"./general-subject-manage.component.html\",\n    providers: [GeneralSubjectService]\n})\nexport class GeneralSubjectPublishComponent implements OnInit {\n\n    constructor(\n        public router: Router,\n        public activatedRoute: ActivatedRoute,\n        public generalSubjectService: GeneralSubjectService,\n        protected pluginService: PluginService\n    ) {\n\n    }\n\n    ngOnInit() {\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\n            this.publishGeneralSubject(generalSubject);\n        });\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\n        result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    publishGeneralSubject(generalSubject) {\n        generalSubject.status = ACTIVE;\n        this.subscribeToSaveResponse(this.generalSubjectService.updateGeneralSubjectStatus(generalSubject));\n        this.router.navigateByUrl('/general-subject');\n    }\n\n\n    onSaveSuccess(resp: HttpResponse<IGeneralSubject>) {\n        if (resp.body.status === ACTIVE) {\n            this.pluginService.alertMessage(\"General subject published successfully\", \"success\")\n        }\n    }\n\n    onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not publish, please contact admin\", \"error\")\n    }\n\n}","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { INACTIVE } from '../shared/constants/common.constants'\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { GeneralSubjectService } from './general-subject.service';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\n\n@Component({\n    templateUrl: \"./general-subject-manage.component.html\",\n    providers: [GeneralSubjectService]\n})\nexport class GeneralSubjectUnpublishComponent implements OnInit {\n\n    constructor(\n        public router: Router,\n        public activatedRoute: ActivatedRoute,\n        public generalSubjectService: GeneralSubjectService,\n        protected pluginService: PluginService\n    ) { }\n\n    ngOnInit() {\n        this.activatedRoute.data.subscribe(({ generalSubject }) => {\n            this.unpublishGeneralSubject(generalSubject);\n        });\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\n        result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    unpublishGeneralSubject(generalSubject) {\n        generalSubject.status = INACTIVE;\n        this.subscribeToSaveResponse(this.generalSubjectService.updateGeneralSubjectStatus(generalSubject));\n        this.router.navigateByUrl('/general-subject');\n    }\n\n\n    onSaveSuccess(resp: HttpResponse<IGeneralSubject>) {\n        if (resp.body.status === INACTIVE) {\n            this.pluginService.alertMessage(\"General subject unpublished successfully\", \"success\")\n        }\n    }\n\n    onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not unpublish, please contact admin\", \"error\")\n    }\n\n}","module.exports = \"<div class=\\\"col-xxl-12 justify-content-between d-flex my-3\\\">\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n  </div>\\n</div>\\n\\n<div class=\\\"row-flex stepper\\\">\\n  <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\n    <a class=\\\"nav-link active\\\" id=\\\"editSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#editSubject\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"editSubject\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 1\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Edit subject\\n      </span>\\n    </a>\\n    <a class=\\\"nav-link disabled\\\" id=\\\"manageConcept-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#manageConcept\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"manageConcept\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 2\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Manage concepts and topics\\n      </span>\\n    </a>\\n    <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 3\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Summary\\n      </span>\\n    </a>\\n  </div>\\n  <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\n\\n    <div class=\\\"tab-pane fade show active\\\" id=\\\"editSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"editSubject-tab\\\">\\n\\n      <form [formGroup]=\\\"generalSubjectForm\\\">\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\n          <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"subjectName\\\"\\n            placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\" inputRestriction=\\\"alphabetsWithSpace\\\"\\n            formControlName=\\\"generalSubjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\"\\n            [ngClass]=\\\"{ 'is-invalid': submitted && formControl.generalSubjectName.errors }\\\" />\\n          <div class=\\\"text-muted font-15 my-2\\\">Allowed\\n            characters - Alphabets</div>\\n        </div>\\n        <div class=\\\"form-group mb-2 col-md-6\\\">\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\n            <span class=\\\"text-muted\\\">(Optional)</span>\\n          </label>\\n          <textarea class=\\\"form-control description-form\\\" id=\\\"description\\\" name=\\\"description\\\"\\n            placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\"\\n            formControlName=\\\"generalSubjectDescription\\\"\\n            [ngClass]=\\\"{ 'is-invalid': submitted && formControl.generalSubjectDescription.errors }\\\" maxlength=\\\"250\\\"\\n            minlength=\\\"3\\\"></textarea>\\n          <div class=\\\"text-muted font-15 my-2\\\">\\n            Allowed characters - Alphabets, Numbers and\\n            Special characters\\n          </div>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n            <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\" (click)=\\\"updateSubjectTree()\\\">\\n              Next\\n              <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n            </button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n\\n    <div class=\\\"tab-pane fade\\\" id=\\\"manageConcept\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"manageConcept-tab\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-xxl-4 p-2\\\">\\n          <div class=\\\"d-flex justify-content-start mb-2\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\" *ngIf=\\\"generalSubject.length > 1\\\">\\n              <i class=\\\"fa fa-clone mr-2\\\"></i>\\n              <span *ngIf=\\\"enableExpandNode === false\\\">\\n                Expand all\\n              </span>\\n              <span *ngIf=\\\"enableExpandNode === true\\\">\\n                Collapse all\\n              </span>\\n            </div>\\n          </div>\\n          <div id=\\\"buildTree\\\"></div>\\n        </div>\\n        <div class=\\\"col-xxl-8\\\">\\n          <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'topic'\\\" (click)=\\\"createNode()\\\">\\n              <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\n              concept / topic\\n            </div>\\n            <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\n              <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\n            </div>\\n            <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\n              <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\n            </div>\\n          </div>\\n          <div class=\\\"w-100 p-4\\\">\\n            <div *ngIf=\\\"nodeType === 'concept'\\\">\\n              <p><b>Concept name :</b> {{nodeTitle}} </p>\\n              <p><b>Concept description :</b> {{nodeDescription}}</p>\\n            </div>\\n            <div *ngIf=\\\"nodeType === 'topic'\\\">\\n              <p><b>Topic name :</b> {{nodeTitle}}</p>\\n              <p><b>Topic description :</b> {{nodeDescription}}</p>\\n              <p><b>Curriculum :</b> {{curriculum}}</p>\\n              <p><b>Grade :</b> {{grade}}</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"my-2 p-3 border-danger rounded\\\">\\n        <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Select a node and do your actions.\\n        </p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Without any changes, you can't update general subject.\\n        </p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't do drag and drop on top\\n          of\\n          root node\\n        </p>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n          <div class=\\\"btn btn-danger prev-step\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\n          </div>\\n          <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\">\\n            Next\\n            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\n      <div class=\\\"card-body\\\">\\n        <div class=\\\"row mb-3\\\">\\n          <div class=\\\"col-md-6\\\">\\n            <h5>Before changes</h5>\\n            <div id=\\\"beforeChangeTree\\\"></div>\\n          </div>\\n          <div class=\\\"col-md-6\\\">\\n            <h5>After changes</h5>\\n            <div id=\\\"afterChangeTree\\\"></div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n          <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\n            Previous\\n          </span>\\n          <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\n            Save as draft\\n          </div>\\n          <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\n            <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\n            Save and publish\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n\\n  </div>\\n</div>\\n\\n<div class=\\\"modal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"generalSubjectModal\\\">\\n  <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\" [formGroup]=\\\"conceptAndTopicForm\\\">\\n      <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n        <h5 class=\\\"modal-title text-white\\\">\\n          {{modalTitleName}} concept / topic\\n        </h5>\\n        <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\n          <i class=\\\"fa fa-times\\\"></i>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <form [formGroup]=\\\"conceptAndTopicForm\\\">\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Type\\n            </label>\\n            <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n              bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\" [searchable]=\\\"false\\\"\\n              (change)=\\\"onNodeTypeChange()\\\">\\n            </ng-select>\\n          </div>\\n          <div *ngIf=\\\"nodeType === 'concept'\\\">\\n            <div class=\\\"form-group mb-2\\\">\\n              <label class=\\\"col-form-label\\\">Concept\\n                name\\n              </label>\\n              <input type=\\\"text\\\" placeholder=\\\"Enter concept name (min length: 3 and max length: 75)\\\"\\n                class=\\\"form-control\\\" formControlName=\\\"conceptName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\"\\n                minlength=\\\"3\\\" maxlength=\\\"75\\\">\\n              <div class=\\\"text-muted font-15 my-2\\\">\\n                Allowed characters - Alphabets, Numbers and Special character (-)\\n              </div>\\n            </div>\\n            <div class=\\\"form-group mb-2\\\">\\n              <label class=\\\"col-form-label\\\">Concept\\n                description <span class=\\\"text-muted\\\">(Optional)</span>\\n              </label>\\n              <textarea class=\\\"form-control description-form\\\"\\n                placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\" formControlName=\\\"conceptDescription\\\"\\n                minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\n              <div class=\\\"text-muted font-15 my-2\\\">\\n                Allowed characters - Alphabets, Numbers and Special characters\\n              </div>\\n            </div>\\n          </div>\\n          <div *ngIf=\\\"nodeType === 'topic'\\\">\\n            <div class=\\\"form-group mb-2\\\">\\n              <label class=\\\"col-form-label\\\">Topic\\n                name\\n              </label>\\n              <input type=\\\"text\\\" placeholder=\\\"Enter topic name(min length: 3 and max length: 75)\\\" class=\\\"form-control\\\"\\n                formControlName=\\\"topicName\\\" inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\">\\n              <div class=\\\"text-muted font-15 my-2\\\">\\n                Allowed characters - Alphabets, Numbers and Special character (-)\\n              </div>\\n            </div>\\n            <div class=\\\"form-group mb-2\\\">\\n              <label class=\\\"col-form-label\\\">Topic\\n                description <span class=\\\"text-muted\\\">(Optional)</span>\\n              </label>\\n              <textarea class=\\\"form-control description-form\\\"\\n                placeholder=\\\"Enter description(min length: 3 and max length: 250)\\\" formControlName=\\\"topicDescription\\\"\\n                minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\n              <div class=\\\"text-muted font-15 my-2\\\">\\n                Allowed characters - Alphabets, Numbers and Special characters\\n              </div>\\n            </div>\\n            <div class=\\\"form-group mb-2\\\">\\n              <label class=\\\"col-form-label\\\">Primary\\n                applicable curriculum and\\n                grade\\n              </label>\\n              <div class=\\\"form-row pr-0 mr-0\\\">\\n                <div class=\\\"col-md-6 mb-2\\\">\\n                  <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                    placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n                  </ng-select>\\n                </div>\\n                <div class=\\\"col-md-6 mb-2\\\">\\n                  <ng-select [items]=\\\"grades\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                    placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\n                  </ng-select>\\n                </div>\\n              </div>\\n            </div>\\n          </div>\\n        </form>\\n      </div>\\n      <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\n        <div class=\\\"btn btn-danger\\\" (click)=\\\"resetConceptAndTopicFormValues()\\\">\\n          <i class=\\\"fa fa-times mr-2\\\"></i>\\n          Reset\\n        </div>\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\n          <i class=\\\"fa fa-save mr-2\\\"></i>\\n          Save\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, AfterViewInit, ChangeDetectorRef } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model'\nimport { GeneralSubjectService } from './general-subject.service'\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { CREATED, DRAFT, ACTIVE, EDITED, NOCHANGE, DELETED } from '../shared/constants/common.constants';\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\nimport { CommonService } from '../shared/common/common.service';\nimport { CurriculumService } from '../curriculum/curriculum.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n  templateUrl: \"./general-subject-update.component.html\",\n  providers: [GeneralSubjectService]\n})\nexport class GeneralSubjectUpdateComponent implements OnInit, AfterViewInit {\n  generalSubjectForm: FormGroup;\n  conceptAndTopicForm: FormGroup;\n  generalSubject: IGeneralSubject;\n  updatedJSONTree: IGeneralSubject[] = [];\n  curriculumList: ICurriculum[] = [];\n  nodeTypes: any[] = [];\n  grades: any[] = [];\n  subjectName: string;\n  subjectDescription: string;\n  nodeType: string;\n  nodeTitle: string;\n  nodeDescription: string;\n  curriculum: string;\n  grade: string;\n  nodeId: string;\n  nodeOperationType: string;\n  modalTitleName: string;\n  curriculumId: number;\n  validateSubjectForm: boolean;\n  enableNodeOperation: boolean;\n  enableEditNodeOperation: boolean;\n  validateNodeForm: boolean;\n  enableModalOperation: boolean;\n  validateNode: boolean;\n  disableDropdown: boolean;\n  enableExpandNode: boolean;\n  selectedNodeType: any;\n  selectedCurriculum: any;\n  selectedGrade: any;\n\n  constructor(\n    private router: Router,\n    private formBuilder: FormBuilder,\n    private pluginService: PluginService,\n    public curriculumService: CurriculumService,\n    public generalSubjectService: GeneralSubjectService,\n    public activatedRoute: ActivatedRoute,\n    public commonService: CommonService,\n    private changeDetectRef: ChangeDetectorRef\n  ) {\n    this.validateSubjectForm = true;\n    this.validateNode = true;\n    this.validateNodeForm = true;\n    this.enableExpandNode = false;\n  }\n\n  getNodeTypeList() {\n    this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\n      this.nodeTypes = nodeTypeData.generalSubject;\n    });\n  }\n\n  ngOnInit() {\n    this.pluginService.sideMenuToggle();\n    this.createGeneralSubjectGroup();\n    this.pluginService.stepper();\n    this.activatedRoute.data.subscribe(({ generalSubject }) => {\n      this.updateGeneralSubjectValues(generalSubject);\n    });\n    this.getNodeTypeList();\n    this.getCurriculumList();\n    this.resetConceptAndTopicFormValues();\n  }\n\n  createGeneralSubjectGroup() {\n    this.generalSubjectForm = this.formBuilder.group({\n      generalSubjectName: new FormControl('', [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n      generalSubjectDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\n    });\n    this.conceptAndTopicForm = this.formBuilder.group({\n      conceptName: new FormControl(''),\n      conceptDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)]),\n      topicName: new FormControl(''),\n      topicDescription: new FormControl('', [Validators.minLength(3), Validators.maxLength(250)])\n    })\n  }\n\n  get formControl() { return this.generalSubjectForm.controls; }\n  get modalFormControl() { return this.conceptAndTopicForm.controls; }\n\n  getCurriculumList() {\n    this.curriculumService.getStandardCurriculums().subscribe(\n      (res: HttpResponse<IGeneralSubject[]>) => this.assignResponseToList(res.body),\n      (res: HttpErrorResponse) => this.onError(res.message)\n    )\n  }\n\n  assignResponseToList(data: IGeneralSubject[]) {\n    this.curriculumList = data;\n  }\n\n  updateGeneralSubjectValues(generalSubject: IGeneralSubject) {\n    this.updateStatusForAllNodes(generalSubject);\n    this.pluginService.jsTree(\"#beforeChangeTree\", generalSubject, false);\n    this.subjectName = generalSubject[0].data.name;\n    this.subjectDescription = generalSubject[0].data.description;\n    this.generalSubjectForm.setValue({\n      generalSubjectName: this.subjectName,\n      generalSubjectDescription: this.subjectDescription\n    });\n  }\n\n  updateStatusForAllNodes(generalSubject) {\n    for (var i = 0; i < generalSubject.length; i++) {\n      generalSubject[i].data.editStatus = NOCHANGE;\n    }\n    this.generalSubject = generalSubject;\n    this.pluginService.jsTree(\"#buildTree\", generalSubject, true);\n  }\n\n  trimValue(value) {\n    if (value === null || value === undefined) {\n      return value;\n    } else {\n      return value.trim();\n    }\n  }\n\n  validateGeneralSubjectForm() {\n    this.subjectName = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\n    this.subjectDescription = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\n    if (this.subjectName === \"\" || this.subjectName === undefined || this.subjectName === null) {\n      this.validateSubjectForm = true;\n    } else {\n      this.validateSubjectForm = false;\n    }\n\n    if (this.generalSubjectForm.invalid) {\n      this.validateSubjectForm = true;\n    }\n\n    if (this.generalSubjectForm.valid) {\n      this.validateSubjectForm = false;\n    }\n  }\n\n  updateSubjectTree() {\n    var name, description;\n    if (this.generalSubjectForm.valid) {\n      name = this.trimValue(this.generalSubjectForm.value.generalSubjectName);\n      description = this.trimValue(this.generalSubjectForm.value.generalSubjectDescription);\n      this.generalSubject[0].text = name;\n      this.generalSubject[0].data.name = name;\n      this.generalSubject[0].data.description = description;\n      this.pluginService.jsTree(\"#buildTree\", this.generalSubject, true);\n    }\n    if (this.generalSubjectForm.invalid) {\n      return\n    }\n  }\n\n  ngAfterViewInit() {\n    this.nodeOnSelection();\n    this.generateJSONTreeOnDragAndDrop();\n  }\n\n  onNodeTypeChange() {\n    const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\n    if (this.selectedNodeType) {\n      this.nodeType = this.selectedNodeType.name;\n      if (this.nodeType === 'concept') {\n        this.enableModalOperation = true;\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl('', validators));\n        this.conceptAndTopicForm.addControl('topicName', new FormControl(''));\n      } else if (this.nodeType === 'topic') {\n        this.enableModalOperation = true;\n        this.conceptAndTopicForm.addControl('topicName', new FormControl('', validators));\n        this.conceptAndTopicForm.addControl('conceptName', new FormControl(''));\n      }\n    }\n  }\n\n  onCurriculumChange() {\n    let gradesApplicableFrom, gradesApplicableTo;\n    if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\n      gradesApplicableFrom = null;\n      gradesApplicableTo = null;\n    } else {\n      gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n      gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n      this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n    }\n  }\n\n  generateGradeList(min, max) {\n    this.grades = [];\n    for (var i = min; i <= max; i++) {\n      this.grades.push({\n        \"id\": i,\n        \"name\": i\n      });\n    }\n    return this.grades;\n  }\n\n  //Reset all form values\n  resetConceptAndTopicFormValues() {\n    this.conceptAndTopicForm.reset();\n    this.selectedNodeType = null;\n    this.selectedCurriculum = null;\n    this.selectedGrade = null;\n  }\n\n  //Tree selection and change method call\n  nodeOnSelection() {\n    let localThisObj = this;\n    $('#buildTree').on('changed.jstree', function (e, data) {\n      let i, j;\n      for (i = 0, j = data.selected.length; i < j; i++) {\n        localThisObj.nodeType = data.node.type;\n        if (localThisObj.nodeType === \"root\") {\n          localThisObj.enableNodeOperation = true;\n          localThisObj.enableEditNodeOperation = false;\n        } else if (localThisObj.nodeType === \"concept\") {\n          localThisObj.enableEditNodeOperation = true;\n          localThisObj.enableNodeOperation = true;\n          localThisObj.nodeId = data.node.data.id;\n          localThisObj.nodeTitle = data.node.data.name;\n          localThisObj.nodeDescription = data.node.data.description;\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\n        } else if (localThisObj.nodeType === \"topic\") {\n          localThisObj.enableNodeOperation = true;\n          localThisObj.enableEditNodeOperation = true;\n          localThisObj.nodeId = data.node.data.id;\n          localThisObj.nodeTitle = data.node.data.name;\n          localThisObj.nodeDescription = data.node.data.description;\n          localThisObj.curriculumId = data.node.data.baseCurriculumId;\n          if (localThisObj.curriculumId === null) {\n            localThisObj.selectedCurriculum = null;\n            localThisObj.curriculum = null;\n          } else {\n            localThisObj.curriculum = localThisObj.curriculumList.find(item => item.id === localThisObj.curriculumId).acronym;\n          }\n          localThisObj.grade = data.node.data.baseGrade;\n          localThisObj.conceptAndTopicFormSetValues(localThisObj);\n        } else {\n          localThisObj.enableNodeOperation = false;\n          localThisObj.enableEditNodeOperation = false;\n        }\n      }\n    })\n  }\n\n  //Concept and topic details form setvalues method\n  conceptAndTopicFormSetValues(Objectthis) {\n    let nodeTypeIndex, curriculumIndex, gradeIndex, gradesApplicableFrom, gradesApplicableTo;\n    nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\n    this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\n    if (Objectthis.nodeType === \"concept\") {\n      this.conceptAndTopicForm.setValue({\n        conceptName: Objectthis.nodeTitle,\n        conceptDescription: Objectthis.nodeDescription,\n        topicName: \"\",\n        topicDescription: \"\"\n      })\n    } else if (Objectthis.nodeType === \"topic\") {\n      if (Objectthis.curriculum === null || Objectthis.curriculum === undefined) {\n        this.selectedCurriculum = null;\n        this.selectedGrade = null;\n      } else {\n        curriculumIndex = this.curriculumList.findIndex(item => item.acronym === Objectthis.curriculum);\n        this.selectedCurriculum = this.curriculumList[curriculumIndex];\n        gradesApplicableFrom = this.curriculumList[curriculumIndex].gradesApplicableFrom;\n        gradesApplicableTo = this.curriculumList[curriculumIndex].gradesApplicableTo;\n        this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n        gradeIndex = this.grades.findIndex(item => item.name === Objectthis.grade);\n        this.selectedGrade = this.grades[gradeIndex];\n      }\n      this.conceptAndTopicForm.setValue({\n        conceptName: \"\",\n        conceptDescription: \"\",\n        topicName: Objectthis.nodeTitle,\n        topicDescription: Objectthis.nodeDescription\n      })\n    }\n  }\n\n  validateConceptAndTopicForm() {\n    let conceptName, topicName;\n    conceptName = this.trimValue(this.conceptAndTopicForm.value.conceptName);\n    topicName = this.trimValue(this.conceptAndTopicForm.value.topicName);\n    if (this.nodeType === 'concept') {\n      if (conceptName === \"\" || conceptName === undefined || conceptName === null) {\n        this.validateNodeForm = true;\n      } else {\n        this.validateNodeForm = false;\n      }\n    } else if (this.nodeType === 'topic') {\n      if (topicName === \"\" || topicName === undefined || topicName === null) {\n        this.validateNodeForm = true;\n      } else {\n        this.validateNodeForm = false;\n      }\n    }\n  }\n\n  ngAfterViewChecked() {\n    //General Subject Form Validation\n    this.validateGeneralSubjectForm();\n    //Concept and topic form validation\n    this.validateConceptAndTopicForm();\n    this.changeDetectRef.detectChanges();\n  }\n\n  //Create node method\n  createNode() {\n    this.nodeOperationType = \"create\";\n    this.modalTitleName = \"Add new\";\n    this.openConceptAndTopicModal();\n    this.resetConceptAndTopicFormValues();\n    this.disableDropdown = false;\n    this.enableModalOperation = false;\n    this.nodeType = \"\";\n  }\n\n  //Edit node method\n  editNode() {\n    this.nodeOperationType = \"edit\";\n    this.modalTitleName = \"Edit\";\n    this.disableDropdown = true;\n    this.conceptAndTopicForm.patchValue({\n      conceptName: this.nodeTitle,\n      topicName: this.nodeTitle,\n      conceptDescription: this.nodeDescription,\n      topicDescription: this.nodeDescription\n    })\n    this.enableModalOperation = true;\n    this.openConceptAndTopicModal();\n  }\n\n  openConceptAndTopicModal() {\n    this.pluginService.showModalWindow(\"#generalSubjectModal\");\n  }\n\n  closeConceptAndTopicModal() {\n    this.pluginService.hideModalWindow(\"#generalSubjectModal\")\n  }\n\n  closeWithOutSavingNode() {\n    var localthisObject = this;\n    swal({\n      title: \"Are you sure to close without saving ?\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      confirmButtonColor: \"#32b432\",\n      cancelButtonText: \"No\",\n      closeOnConfirm: true,\n      closeOnCancel: true\n    },\n      function (isConfirm) {\n        if (isConfirm === true) {\n          localthisObject.closeConceptAndTopicModal();\n          localthisObject.disableNodeOperations();\n        }\n      });\n  }\n\n  disableNodeOperations() {\n    this.enableNodeOperation = false;\n    this.nodeType = \"\"\n    this.resetConceptAndTopicFormValues();\n    let treeCallback = $('#buildTree').jstree(true);\n    treeCallback.deselect_all();\n  }\n\n  //Save node method\n  saveNode() {\n    if (this.conceptAndTopicForm.valid) {\n      this.validateNodeForm = false;\n      let newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, selectedNodeID, data, curriculum, grade;\n      position = 'last';\n      parent = $('#buildTree').jstree('get_selected')[0];\n      treeCallback = $('#buildTree').jstree(true);\n      jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n      selectedNodeID = treeCallback.get_selected()[0];\n      nodeIndex = jsonArray.findIndex(item => item.id === selectedNodeID);\n      if (this.nodeOperationType === \"create\") {\n        if (this.nodeType === \"concept\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\n          newNodeArray = {\n            \"text\": this.nodeTitle,\n            \"type\": \"concept\",\n            \"state\": {\n              \"opened\": true,\n              \"selected\": false\n            },\n            \"data\": {\n              \"name\": this.nodeTitle,\n              \"description\": this.nodeDescription,\n              \"orderNumber\": null,\n              \"status\": null,\n              \"curriculumId\": null,\n              \"baseCurriculumId\": null,\n              \"baseGrade\": null,\n              \"editStatus\": CREATED\n            }\n          }\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n        }\n        else if (this.nodeType === \"topic\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\n            curriculum = null;\n          } else {\n            curriculum = this.selectedCurriculum.id;\n          }\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\n            grade = null;\n          } else {\n            grade = this.selectedGrade.id;\n          }\n          newNodeArray = {\n            \"text\": this.nodeTitle,\n            \"type\": \"topic\",\n            \"state\": {\n              \"opened\": true,\n              \"selected\": false\n            },\n            \"data\": {\n              \"name\": this.nodeTitle,\n              \"description\": this.nodeDescription,\n              \"baseCurriculumId\": curriculum,\n              \"baseGrade\": grade,\n              \"orderNumber\": null,\n              \"status\": null,\n              \"curriculumId\": null,\n              \"editStatus\": CREATED\n            }\n          }\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n          jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n        }\n        this.validateNode = false;\n      } if (this.nodeOperationType === \"edit\") {\n        this.validateNode = false;\n        this.nodeType = jsonArray[nodeIndex].type;\n        if (this.nodeType === \"concept\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.conceptName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.conceptDescription);\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          data = {\n            \"id\": this.nodeId,\n            \"name\": this.nodeTitle,\n            \"description\": this.nodeDescription,\n            \"orderNumber\": null,\n            \"baseCurriculumId\": null,\n            \"baseGrade\": null,\n            \"status\": null,\n            \"curriculumId\": null,\n            \"editStatus\": EDITED\n          }\n          arrayDetails = jsonArray[nodeIndex];\n          arrayDetails.data = data;\n        } else if (this.nodeType === \"topic\") {\n          this.nodeTitle = this.trimValue(this.conceptAndTopicForm.value.topicName);\n          this.nodeDescription = this.trimValue(this.conceptAndTopicForm.value.topicDescription);\n          jsonArray[nodeIndex].text = this.nodeTitle;\n          if (this.selectedCurriculum === null || this.selectedCurriculum === undefined) {\n            curriculum = null;\n          } else {\n            curriculum = this.selectedCurriculum.id;\n          }\n          if (this.selectedGrade === null || this.selectedGrade === undefined) {\n            grade = null;\n          } else {\n            grade = this.selectedGrade.id;\n          }\n          data = {\n            \"id\": this.nodeId,\n            \"name\": this.nodeTitle,\n            \"description\": this.nodeDescription,\n            \"baseCurriculumId\": curriculum,\n            \"baseGrade\": grade,\n            \"orderNumber\": null,\n            \"status\": null,\n            \"curriculumId\": null,\n            \"editStatus\": EDITED\n          }\n          arrayDetails = jsonArray[nodeIndex];\n          arrayDetails.data = data;\n        }\n      } else if (this.nodeOperationType === \"delete\") {\n        this.validateNode = false;\n        this.nodeType = jsonArray[nodeIndex].type;\n        if (this.nodeType === \"concept\") {\n          data = {\n            \"id\": this.nodeId,\n            \"name\": this.nodeTitle,\n            \"description\": this.nodeDescription,\n            \"orderNumber\": null,\n            \"baseCurriculumId\": null,\n            \"baseGrade\": null,\n            \"status\": null,\n            \"curriculumId\": null,\n            \"editStatus\": DELETED\n          }\n          arrayDetails = jsonArray[nodeIndex];\n          arrayDetails.data = data;\n          arrayDetails.type = 'concept';\n          jsonArray[nodeIndex].icon = \"fa fa-trash\";\n          //Update a child node status\n          if (treeCallback.is_parent(selectedNodeID) === true) {\n            this.getChildrenDOM(selectedNodeID, jsonArray);\n          }\n        } else {\n          data = {\n            \"id\": this.nodeId,\n            \"name\": this.nodeTitle,\n            \"description\": this.nodeDescription,\n            \"orderNumber\": null,\n            \"baseCurriculumId\": this.curriculumId,\n            \"baseGrade\": this.grade,\n            \"status\": null,\n            \"curriculumId\": null,\n            \"editStatus\": DELETED\n          }\n          arrayDetails = jsonArray[nodeIndex];\n          arrayDetails.data = data;\n          arrayDetails.type = 'topic';\n          jsonArray[nodeIndex].icon = \"fa fa-trash\";\n        }\n      } else {\n      }\n      this.pluginService.jsTree(\"#buildTree\", jsonArray, true)\n      this.changeNodeStatus(jsonArray);\n      treeCallback.deselect_all();\n      this.nodeType = \"\";\n      this.enableNodeOperation = false;\n      this.closeConceptAndTopicModal()\n      this.resetConceptAndTopicFormValues();\n    }\n    if (this.conceptAndTopicForm.invalid) {\n      this.validateNodeForm = true;\n      return;\n    }\n  }\n\n  //Delete node method\n  deleteNode() {\n    this.nodeOperationType = \"delete\";\n    this.saveNode();\n  }\n\n  //Get children DOM\n  getChildrenDOM(selectedNode, jsonArray) {\n    var treeCallBack, childrenDOM, childDOM, lastChildDOM, subChildDOM, i, j, k, l, childrenIDs1 = [], childrenIDs2 = [], childrenIDs3 = [], childrenIDs4 = [], childrenIDs = [];\n    treeCallBack = $(\"#buildTree\").jstree(true)\n    childrenDOM = treeCallBack.get_children_dom(selectedNode);\n    for (i = 0; i < childrenDOM.length; i++) {\n      childrenIDs1.push({ \"id\": childrenDOM[i].id });\n      if (treeCallBack.is_parent(childrenIDs1[i]) === true) {\n        childDOM = treeCallBack.get_children_dom(childrenIDs1[i]);\n        for (j = 0; j < childDOM.length; j++) {\n          childrenIDs2.push({ \"id\": childDOM[j].id });\n          if (treeCallBack.is_parent(childrenIDs2[j]) === true) {\n            subChildDOM = treeCallBack.get_children_dom(childrenIDs2[j]);\n            for (k = 0; k < subChildDOM.length; k++) {\n              childrenIDs3.push({ \"id\": subChildDOM[k].id });\n              if (treeCallBack.is_parent(childrenIDs3[k]) === true) {\n                lastChildDOM = treeCallBack.get_children_dom(childrenIDs3[k]);\n                for (l = 0; l < lastChildDOM.length; l++) {\n                  childrenIDs4.push({ \"id\": lastChildDOM[l].id });\n                  this.updateDeleteStatus(childrenIDs4, jsonArray);\n                }\n              }\n              this.updateDeleteStatus(childrenIDs3, jsonArray);\n            }\n          }\n          this.updateDeleteStatus(childrenIDs2, jsonArray);\n        }\n      }\n    }\n    this.updateDeleteStatus(childrenIDs1, jsonArray);\n    this.updatedJSONTree = jsonArray;\n  }\n\n  //Update delete status\n  updateDeleteStatus(childrenIDs, jsonArray) {\n    var k, nodeIndex, nodeType, data;\n    for (k = 0; k < childrenIDs.length; k++) {\n      nodeIndex = jsonArray.findIndex(item => item.id === childrenIDs[k].id);\n      nodeType = jsonArray[nodeIndex].type;\n      if (nodeType === \"concept\") {\n        data = {\n          \"id\": this.nodeId,\n          \"name\": this.nodeTitle,\n          \"description\": this.nodeDescription,\n          \"orderNumber\": null,\n          \"baseCurriculumId\": null,\n          \"baseGrade\": null,\n          \"status\": null,\n          \"curriculumId\": null,\n          \"editStatus\": DELETED\n        }\n        jsonArray[nodeIndex].data = data;\n        jsonArray[nodeIndex].type = 'concept';\n        jsonArray[nodeIndex].icon = \"fa fa-trash\";\n      } else {\n        data = {\n          \"id\": this.nodeId,\n          \"name\": this.nodeTitle,\n          \"description\": this.nodeDescription,\n          \"orderNumber\": null,\n          \"baseCurriculumId\": this.curriculumId,\n          \"baseGrade\": this.grade,\n          \"status\": null,\n          \"curriculumId\": null,\n          \"editStatus\": DELETED\n        }\n        jsonArray[nodeIndex].data = data;\n        jsonArray[nodeIndex].type = 'topic';\n        jsonArray[nodeIndex].icon = \"fa fa-trash\";\n      }\n    }\n  }\n\n  //Generate JSON tree on drag and drop\n  generateJSONTreeOnDragAndDrop() {\n    var localObj = this, json: any[] = [];\n    $(document).on('dnd_stop.vakata', function (e, data) {\n      setTimeout(function () {\n        var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n        localObj.updateJSONTreeWithOrderNum(json);\n      }, 100);\n    });\n  }\n\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<IGeneralSubject>>) {\n    result.subscribe((res: HttpResponse<IGeneralSubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n  }\n\n  protected onSaveSuccess(res: HttpResponse<IGeneralSubject>) {\n    this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\n    this.previousUrl();\n    this.resetConceptAndTopicFormValues();\n    this.generalSubjectForm.reset();\n  }\n\n  protected onSaveError(errRes: HttpErrorResponse) {\n    this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n  }\n\n  saveAsDraft() {\n    this.updatedJSONTree[0].data.status = DRAFT;\n    this.saveGeneralSubject();\n    this.resetConceptAndTopicFormValues();\n  }\n\n  saveAndPublish() {\n    this.updatedJSONTree[0].data.status = ACTIVE;\n    this.saveGeneralSubject();\n    this.resetConceptAndTopicFormValues();\n  }\n\n  saveGeneralSubject() {\n    this.subscribeToSaveResponse(this.generalSubjectService.saveGeneralSubject(this.createGeneralSubjectForm()));\n  }\n\n  private createGeneralSubjectForm(): IGeneralSubject[] {\n    return this.updatedJSONTree;\n  }\n\n  //update JSON array with order number \n  updateJSONTreeWithOrderNum(json) {\n    this.updatedJSONTree = [];\n    this.updatedJSONTree = json;\n    if (this.updatedJSONTree[0].type === \"concept\" || this.updatedJSONTree[0].type === \"topic\") {\n      this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n      this.validateNode = true;\n    } else if (this.updatedJSONTree[0].type === \"root\") {\n      this.validateNode = false;\n    }\n    for (let i = 0; i < this.updatedJSONTree.length; i++) {\n      this.updatedJSONTree[i].data.orderNumber = i;\n      //Remove unwanted objects (for api call) from the JSON tree\n      delete this.updatedJSONTree[i].state;\n      delete this.updatedJSONTree[i].a_attr;\n      delete this.updatedJSONTree[i].li_attr;\n      if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\n        this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n        this.validateNode = true;\n      }\n    }\n\n\n\n    this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\n  }\n\n  //If new node is created and edited , status will be created only \n  //If new node is created and deleted , remove an element from the updated array\n  changeNodeStatus(json) {\n    let selectedNodeID, treeCallback, updatedJson;\n    for (let i = 0; i < json.length; i++)\n      if (json[i].data.id === undefined) {\n        if (json[i].data.editStatus === EDITED) {\n          json[i].data.editStatus = CREATED\n        } else if (json[i].data.editStatus === DELETED) {\n          treeCallback = $('#buildTree').jstree(true);\n          selectedNodeID = treeCallback.get_selected()[0];\n          treeCallback.delete_node($('#' + selectedNodeID))\n          updatedJson = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\n          json = updatedJson;\n        }\n      }\n    this.updateJSONTreeWithOrderNum(json);\n  }\n\n  toggleTreeNodes() {\n    this.enableExpandNode = !this.enableExpandNode;\n    if (this.enableExpandNode) {\n      this.pluginService.openJsTreeAllNodes(\"#buildTree\");\n    } else {\n      this.pluginService.closeJsTreeAllNodes(\"#buildTree\");\n    }\n  }\n\n  protected onError(errorMessage: string) {\n    this.pluginService.alertMessage(errorMessage, \"error\");\n  }\n\n  previousUrl() {\n    this.router.navigateByUrl('/general-subject');\n  }\n\n  onBack() {\n    var localObj = this;\n    swal({\n      title: \"Are you sure to go previous page ?\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      confirmButtonColor: \"#32b432\",\n      cancelButtonText: \"No\",\n      closeOnConfirm: true,\n      closeOnCancel: true\n    },\n      function (isConfirm) {\n        if (isConfirm) {\n          localObj.previousUrl();\n          localObj.pluginService.sideMenuToggle();\n        }\n      });\n  }\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { NgJhipsterModule } from 'ng-jhipster';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SharedModule } from '../shared';\nimport {\n  GeneralSubjectManageComponent,\n  GeneralSubjectDetailsComponent,\n  GeneralSubjectUpdateComponent,\n  generalSubjectRoute\n} from '.';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { GeneralSubjectCreateComponent } from './general-subject-create.component';\nimport { GeneralSubjectPublishComponent } from './general-subject-update-publish.component';\nimport { GeneralSubjectUnpublishComponent } from './general-subject-update-unpublish.component';\nimport { GeneralSubjectDeleteComponent } from './general-subject-delete.component';\n\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(generalSubjectRoute),\n    FormsModule,\n    ReactiveFormsModule,\n    SharedModule,\n    NgJhipsterModule,\n    InfiniteScrollModule,\n    NgbModule\n  ],\n  declarations: [\n    GeneralSubjectManageComponent,\n    GeneralSubjectCreateComponent,\n    GeneralSubjectUpdateComponent,\n    GeneralSubjectDetailsComponent,\n    GeneralSubjectDeleteComponent,\n    GeneralSubjectPublishComponent,\n    GeneralSubjectUnpublishComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class GeneralSubjectsModule {\n\n}","import { Injectable } from '@angular/core';\nimport { HttpResponse } from '@angular/common/http';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot, Routes } from '@angular/router';\nimport { UserRouteAccessService } from '../core';\nimport { Observable, of } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { GeneralSubjectService } from './general-subject.service';\nimport { GeneralSubjectManageComponent } from './general-subject-manage.component';\nimport { GeneralSubjectDetailsComponent } from './general-subject-details.component';\nimport { GeneralSubjectUpdateComponent } from './general-subject-update.component';\nimport { IGeneralSubject, GeneralSubject } from '../shared/model/content/general-subject.model';\nimport { GeneralSubjectCreateComponent } from './general-subject-create.component';\nimport { GeneralSubjectPublishComponent } from './general-subject-update-publish.component';\nimport { GeneralSubjectUnpublishComponent } from './general-subject-update-unpublish.component';\nimport { GeneralSubjectDeleteComponent } from './general-subject-delete.component';\n\n@Injectable({ providedIn: 'root' })\nexport class GeneralSubjectResolve implements Resolve<IGeneralSubject> {\n  constructor(private service: GeneralSubjectService) { }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<IGeneralSubject> {\n    const id = route.params['id'] ? route.params['id'] : null;\n    if (id) {\n      return this.service.getSubjectBySubjectId(id).pipe(\n        filter((response: HttpResponse<GeneralSubject>) => response.ok),\n        map((generalSubject: HttpResponse<GeneralSubject>) => generalSubject.body)\n      );\n    }\n    return of(new GeneralSubject());\n  }\n}\n\n@Injectable({ providedIn: 'root' })\nexport class GeneralSubjectWithTreeResolve implements Resolve<any> {\n  constructor(private service: GeneralSubjectService) { }\n\n  resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\n    const id = route.params['id'] ? route.params['id'] : null;\n    if (id) {\n      return this.service.getSubjectTreeBySubjectId(id).pipe(\n        filter((response: HttpResponse<any>) => response.ok),\n        map((generalSubject: HttpResponse<any>) => generalSubject.body)\n      );\n    }\n    return of(new GeneralSubject());\n  }\n}\n\nexport const generalSubjectRoute: Routes = [\n  {\n    path: '',\n    component: GeneralSubjectManageComponent,\n    data: {\n      authorities: ['ROLE_USER'],\n      pageTitle: 'Manage general subjects'\n    },\n    canActivate: [UserRouteAccessService]\n  },\n  {\n    path: 'create',\n    component: GeneralSubjectCreateComponent,\n    data: {\n      authorities: ['ROLE_USER'],\n      pageTitle: 'Create new general subject'\n    },\n    canActivate: [UserRouteAccessService]\n  },\n  {\n    path: ':id/edit',\n    component: GeneralSubjectUpdateComponent,\n    resolve: {\n      generalSubject: GeneralSubjectWithTreeResolve\n    },\n    data: {\n      authorities: ['ROLE_USER'],\n      pageTitle: 'Edit general subject',\n      action: 'edit'\n    },\n    canActivate: [UserRouteAccessService]\n  },\n  {\n    path: ':id/view',\n    component: GeneralSubjectDetailsComponent,\n    resolve: {\n      generalSubject: GeneralSubjectWithTreeResolve\n    },\n    data: {\n      authorities: ['ROLE_USER'],\n      pageTitle: 'View general subject'\n    },\n    canActivate: [UserRouteAccessService]\n  },\n  {\n    path: ':id/delete',\n    component: GeneralSubjectDeleteComponent,\n    resolve: {\n      generalSubject: GeneralSubjectResolve\n    },\n    data: {\n      authorities: ['ROLE_USER'],\n      pageTitle: 'Delete general subject'\n    },\n    canActivate: [UserRouteAccessService]\n  },\n  {\n    path: ':id/publish',\n    component: GeneralSubjectPublishComponent,\n    resolve: {\n      generalSubject: GeneralSubjectResolve\n    },\n    data: {\n      authorities: ['ROLE_USER'],\n      pageTitle: 'Publish general subject',\n      action: 'publish'\n    },\n    canActivate: [UserRouteAccessService]\n  },\n  {\n    path: ':id/unpublish',\n    component: GeneralSubjectUnpublishComponent,\n    resolve: {\n      generalSubject: GeneralSubjectResolve\n    },\n    data: {\n      authorities: ['ROLE_USER'],\n      pageTitle: 'Unpublish general subject',\n      action: 'unpublish'\n    },\n    canActivate: [UserRouteAccessService]\n  }\n];\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { createRequestOption } from '../shared';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\nimport { ACTIVE } from '../shared/constants/common.constants';\n\ntype EntityResponseType = HttpResponse<IGeneralSubject>;\ntype EntityArrayResponseType = HttpResponse<IGeneralSubject[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n@Injectable({ providedIn: 'root' })\nexport class GeneralSubjectService {\n\n  public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\n  public curriculumResourceUrl = environment.API_URL + 'services/learning/api/curricula';\n  public generalSubjectResourceUrl = environment.API_URL + 'services/content/api/general-subjects';\n  public generalSubjectSearchResourceUrl = environment.API_URL + 'services/content/api/general-subjects/search';\n  public generalSubjectResourceUrlWithTree = environment.API_URL + 'services/content/api/general-subjects/subject-tree';\n\n  constructor(protected http: HttpClient) { }\n\n  getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\n    return this.http.get<IGeneralSubject>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\n  }\n\n  getSubjectSearchList(): Observable<EntityArrayResponseType> {\n    var reqJSON = {\n      \"status\": ACTIVE\n    };\n    return this.http.post<IGeneralSubject[]>(this.generalSubjectSearchResourceUrl, reqJSON, { observe: 'response' });\n  }\n\n  getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\n    return this.http.get<IGeneralSubject[]>(`${this.generalSubjectResourceUrlWithTree}/${id}`, { observe: 'response' });\n  }\n\n  updateGeneralSubjectStatus(generalSubject: IGeneralSubject): Observable<EntityResponseType> {\n    return this.http.put<IGeneralSubject>(this.generalSubjectResourceUrl, generalSubject, { observe: 'response' });\n  }\n\n  query(req?: any): Observable<EntityArrayResponseType> {\n    const options = createRequestOption(req);\n    return this.http.get<IGeneralSubject[]>(this.generalSubjectResourceUrl, { params: options, observe: 'response' });\n  }\n\n  delete(id: number): Observable<HttpResponse<any>> {\n    return this.http.delete<any>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\n  }\n\n  saveGeneralSubject(generalSubject: IGeneralSubject[]): Observable<EntityResponseType> {\n    return this.http.post<IGeneralSubject>(this.generalSubjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\n  }\n}\n","export * from \"./general-subject-manage.component\";\nexport * from \"./general-subject-update.component\";\nexport * from \"./general-subject-create.component\";\nexport * from \"./general-subject-details.component\";\nexport * from \"./general-subject-delete.component\";\nexport * from \"./general-subject-update-publish.component\";\nexport * from \"./general-subject-update-unpublish.component\";\nexport * from \"./general-subject.route\";","export const DRAFT = 'DRAFT';\nexport const ACTIVE = 'ACTIVE';\nexport const INACTIVE = 'INACTIVE';\nexport const ARCHIVED = 'ARCHIVED';\nexport const NOCHANGE = 'NOCHANGE';\nexport const CREATED = 'CREATED';\nexport const EDITED = 'EDITED';\nexport const DELETED = 'DELETED';","export interface IGeneralSubject {\n  id?: number;\n  title?: string;\n  description?: string;\n  status?: string;\n  data?: {\n    orderNumber?: number,\n    baseCurriculumId?: number,\n    baseGrade?: number,\n    curriculumId?: number,\n    description?: string,\n    editStatus?: string,\n    grade?: number,\n    id?: number,\n    name?: string,\n    status?: string,\n  };\n  icon?: string;\n  disabled?: boolean;\n  parent?: string;\n  text?: string;\n  type?: string;\n  state?: string;\n  a_attr?: string;\n  li_attr?: string;\n  curriculumID?: number;\n  name?: string;\n  acronym?: string;\n  gradesApplicableFrom?: number,\n  gradesApplicableTo?: number,\n  grades?: IGeneralSubject[];\n}\n\nexport class GeneralSubject implements IGeneralSubject {\n  constructor(\n    public id?: number,\n    public title?: string,\n    public description?: string,\n    public status?: string,\n    public data?: {\n      orderNumber?: number,\n      baseCurriculumId?: number,\n      baseGrade?: number,\n      curriculumId?: number,\n      description?: string,\n      editStatus?: string,\n      grade?: number,\n      id?: number,\n      name?: string,\n      status?: string,\n    },\n    public icon?: string,\n    public parent?: string,\n    public disabled?: boolean,\n    public text?: string,\n    public type?: string,\n    public state?: string,\n    public a_attr?: string,\n    public li_attr?: string,\n    public curriculumID?: number,\n    public name?: string,\n    public acronym?: string,\n    public gradesApplicableFrom?: number,\n    public gradesApplicableTo?: number,\n    public grades?: IGeneralSubject[]) { }\n}\n"],"sourceRoot":""}