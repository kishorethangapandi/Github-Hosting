{"version":3,"sources":["webpack:///./src/app/curriculum/curriculum.service.ts","webpack:///./src/app/shared/constants/common.constants.ts","webpack:///./src/app/shared/model/content/subject.model.ts","webpack:///./src/app/subject/subject-create.component.html","webpack:///./src/app/subject/subject-create.component.ts","webpack:///./src/app/subject/subject-delete.component.ts","webpack:///./src/app/subject/subject-details.component.html","webpack:///./src/app/subject/subject-details.component.ts","webpack:///./src/app/subject/subject-manage.component.html","webpack:///./src/app/subject/subject-manage.component.ts","webpack:///./src/app/subject/subject-update-publish.component.ts","webpack:///./src/app/subject/subject-update-unpublish.component.ts","webpack:///./src/app/subject/subject-update.component.html","webpack:///./src/app/subject/subject-update.component.ts","webpack:///./src/app/subject/subject.module.ts","webpack:///./src/app/subject/subject.route.ts","webpack:///./src/app/subject/subject.service.ts"],"names":[],"mappings":"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","file":"subject-subject-module.js","sourcesContent":["import { Injectable } from '@angular/core';\nimport { HttpResponse, HttpHeaders, HttpClient } from '@angular/common/http';\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\nimport { environment } from '../../environments/environment';\nimport { createRequestOption } from '../shared';\nimport { Observable } from 'rxjs';\nimport { IOrganisation } from '../shared/model/common/organisation.model';\nimport { ACTIVE } from '../shared/constants/common.constants';\n\ntype EntityResponseType = HttpResponse<ICurriculum>;\ntype EntityArrayResponseType = HttpResponse<ICurriculum[]>;\ntype OrgEntityArrayResponseType = HttpResponse<IOrganisation[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n\n@Injectable({ providedIn: 'root' })\nexport class CurriculumService {\n\n    public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\n    public curriculumResourceUrl = environment.API_URL + 'services/learning/api/curricula';\n\n    constructor(protected http: HttpClient) { }\n\n    createCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\n        return this.http.post<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\n    }\n\n    updateCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\n        return this.http.put<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\n    }\n\n    find(id: number): Observable<EntityResponseType> {\n        return this.http.get<ICurriculum>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    getStandardCurriculums(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        var reqJSON = {\n            \"isExtraCurriculum\": false\n        };\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\n    }\n\n    getCurriculumSearch(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        var reqJSON = {\n            \"isExtraCurriculum\": false,\n            \"status\": ACTIVE\n        };\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\n    }\n\n    delete(id: number): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\n    }\n}\n","export const DRAFT = 'DRAFT';\nexport const ACTIVE = 'ACTIVE';\nexport const INACTIVE = 'INACTIVE';\nexport const ARCHIVED = 'ARCHIVED';\nexport const NOCHANGE = 'NOCHANGE';\nexport const CREATED = 'CREATED';\nexport const EDITED = 'EDITED';\nexport const DELETED = 'DELETED';","export interface ISubject {\n    data?: {\n        curriculumId?: number,\n        curriculumSubjectId?: number,\n        description?: string,\n        editStatus?: string,\n        grade?: number,\n        id?: number,\n        isLanguage?: boolean,\n        name?: string,\n        objective?: string,\n        orderNumber?: number,\n        status?: string,\n        fullName?: string\n    },\n    icon?: string,\n    id?: number,\n    parent?: string,\n    text?: string,\n    type?: string,\n    state?: string,\n    a_attr?: string;\n    li_attr?: string;\n    status?: string;\n    isExtraCurriculum?: boolean;\n    generalTopicId?: number;\n}\n\nexport class Subject implements ISubject {\n    constructor(\n        public data?: {\n            curriculumId?: number,\n            curriculumSubjectId?: number,\n            description?: string,\n            editStatus?: string,\n            grade?: number,\n            id?: number,\n            isLanguage?: boolean,\n            name?: string,\n            objective?: string,\n            orderNumber?: number,\n            status?: string,\n            fullName?: string\n        },\n        public icon?: string,\n        public id?: number,\n        public parent?: string,\n        public text?: string,\n        public type?: string,\n        public state?: string,\n        public a_attr?: string,\n        public li_attr?: string,\n        public status?: string,\n        public isExtraCurriculum?: boolean,\n        public generalTopicId?: number\n    ) { }\n}\n","module.exports = \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\n  <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n    <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n  </div>\\n</div>\\n\\n<div class=\\\"row-flex stepper\\\">\\n  <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\n    <a class=\\\"nav-link active\\\" id=\\\"createSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createSubject\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"createSubject\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 1\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Create subject\\n      </span>\\n    </a>\\n    <a class=\\\"nav-link disabled\\\" id=\\\"creareSyllabus-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#creareSyllabus\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"creareSyllabus\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 2\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Create syllabus\\n      </span>\\n    </a>\\n    <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\n      aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\n      <span class=\\\"index-round\\\">\\n        Step 3\\n      </span>\\n      <span class=\\\"step-label\\\">\\n        Summary\\n      </span>\\n    </a>\\n  </div>\\n  <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\n    <div class=\\\"tab-pane fade show active\\\" id=\\\"createSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createSubject-tab\\\">\\n      <form [formGroup]=\\\"subjectForm\\\">\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\n          <label for=\\\"curriculum\\\" class=\\\" col-form-label\\\">Curriculum</label>\\n          <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n            placeholder=\\\"Select curriculum\\\" formControlName=\\\"curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\"\\n            (change)=\\\"onCurriculumChange()\\\">\\n          </ng-select>\\n        </div>\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\" *ngIf=\\\"selectedCurriculum\\\">\\n          <label for=\\\"grade\\\" class=\\\" col-form-label\\\">Grade</label>\\n          <ng-select [items]=\\\"gradeList\\\" formControlName=\\\"grade\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n            placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\n          </ng-select>\\n        </div>\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\n          <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name</label>\\n          <input type=\\\"text\\\" class=\\\"form-control\\\" placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\"\\n            inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"subjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\"\\n            [ngClass]=\\\"{ 'is-invalid': submitted && formControl.subjectName.errors }\\\">\\n          <div class=\\\"text-muted font-15 my-2\\\">Allowed\\n            characters - Alphabets</div>\\n        </div>\\n        <div class=\\\"form-group mb-2 col-xxl-6\\\">\\n          <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\n            <span class=\\\"text-muted\\\">(Optional)</span></label>\\n          <textarea class=\\\"form-control description-form\\\"\\n            placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\" formControlName=\\\"subjectDescription\\\"\\n            [ngClass]=\\\"{ 'is-invalid': submitted && formControl.subjectDescription.errors }\\\" maxlength=\\\"250\\\"\\n            minlength=\\\"3\\\"></textarea>\\n          <div class=\\\"text-muted font-15 my-2\\\">\\n            Allowed characters - Alphabets, Numbers and\\n            Special characters\\n          </div>\\n        </div>\\n        <div class=\\\"form-group mb-2 col-xxl-6 d-flex justify-content-start\\\">\\n          <div class=\\\"checkbox mr-2\\\">\\n            <input type=\\\"checkbox\\\" id=\\\"isLanguage\\\" formControlName=\\\"isLanguage\\\">\\n            <label class=\\\"mt-2 p-3\\\" for=\\\"isLanguage\\\"></label>\\n          </div>\\n          <label class=\\\"mt-2\\\" for=\\\"isLanguage\\\">Is language ?<span class=\\\"text-muted\\\">(Optional)</span></label>\\n        </div>\\n        <div class=\\\"row\\\">\\n          <div class=\\\"col-xxl-12 d-flex justify-content-end\\\">\\n            <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\" (click)=\\\"loadSubjectTree()\\\">\\n              Next\\n              <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n            </button>\\n          </div>\\n        </div>\\n      </form>\\n    </div>\\n\\n    <div class=\\\"tab-pane fade\\\" id=\\\"creareSyllabus\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"creareSyllabus-tab\\\">\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-xxl-4 p-2\\\">\\n          <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"updatedJSONTree.length > 1\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n              <i class=\\\"fa fa-clone mr-2\\\"></i>\\n              <span *ngIf=\\\"enableExpandNode === false\\\">\\n                Expand all\\n              </span>\\n              <span *ngIf=\\\"enableExpandNode === true\\\">\\n                Collapse all\\n              </span>\\n            </div>\\n          </div>\\n          <div id=\\\"buildTree\\\"></div>\\n        </div>\\n        <div class=\\\"col-xxl-8\\\">\\n          <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'lesson'\\\" (click)=\\\"createNode()\\\">\\n              <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\n              unit / lesson\\n            </div>\\n            <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\n              <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\n            </div>\\n            <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\n              <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\n            </div>\\n          </div>\\n          <div class=\\\"w-100 p-4\\\">\\n            <div *ngIf=\\\"nodeType === 'unit'\\\">\\n              <p><b>Unit name :</b> {{nodeTitle}} </p>\\n              <p><b>Unit description :</b> {{nodeDescription}}</p>\\n            </div>\\n            <div *ngIf=\\\"nodeType === 'lesson'\\\">\\n              <p><b>Lesson name :</b> {{nodeTitle}}</p>\\n              <p><b>Lesson objective :</b> {{nodeDescription}}</p>\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"my-2 rounded p-3 border-danger\\\" *ngIf=\\\"enableInstruction\\\">\\n        <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check text-danger mr-2\\\"></i> Select a subject node and do your actions.\\n        </p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Add atleast one unit or one lesson for general subject\\n          creation.\\n        </p>\\n        <p class=\\\"text-primary\\\">\\n          <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't drag and drop on top of\\n          root node\\n        </p>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-xxl-12 d-flex justify-content-end\\\">\\n          <div class=\\\"btn btn-danger prev-step\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\n          </div>\\n          <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\">\\n            Next\\n            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n          </button>\\n        </div>\\n      </div>\\n    </div>\\n\\n    <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\n\\n      <div class=\\\"card-body\\\">\\n        <div class=\\\"row mb-3\\\">\\n          <div class=\\\"col-xxl-6\\\">\\n            <h5>Before changes</h5>\\n            <div id=\\\"beforeChangeTree\\\"></div>\\n          </div>\\n          <div class=\\\"col-xxl-6\\\">\\n            <h5>After changes</h5>\\n            <div id=\\\"afterChangeTree\\\"></div>\\n          </div>\\n        </div>\\n      </div>\\n\\n      <div class=\\\"row\\\">\\n        <div class=\\\"col-xxl-12 d-flex justify-content-end\\\">\\n          <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\n            Previous\\n          </span>\\n          <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\n            Save as draft\\n          </div>\\n          <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\n            <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\n            Save and publish\\n          </div>\\n        </div>\\n      </div>\\n    </div>\\n  </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"subjectModal\\\">\\n  <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\n    <div class=\\\"modal-content\\\" [formGroup]=\\\"syllabusForm\\\">\\n      <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n        <h5 class=\\\"modal-title text-white\\\">\\n          {{modalTitleName}} unit / lesson\\n        </h5>\\n        <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\n          <i class=\\\"fa fa-times\\\"></i>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-body\\\">\\n        <div class=\\\"form-group mb-2\\\">\\n          <label class=\\\"col-form-label\\\">Type\\n          </label>\\n          <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n            bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\" (change)=\\\"onNodeTypeChange()\\\"\\n            [searchable]=\\\"false\\\">\\n          </ng-select>\\n        </div>\\n        <div *ngIf=\\\"nodeType === 'unit'\\\">\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Unit\\n              name\\n            </label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"unitName\\\"\\n              placeholder=\\\"Enter unit name (minlength: 3 and maxlength: 75)\\\"\\n              inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.unitName.errors }\\\" />\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\n            </div>\\n          </div>\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Unit\\n              description\\n            </label>\\n            <textarea class=\\\"form-control description-form\\\"\\n              placeholder=\\\"Enter unit description (minlength: 3 and maxlength: 250)\\\" minlength=\\\"3\\\" maxlength=\\\"250\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.unitDescription.errors }\\\"\\n              formControlName=\\\"unitDescription\\\"></textarea>\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special characters\\n            </div>\\n          </div>\\n        </div>\\n        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Lesson\\n              name\\n            </label>\\n            <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"lessonName\\\"\\n              placeholder=\\\"Enter lesson name (minlength: 3 and maxlength: 75)\\\"\\n              inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.lessonName.errors }\\\" />\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special character (-)\\n            </div>\\n          </div>\\n          <div class=\\\"form-group mb-2\\\">\\n            <label class=\\\"col-form-label\\\">Lesson\\n              objective\\n            </label>\\n            <textarea class=\\\"form-control description-form\\\"\\n              placeholder=\\\"Enter lesson objective (minlength: 3 and maxlength: 250)\\\" minlength=\\\"3\\\" maxlength=\\\"250\\\"\\n              [ngClass]=\\\"{ 'is-invalid': validateNodeForm && modalFormControl.lessonObjective.errors }\\\"\\n              formControlName=\\\"lessonObjective\\\"></textarea>\\n            <div class=\\\"text-muted font-15 my-2\\\">\\n              Allowed characters - Alphabets, Numbers and Special characters\\n            </div>\\n          </div>\\n        </div>\\n      </div>\\n      <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\n        <div class=\\\"btn btn-danger\\\" (click)=\\\"cancelNode()\\\">\\n          <i class=\\\"fa fa-times mr-2\\\"></i>\\n          Reset\\n        </div>\\n        <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\n          <i class=\\\"fa fa-save mr-2\\\"></i>\\n          Save\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n</div>\"","import { Component, OnInit, AfterViewInit, ChangeDetectorRef, AfterViewChecked } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { DRAFT, CREATED, ACTIVE } from '../shared/constants/common.constants';\nimport { SubjectService } from './subject.service';\nimport { ISubject } from '../shared/model/content/subject.model';\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\nimport { IGrade } from '../shared/model/common/grade.model';\nimport { CommonService } from '../shared/common/common.service';\nimport { CurriculumService } from '../curriculum/curriculum.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n  templateUrl: \"./subject-create.component.html\",\n  providers: [SubjectService]\n})\nexport class SubjectCreateComponent implements OnInit, AfterViewInit, AfterViewChecked {\n  subjectForm: FormGroup;\n  syllabusForm: FormGroup;\n  gradeList: IGrade[] = [];\n  curriculumList: ICurriculum[] = [];\n  syllabusTree: ISubject[] = [];\n  updatedJSONTree: ISubject[] = [];\n  nodeTypes: any[] = [];\n  nodeType: string;\n  nodeTitle: string;\n  nodeDescription: string;\n  subjectName: string;\n  subjectDescription: string;\n  curriculum: string;\n  grade: string;\n  nodeOperationType: string;\n  modalTitleName: string;\n  enableNodeOperation: boolean;\n  enableEditNodeOperation: boolean;\n  enableInstruction: boolean;\n  enableModalOperation: boolean;\n  validateNode: boolean;\n  disableDropdown: boolean;\n  validateSubjectForm: boolean;\n  validateNodeForm: boolean;\n  enableExpandNode: boolean;\n  selectedNodeType: any;\n  selectedCurriculum: any;\n  selectedGrade: any;\n\n  constructor(\n    private router: Router,\n    private formBuilder: FormBuilder,\n    public pluginService: PluginService,\n    public curriculumService: CurriculumService,\n    public subjectService: SubjectService,\n    public activatedRoute: ActivatedRoute,\n    public commonService: CommonService,\n    private changeDetectRef: ChangeDetectorRef\n  ) {\n    this.validateSubjectForm = true;\n    this.validateNodeForm = true;\n    this.validateNode = true;\n    this.enableExpandNode = false;\n  }\n\n  ngOnInit() {\n    this.pluginService.sideMenuToggle();\n    this.createSubjectGroup();\n    this.pluginService.stepper();\n    this.loadCurriculumList();\n    this.getNodeTypeList();\n  }\n\n  getNodeTypeList() {\n    this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\n      this.nodeTypes = nodeTypeData.subject;\n    });\n  }\n\n  createSubjectGroup() {\n    this.subjectForm = this.formBuilder.group({\n      curriculum: new FormControl(null, [Validators.required]),\n      grade: new FormControl(null, [Validators.required]),\n      subjectName: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n      subjectDescription: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(250)]),\n      isLanguage: new FormControl(false)\n    });\n    this.syllabusForm = this.formBuilder.group({\n      unitName: new FormControl(null),\n      unitDescription: new FormControl(null, [Validators.minLength(3), Validators.maxLength(250)]),\n      lessonName: new FormControl(null),\n      lessonObjective: new FormControl(null, [Validators.minLength(3), Validators.maxLength(250)])\n    })\n  }\n\n  get formControl() { return this.subjectForm.controls; }\n  get modalFormControl() { return this.syllabusForm.controls; }\n\n  onNodeTypeChange() {\n    const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\n    if (this.selectedNodeType) {\n      this.nodeType = this.selectedNodeType.name;\n      if (this.nodeType === 'unit') {\n        this.enableModalOperation = true;\n        this.syllabusForm.addControl('unitName', new FormControl('', validators));\n        this.syllabusForm.addControl('lessonName', new FormControl('', null));\n      } else if (this.nodeType === 'lesson') {\n        this.enableModalOperation = true;\n        this.syllabusForm.addControl('lessonName', new FormControl('', validators));\n        this.syllabusForm.addControl('unitName', new FormControl('', null));\n      }\n    }\n  }\n\n  onCurriculumChange() {\n    let gradesApplicableFrom, gradesApplicableTo;\n    if (this.selectedCurriculum) {\n      gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n      gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n      this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n      this.selectedGrade = null;\n    }\n  }\n\n  loadSubjectTree() {\n    let language;\n    if (this.selectedCurriculum && this.selectedGrade) {\n      language = this.subjectForm.value.isLanguage;\n      this.syllabusTree = [\n        {\n          \"icon\": \"fa fa-book\",\n          \"parent\": \"#\",\n          \"text\": this.subjectName,\n          \"type\": \"root\",\n          \"data\": {\n            \"name\": this.subjectName,\n            \"description\": this.subjectDescription,\n            \"curriculumId\": this.selectedCurriculum.id,\n            \"grade\": this.selectedGrade.name,\n            \"isLanguage\": language,\n            \"curriculumSubjectId\": 0,\n            \"editStatus\": CREATED,\n            \"fullName\": \"\",\n            \"objective\": \"\",\n            \"orderNumber\": 0,\n            \"status\": null\n          },\n        }\n      ];\n      this.pluginService.jsTree(\"#buildTree\", this.syllabusTree, true);\n      this.pluginService.jsTree(\"#beforeChangeTree\", this.syllabusTree, false);\n      this.enableInstruction = true;\n    }\n  }\n\n  cancelForm() {\n    this.subjectForm.reset();\n  }\n\n  loadCurriculumList() {\n    this.curriculumService.getCurriculumSearch().subscribe(\n      (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\n      (res: HttpErrorResponse) => this.onError(res.message)\n    )\n  }\n\n  assignCurriculumList(data: ICurriculum[]) {\n    this.curriculumList = [];\n    for (let i = 0; i < data.length; i++) {\n      this.curriculumList.push(data[i]);\n    }\n  }\n\n  ngAfterViewInit() {\n    this.nodeSelectedEvent();\n    this.generateJSONTreeOnDragAndDrop();\n  }\n\n  generateGradeList(min, max) {\n    this.gradeList = [];\n    for (var i = min; i <= max; i++) {\n      this.gradeList.push({\n        \"id\": i,\n        \"name\": i\n      });\n    }\n    return this.gradeList;\n  }\n\n  //Reset all form values\n  resetFormValues() {\n    this.syllabusForm.reset();\n    this.selectedNodeType = null;\n  }\n\n  //Tree selection and change method call\n  nodeSelectedEvent() {\n    let i, j, conceptThis = this;\n    $('#buildTree').on('changed.jstree', function (e, data) {\n      for (i = 0, j = data.selected.length; i < j; i++) {\n        conceptThis.nodeType = data.node.type;\n        if (conceptThis.nodeType === \"root\") {\n          conceptThis.enableNodeOperation = true;\n          conceptThis.enableEditNodeOperation = false;\n        } else if (conceptThis.nodeType === \"unit\") {\n          conceptThis.enableEditNodeOperation = true;\n          conceptThis.enableNodeOperation = true;\n          conceptThis.nodeTitle = data.node.data.name;\n          conceptThis.nodeDescription = data.node.data.description;\n          conceptThis.syllabusFormSetValues(conceptThis);\n        } else if (conceptThis.nodeType === \"lesson\") {\n          conceptThis.enableNodeOperation = true;\n          conceptThis.enableEditNodeOperation = true;\n          conceptThis.nodeTitle = data.node.data.name;\n          conceptThis.nodeDescription = data.node.data.objective;\n          conceptThis.syllabusFormSetValues(conceptThis);\n        } else {\n          conceptThis.enableNodeOperation = false;\n          conceptThis.enableEditNodeOperation = false;\n        }\n      }\n    })\n\n  }\n\n  trimValue(value) {\n    if (value === null || value === undefined) {\n      return value;\n    } else {\n      return value.trim();\n    }\n  }\n\n  validateSubjectFormValues() {\n    this.subjectName = this.trimValue(this.subjectForm.value.subjectName);\n    this.subjectDescription = this.trimValue(this.subjectForm.value.subjectDescription);\n    if (this.subjectName === \"\" || this.subjectName === undefined || this.subjectName === null) {\n      this.validateSubjectForm = true;\n    } else {\n      this.validateSubjectForm = false;\n    }\n    if (this.subjectForm.invalid) {\n      this.validateSubjectForm = true;\n    }\n    if (this.subjectForm.valid) {\n      this.validateSubjectForm = false;\n    }\n  }\n\n  validateUnitAndLessonForm() {\n    let unitName, lessonName;\n    unitName = this.syllabusForm.value.unitName;\n    lessonName = this.syllabusForm.value.lessonName;\n    if (this.nodeType === 'unit') {\n      if (unitName === null || unitName === \"\") {\n        this.validateNodeForm = true;\n      } else {\n        this.validateNodeForm = false;\n      }\n    } else if (this.nodeType === 'lesson') {\n      if (lessonName === null || lessonName === \"\") {\n        this.validateNodeForm = true;\n      } else {\n        this.validateNodeForm = false;\n      }\n    }\n  }\n\n  ngAfterViewChecked() {\n    //Subject Form Validation\n    this.validateSubjectFormValues();\n    //Unit and lesson form validation\n    this.validateUnitAndLessonForm();\n    this.changeDetectRef.detectChanges();\n  }\n\n  //Unit and lesson details form setvalues method\n  syllabusFormSetValues(Objectthis) {\n    let nodeTypeIndex;\n    nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\n    this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\n    if (Objectthis.nodeType === \"unit\") {\n      this.syllabusForm.setValue({\n        unitName: Objectthis.nodeTitle,\n        unitDescription: Objectthis.nodeDescription,\n        lessonName: \"\",\n        lessonObjective: \"\"\n      })\n    } else {\n      this.syllabusForm.setValue({\n        unitName: \"\",\n        unitDescription: \"\",\n        lessonName: Objectthis.nodeTitle,\n        lessonObjective: Objectthis.nodeDescription,\n      })\n    }\n  }\n\n  openUnitAndLessonModal() {\n    this.pluginService.showModalWindow(\"#subjectModal\");\n  }\n\n  closeUnitAndLessonModal() {\n    this.pluginService.hideModalWindow(\"#subjectModal\")\n  }\n\n  closeWithOutSavingNode() {\n    var localthisObject = this;\n    swal({\n      title: \"Are you sure to close without saving ?\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      confirmButtonColor: \"#32b432\",\n      cancelButtonText: \"No\",\n      closeOnConfirm: true,\n      closeOnCancel: true\n    },\n      function (isConfirm) {\n        if (isConfirm === true) {\n          localthisObject.closeUnitAndLessonModal();\n          localthisObject.disableNodeOperations();\n        }\n      });\n  }\n\n  disableNodeOperations() {\n    this.enableNodeOperation = false;\n    this.nodeType = \"\"\n    this.enableNodeOperation = false;\n    this.nodeType = \"\"\n    this.resetFormValues();\n    let treeCallback = $('#buildTree').jstree(true);\n    treeCallback.deselect_all();\n  }\n\n  //Create node method\n  createNode() {\n    this.nodeOperationType = \"create\";\n    this.modalTitleName = \"Add new\";\n    this.openUnitAndLessonModal();\n    this.nodeType = \"\";\n    this.resetFormValues();\n    this.disableDropdown = false;\n    this.enableModalOperation = false;\n    this.selectedNodeType = null;\n  }\n\n  //Edit node method\n  editNode() {\n    this.nodeOperationType = \"edit\";\n    this.modalTitleName = \"Edit\";\n    this.disableDropdown = true;\n    this.syllabusForm.patchValue({\n      unitName: this.nodeTitle,\n      unitDescription: this.nodeDescription,\n      lessonName: this.nodeTitle,\n      lessonObjective: this.nodeDescription\n    })\n    this.openUnitAndLessonModal();\n    this.enableModalOperation = true;\n  }\n\n  //Save node method\n  saveNode() {\n    this.validateNodeForm = false;\n    var newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, nodeId, data = {};\n    position = 'last';\n    parent = $('#buildTree').jstree('get_selected')[0];\n    treeCallback = $('#buildTree').jstree(true);\n    jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n    nodeId = treeCallback.get_selected()[0];\n    nodeIndex = jsonArray.findIndex(item => item.id === nodeId);\n    if (this.nodeOperationType === \"create\") {\n      if (this.nodeType === \"unit\") {\n        this.nodeTitle = this.trimValue(this.syllabusForm.value.unitName);\n        this.nodeDescription = this.trimValue(this.syllabusForm.value.unitDescription);\n        newNodeArray = {\n          \"icon\": \"fe fe-server\",\n          \"text\": this.nodeTitle,\n          \"type\": \"unit\",\n          \"data\": {\n            \"name\": this.nodeTitle,\n            \"description\": this.nodeDescription,\n            \"editStatus\": CREATED,\n            \"objective\": \"\",\n            \"orderNumber\": 0,\n            \"status\": null,\n            \"fullName\": \"\"\n          }\n        }\n        $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n        jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n      }\n      else if (this.nodeType === \"lesson\") {\n        this.nodeTitle = this.trimValue(this.syllabusForm.value.lessonName);\n        this.nodeDescription = this.trimValue(this.syllabusForm.value.lessonObjective);\n        newNodeArray = {\n          \"icon\": \"fa fa-file\",\n          \"text\": this.nodeTitle,\n          \"type\": \"lesson\",\n          \"data\": {\n            \"name\": this.nodeTitle,\n            \"objective\": this.nodeDescription,\n            \"editStatus\": \"CREATED\",\n            \"description\": \"\",\n            \"orderNumber\": 0,\n            \"status\": null,\n            \"fullName\": \"\"\n          }\n        }\n        $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n        jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n      }\n    } else if (this.nodeOperationType === \"edit\") {\n      this.nodeType = jsonArray[nodeIndex].type;\n      if (this.nodeType === \"unit\") {\n        this.nodeTitle = this.trimValue(this.syllabusForm.value.unitName);\n        this.nodeDescription = this.trimValue(this.syllabusForm.value.unitDescription);\n        jsonArray[nodeIndex].text = this.nodeTitle;\n        data = {\n          \"name\": this.nodeTitle,\n          \"description\": this.nodeDescription,\n          \"editStatus\": \"CREATED\",\n          \"objective\": \"\",\n          \"orderNumber\": 0,\n          \"status\": null,\n          \"fullName\": \"\"\n        }\n        arrayDetails = jsonArray[nodeIndex];\n        arrayDetails.data = data;\n      } else if (this.nodeType === \"lesson\") {\n        this.nodeTitle = this.trimValue(this.syllabusForm.value.lessonName);\n        this.nodeDescription = this.trimValue(this.syllabusForm.value.lessonObjective);\n        jsonArray[nodeIndex].text = this.nodeTitle;\n        data = {\n          \"name\": this.nodeTitle,\n          \"objective\": this.nodeDescription,\n          \"editStatus\": \"CREATED\",\n          \"description\": \"\",\n          \"orderNumber\": 0,\n          \"status\": null,\n          \"fullName\": \"\"\n        }\n        arrayDetails = jsonArray[nodeIndex];\n        arrayDetails.data = data;\n      }\n    }\n    this.pluginService.jsTree(\"#buildTree\", jsonArray, true)\n    this.updateJSONTreeWithOrderNum(jsonArray);\n    treeCallback.deselect_all();\n    this.nodeType = \"\";\n    this.enableNodeOperation = false;\n    this.closeUnitAndLessonModal();\n    this.resetFormValues();\n  }\n\n  //Delete node method\n  deleteNode() {\n    var nodeId, jsonArray, treeCallback;\n    this.nodeOperationType = \"delete\";\n    treeCallback = $(\"#buildTree\").jstree();\n    nodeId = treeCallback.get_selected()[0];\n    treeCallback.delete_node($('#' + nodeId))\n    jsonArray = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\n    if (this.nodeType === \"unit\") {\n      this.updatedJSONTree = jsonArray;\n    } else {\n      this.updatedJSONTree = jsonArray;\n    }\n    this.updateJSONTreeWithOrderNum(this.updatedJSONTree);\n    this.enableNodeOperation = false;\n    this.nodeType = \"root\";\n  }\n\n  //Generate JSON tree on drag and drop\n  generateJSONTreeOnDragAndDrop() {\n    var localObj = this;\n    $(document).on('dnd_stop.vakata', function (e, data) {\n      setTimeout(function () {\n        var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n        localObj.updateJSONTreeWithOrderNum(json);\n      }, 100);\n    });\n  }\n\n  protected subscribeToSaveResponse(result: Observable<HttpResponse<ISubject>>) {\n    result.subscribe((res: HttpResponse<ISubject>) => this.onSaveSuccess(res), (ErrRes: HttpErrorResponse) => this.onSaveError(ErrRes));\n  }\n\n  saveAsDraft() {\n    this.updatedJSONTree[0].data.status = DRAFT;\n    this.saveGeneralSubject();\n  }\n\n  saveAndPublish() {\n    this.updatedJSONTree[0].data.status = ACTIVE;\n    this.saveGeneralSubject();\n  }\n\n  saveGeneralSubject() {\n    this.subscribeToSaveResponse(this.subjectService.saveSubject(this.createSubjectForm()));\n  }\n\n  protected onSaveSuccess(res: HttpResponse<ISubject>) {\n    this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\n    this.previousUrl();\n    this.resetFormValues();\n    this.subjectForm.reset();\n  }\n\n  protected onSaveError(res: HttpErrorResponse) {\n    this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n  }\n\n  private createSubjectForm(): ISubject[] {\n    return this.updatedJSONTree;\n  }\n\n  //update JSON array with order number \n  updateJSONTreeWithOrderNum(json) {\n    this.updatedJSONTree = [];\n    this.updatedJSONTree = json;\n    if (this.updatedJSONTree[0].type === \"unit\" || this.updatedJSONTree[0].type === \"lesson\") {\n      this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n      this.validateNode = true;\n    } else if (this.updatedJSONTree[0].type === \"root\") {\n      this.validateNode = false;\n    }\n    for (let i = 0; i < this.updatedJSONTree.length; i++) {\n      this.updatedJSONTree[i].data.orderNumber = i;\n      //Remove unwanted objects (for api call) from the JSON tree\n      delete this.updatedJSONTree[i].state;\n      delete this.updatedJSONTree[i].a_attr;\n      delete this.updatedJSONTree[i].li_attr;\n      if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\n        this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n        this.validateNode = true;\n      }\n    }\n    this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\n  }\n\n  protected onError(errorMessage: string) {\n    this.pluginService.alertMessage(errorMessage, \"error\");\n  }\n\n  toggleTreeNodes() {\n    if (this.updatedJSONTree.length > 1) {\n      this.enableExpandNode = !this.enableExpandNode;\n      if (this.enableExpandNode) {\n        this.pluginService.openJsTreeAllNodes(\"#buildTree\");\n      } else {\n        this.pluginService.closeJsTreeAllNodes(\"#buildTree\")\n      }\n    }\n  }\n\n  onBack() {\n    var localObj = this;\n    swal({\n      title: \"Are you sure to go previous page ?\",\n      type: \"warning\",\n      showCancelButton: true,\n      confirmButtonText: \"Yes\",\n      confirmButtonColor: \"#32b432\",\n      cancelButtonText: \"No\",\n      closeOnConfirm: true,\n      closeOnCancel: true\n    },\n      function (isConfirm) {\n        if (isConfirm) {\n          localObj.previousUrl();\n          localObj.pluginService.sideMenuToggle();\n        }\n      });\n  }\n\n  previousUrl() {\n    this.router.navigateByUrl('/subject')\n  }\n}","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { JhiEventManager } from 'ng-jhipster';\nimport { SubjectService } from './subject.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./subject-manage.component.html\",\n    providers: [SubjectService]\n})\nexport class SubjectDeleteComponent implements OnInit {\n\n    constructor(\n        public router: Router,\n        public activatedRoute: ActivatedRoute,\n        protected eventManager: JhiEventManager,\n        public subjectService: SubjectService,\n        protected pluginService: PluginService\n    ) { }\n\n    ngOnInit() {\n        this.activatedRoute.data.subscribe(({ subject }) => {\n            this.deletegeneralSubject(subject);\n        });\n    }\n\n    protected subscribeToDeleteResponse(resp: Observable<HttpResponse<any>>) {\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteSuccess(res), (res: HttpErrorResponse) => this.onDeleteError(res));\n    }\n\n    deletegeneralSubject(subject) {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete this subject ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: false,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm) {\n                    localthisObject.confirmDelete(subject.id);\n                } else {\n                    localthisObject.previousUrl();\n                }\n            });\n    }\n\n    confirmDelete(id: number) {\n        this.subscribeToDeleteResponse(this.subjectService.delete(id));\n    }\n\n    previousUrl() {\n        this.router.navigateByUrl('/subject');\n    }\n\n    protected onDeleteSuccess(resp) {\n        this.pluginService.alertMessage(\"Subject deleted successfully\", \"success\");\n        this.previousUrl();\n    }\n\n    onDeleteError(err: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not delete general subject, please contact admin\", \"error\")\n    }\n\n}","module.exports = \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n    </div>\\n    <a class=\\\"btn btn-success mr-2\\\" [routerLink]=\\\"['/subject',subjectId, 'edit' ]\\\">\\n        <i class=\\\"fa fa-edit mr-2\\\"></i>Edit subject\\n    </a>\\n</div>\\n\\n<div class=\\\"row mb-3 p-3\\\">\\n    <div class=\\\"col-xxl-3\\\">\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subject.length > 1\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                <span *ngIf=\\\"active === false\\\">\\n                    Expand all\\n                </span>\\n                <span *ngIf=\\\"active === true\\\">\\n                    Collapse all\\n                </span>\\n            </div>\\n        </div>\\n        <div id=\\\"treeView\\\"></div>\\n    </div>\\n    <div class=\\\"col-xxl-9\\\">\\n        <div class=\\\"p-3\\\" *ngIf=\\\"nodeType === 'root'\\\">\\n            <p><b>Subject name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Subject description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n\\n        <div *ngIf=\\\"nodeType === 'unit'\\\" class=\\\"p-3\\\">\\n            <p><b>Unit name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Unit description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n\\n        <div class=\\\"p-3\\\" *ngIf=\\\"nodeType === 'lesson'\\\">\\n            <p><b>Lesson name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Lesson objective</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { ISubject } from '../shared/model/content/subject.model';\nimport { SubjectService } from './subject.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./subject-details.component.html\",\n    providers: [SubjectService]\n})\nexport class SubjectDetailsComponent implements OnInit {\n    subject: ISubject[] = [];\n    nodeType: string;\n    nodeName: string;\n    nodeDescription: string;\n    topicId: number;\n    subjectId: number;\n    active: boolean;\n\n    constructor(\n        public pluginService: PluginService,\n        protected subjectService: SubjectService,\n        public router: Router,\n        public activatedRoute: ActivatedRoute\n    ) {\n        this.active = false;\n    }\n\n    ngOnInit() {\n        this.pluginService.sideMenuToggle();\n        this.activatedRoute.data.subscribe(({ subject }) => {\n            this.subject = subject;\n            this.updateSubjectValues(subject);\n        });\n    }\n\n    updateSubjectValues(subject: ISubject[]) {\n        this.subject = subject;\n        this.pluginService.jsTree(\"#treeView\", this.subject, false);\n        this.subjectId = this.subject[0].data.id;\n    }\n\n    showSyllabusTreeDetails() {\n        var localThisObj = this;\n        $('#treeView')\n            .on('changed.jstree', function (e, data) {\n                var i, j, nodeTreeType: string;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.nodeType = data.node.type;\n                    if (localThisObj.nodeType === \"root\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    }\n                    else if (localThisObj.nodeType === \"unit\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    } else if (localThisObj.nodeType === \"lesson\") {\n                        localThisObj.topicId = data.node.data.id;\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.objective;\n                    } else {\n                    }\n                }\n            })\n    }\n\n    toggleTreeNodes() {\n        this.active = !this.active;\n        if (this.active) {\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\n        }\n    }\n\n    ngAfterViewInit() {\n        this.showSyllabusTreeDetails();\n    }\n\n    public onBack() {\n        var localObj = this;\n        swal({\n            title: \"Are you sure to go previous page ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm) {\n                    localObj.router.navigateByUrl('/subject');\n                    localObj.pluginService.sideMenuToggle();\n                }\n            });\n    }\n}","module.exports = \"<div class=\\\"w-100 d-flex justify-content-end my-3\\\">\\n    <a routerLink=\\\"/subject/create\\\">\\n        <div class=\\\"btn btn-primary\\\">\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Create new subject\\n        </div>\\n    </a>\\n</div>\\n\\n<div class=\\\"col-12 filterbg my-4 rounded\\\">\\n    <div class=\\\"filtericon font-20\\\">\\n        <i class=\\\"fa fa-filter\\\"></i>\\n    </div>\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n        <div class=\\\"col-lg-3 mb-3\\\">\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\">\\n            </ng-select>\\n        </div>\\n    </div>\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n        <div class=\\\"col-lg-2\\\">\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectList()\\\">\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"table-responsive\\\" *ngIf=\\\"subjects\\\">\\n    <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n        <thead>\\n            <tr jhiSort [(predicate)]=\\\"predicate\\\" [(ascending)]=\\\"reverse\\\" [callback]=\\\"reset.bind(this)\\\">\\n                <th jhiSortBy=\\\"subject\\\">Subject Name <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\n                <th jhiSortBy=\\\"grade\\\">Grade <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\n                <th jhiSortBy=\\\"status\\\">Status <span class=\\\"fa fa-sort ml-1\\\"></span></th>\\n                <th class=\\\"fixed-column\\\">Update status</th>\\n                <th class=\\\"fixed-column\\\">Actions</th>\\n            </tr>\\n        </thead>\\n        <tbody infinite-scroll (scrolled)=\\\"loadPage(page + 1)\\\" [infiniteScrollDisabled]=\\\"page >= links['last']\\\"\\n            [infiniteScrollDistance]=\\\"0\\\">\\n            <tr *ngFor=\\\"let data of subjects ;trackBy: trackId\\\">\\n                <td data-column=\\\"Subject name\\\">{{data.subject}}</td>\\n                <td data-column=\\\"Grade\\\">{{data.grade}}</td>\\n                <td data-column=\\\"Status\\\">{{data.status}}</td>\\n                <td class=\\\"fixed-column\\\" data-column=\\\"Update status\\\">\\n                    <a class=\\\"btn btn-outline-success mr-1 mb-1\\\"\\n                        *ngIf=\\\"data.status === 'DRAFT' || data.status === 'INACTIVE'\\\"\\n                        [routerLink]=\\\"['/subject', data.id, 'publish']\\\">\\n                        Publish\\n                    </a>\\n                    <a class=\\\"btn btn-outline-danger mr-1 mb-1\\\" *ngIf=\\\"data.status === 'ACTIVE'\\\"\\n                        [routerLink]=\\\"['/subject', data.id, 'unpublish']\\\">\\n                        Unpublish\\n                    </a>\\n                </td>\\n                <td class=\\\"fixed-column\\\" data-column=\\\"Actions\\\">\\n                    <div>\\n                        <a class=\\\"btn btn-outline-info mr-1 btn-icon-size mb-1\\\"\\n                            [routerLink]=\\\"['/subject', data.id, 'view' ]\\\">\\n                            <i class=\\\"fa fa-eye\\\"></i>\\n                        </a>\\n                        <a class=\\\"btn btn-outline-success mr-1 btn-icon-size mb-1\\\"\\n                            [routerLink]=\\\"['/subject', data.id, 'edit' ]\\\">\\n                            <i class=\\\"fa fa-edit\\\"></i>\\n                        </a>\\n                        <div class=\\\"btn btn-outline-danger mr-1 btn-icon-size mb-1\\\"\\n                            *ngIf=\\\"data.status === 'INACTIVE' || data.status === 'DRAFT'\\\"\\n                            [routerLink]=\\\"['/subject', data.id, 'delete']\\\">\\n                            <i class=\\\"fa fa-trash\\\"></i>\\n                        </div>\\n                    </div>\\n                </td>\\n            </tr>\\n        </tbody>\\n    </table>\\n</div>\"","import { Component, OnInit, OnDestroy } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { Subscription } from 'rxjs';\nimport { Principal } from '../core';\nimport { ITEMS_PER_PAGE } from '../shared';\nimport { HttpResponse, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { SubjectService } from './subject.service';\nimport { ISubject } from '../shared/model/content/subject.model';\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\nimport { IGrade } from '../shared/model/content/grade.model';\nimport { CurriculumService } from '../curriculum/curriculum.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./subject-manage.component.html\",\n    providers: [SubjectService]\n})\nexport class SubjectManageComponent implements OnInit, OnDestroy {\n    subjects: ISubject[];\n    curriculumList: ICurriculum[] = [];\n    gradeList: IGrade[] = [];\n    eventSubscriber: Subscription;\n    totalItems: number;\n    itemsPerPage: number;\n    totalPages: number;\n    page: any;\n    predicate: any;\n    reverse: any;\n    links: any;\n    currentAccount: any;\n    selectedCurriculum: any;\n    selectedGrade: any;\n\n    constructor(\n        public _router: Router,\n        public activatedRoute: ActivatedRoute,\n        public curriculumService: CurriculumService,\n        public subjectService: SubjectService,\n        protected eventManager: JhiEventManager,\n        protected parseLinks: JhiParseLinks,\n        protected principalService: Principal,\n        public pluginService: PluginService\n    ) {\n        this.subjects = [];\n        this.itemsPerPage = ITEMS_PER_PAGE;\n        this.page = 0;\n        this.links = {\n            last: 0\n        };\n        this.predicate = 'id';\n        this.reverse = false;\n    }\n\n    ngOnInit() {\n        this.principalService.identity().then(account => {\n            this.currentAccount = account;\n        });\n        this.registerChangeInSubjects();\n        this.loadCurriculums();\n    }\n\n    reset() {\n        this.page = 0;\n        this.subjects = [];\n        this.loadSubjectList();\n    }\n\n    loadPage(page) {\n        this.page = page;\n        this.loadSubjectList();\n    }\n\n    loadCurriculums() {\n        this.curriculumService.getCurriculumSearch().subscribe(\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignCurriculumList(data: ICurriculum[]) {\n        this.curriculumList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.curriculumList.push(data[i]);\n        }\n    }\n\n    trackId(index: number, item: ISubject) {\n        return item.id;\n    }\n\n    sort() {\n        const result = [this.predicate + ',' + (this.reverse ? 'asc' : 'desc')];\n        if (this.predicate !== 'id') {\n            result.push('id');\n        }\n        return result;\n    }\n\n    registerChangeInSubjects() {\n        this.eventSubscriber = this.eventManager.subscribe('subjectListModification', response => this.reset());\n    }\n\n    protected onError(errorMessage: string) {\n        this.pluginService.alertMessage(errorMessage, \"error\");\n    }\n\n    onCurriculumChange() {\n        let gradesApplicableFrom, gradesApplicableTo;\n        if (this.selectedCurriculum) {\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n            this.selectedGrade = null;\n        }\n    }\n\n    generateGradeList(min, max) {\n        this.gradeList = [];\n        for (var i = min; i <= max; i++) {\n            this.gradeList.push({\n                \"id\": i,\n                \"name\": i\n            });\n        }\n        return this.gradeList;\n    }\n\n    loadSubjectList() {\n        this.subjects = [];\n        if (this.selectedCurriculum && this.selectedGrade) {\n            this.subjectService\n                .getSubjectByCurriculumIdAndGradeId(this.selectedCurriculum.id, this.selectedGrade.id, null)\n                .subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.paginateSubjects(res.body, res.headers),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                );\n        } else {\n            this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\n        }\n    }\n\n    protected paginateSubjects(data: ISubject[], headers: HttpHeaders) {\n        //this.links = this.parseLinks.parse(headers.get('link'));\n        this.totalItems = parseInt(headers.get('X-Total-Count'), 10);\n        if (data.length > 0) {\n            for (let i = 0; i < data.length; i++) {\n                this.subjects.push(data[i]);\n            }\n        } else {\n            this.pluginService.alertMessage(\"No data found..!\", \"warning\");\n        }\n\n    }\n\n    ngOnDestroy() {\n        this.eventManager.destroy(this.eventSubscriber);\n    }\n}\n\n\n\n\n\n","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ACTIVE } from '../shared/constants/common.constants'\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { SubjectService } from './subject.service';\nimport { ISubject } from '../shared/model/content/subject.model';\n\n@Component({\n    templateUrl: \"./subject-manage.component.html\",\n    providers: [SubjectService]\n})\nexport class SubjectPublishComponent implements OnInit {\n\n    constructor(\n        public router: Router,\n        public activatedRoute: ActivatedRoute,\n        public subjectService: SubjectService,\n        protected pluginService: PluginService\n    ) { }\n\n    ngOnInit() {\n        this.activatedRoute.data.subscribe(({ subject }) => {\n            this.publishSubject(subject);\n        });\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<ISubject>>) {\n        result.subscribe((res: HttpResponse<ISubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    publishSubject(subject) {\n        subject.status = ACTIVE;\n        this.subscribeToSaveResponse(this.subjectService.updateSubjectStatus(subject));\n        this.router.navigateByUrl('/subject');\n    }\n\n\n    onSaveSuccess(resp: HttpResponse<ISubject>) {\n        if (resp.body.status === ACTIVE) {\n            this.pluginService.alertMessage(\"Subject published successfully\", \"success\")\n        }\n    }\n\n    onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not publish, please contact admin\", \"error\")\n    }\n\n}","import { Component, OnInit } from '@angular/core';\nimport { Observable } from 'rxjs';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { INACTIVE } from '../shared/constants/common.constants'\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { SubjectService } from './subject.service';\nimport { ISubject } from '../shared/model/content/subject.model';\n\n@Component({\n    templateUrl: \"./subject-manage.component.html\",\n    providers: [SubjectService]\n})\nexport class SubjectUnpublishComponent implements OnInit {\n\n    constructor(\n        public router: Router,\n        public activatedRoute: ActivatedRoute,\n        public subjectService: SubjectService,\n        protected pluginService: PluginService\n    ) { }\n\n    ngOnInit() {\n        this.activatedRoute.data.subscribe(({ subject }) => {\n            this.unpublishGeneralSubject(subject);\n        });\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<ISubject>>) {\n        result.subscribe((res: HttpResponse<ISubject>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    unpublishGeneralSubject(subject) {\n        subject.status = INACTIVE;\n        this.subscribeToSaveResponse(this.subjectService.updateSubjectStatus(subject));\n        this.router.navigateByUrl('/subject');\n    }\n\n\n    onSaveSuccess(resp: HttpResponse<ISubject>) {\n        if (resp.body.status === INACTIVE) {\n            this.pluginService.alertMessage(\"Subject unpublished successfully\", \"success\")\n        }\n    }\n\n    onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not unpublish, please contact admin\", \"error\")\n    }\n\n}","module.exports = \"<div class=\\\"col-xxl-12 justify-content-between d-flex my-3\\\">\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n    </div>\\n</div>\\n\\n<div class=\\\"row-flex stepper\\\">\\n    <div class=\\\"nav flex-column nav-pills stepper-left\\\" id=\\\"v-pills-tab\\\" role=\\\"tablist\\\" aria-orientation=\\\"vertical\\\">\\n        <a class=\\\"nav-link active\\\" id=\\\"createSubject-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#createSubject\\\" role=\\\"tab\\\"\\n            aria-controls=\\\"createSubject\\\" aria-selected=\\\"false\\\">\\n            <span class=\\\"index-round\\\">\\n                Step 1\\n            </span>\\n            <span class=\\\"step-label\\\">\\n                Create subject\\n            </span>\\n        </a>\\n        <a class=\\\"nav-link disabled\\\" id=\\\"creareSyllabus-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#creareSyllabus\\\" role=\\\"tab\\\"\\n            aria-controls=\\\"creareSyllabus\\\" aria-selected=\\\"false\\\">\\n            <span class=\\\"index-round\\\">\\n                Step 2\\n            </span>\\n            <span class=\\\"step-label\\\">\\n                Create syllabus\\n            </span>\\n        </a>\\n        <a class=\\\"nav-link disabled\\\" id=\\\"confirmation-tab\\\" data-toggle=\\\"pill\\\" href=\\\"#confirmation\\\" role=\\\"tab\\\"\\n            aria-controls=\\\"confirmation\\\" aria-selected=\\\"false\\\">\\n            <span class=\\\"index-round\\\">\\n                Step 3\\n            </span>\\n            <span class=\\\"step-label\\\">\\n                Summary\\n            </span>\\n        </a>\\n    </div>\\n    <div class=\\\"stepper-right tab-content p-3\\\" id=\\\"v-pills-tabContent\\\">\\n        <div class=\\\"tab-pane fade show active\\\" id=\\\"createSubject\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"createSubject-tab\\\">\\n            <form [formGroup]=\\\"subjectForm\\\">\\n                <div class=\\\"form-group mb-2 col-xxl-6\\\">\\n                    <label for=\\\"curriculum\\\" class=\\\"col-form-label\\\">Curriculum name</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"curriculum\\\" formControlName=\\\"curriculum\\\">\\n                </div>\\n                <div class=\\\"form-group mb-2 col-xxl-6\\\">\\n                    <label for=\\\"grade\\\" class=\\\"col-form-label\\\">Grade</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" id=\\\"grade\\\" formControlName=\\\"grade\\\">\\n                </div>\\n                <div class=\\\"form-group mb-2 col-xxl-6\\\">\\n                    <label for=\\\"subjectName\\\" class=\\\"col-form-label\\\">Subject name</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\"\\n                        placeholder=\\\"Enter subject name (min length: 3, max length: 50)\\\"\\n                        inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"subjectName\\\" maxlength=\\\"50\\\" minlength=\\\"3\\\"\\n                        [ngClass]=\\\"{ 'is-invalid': validateSubjectForm && formControl.subjectName.errors }\\\">\\n                    <div class=\\\"text-muted font-15 my-2\\\">Allowed\\n                        characters - Alphabets</div>\\n                </div>\\n                <div class=\\\"form-group mb-2 col-xxl-6\\\">\\n                    <label for=\\\"description\\\" class=\\\" col-form-label\\\">Description\\n                        <span class=\\\"text-muted\\\">(Optional)</span></label>\\n                    <textarea class=\\\"form-control description-form\\\"\\n                        placeholder=\\\"Enter description  (min length: 3, max length: 250)\\\"\\n                        formControlName=\\\"subjectDescription\\\"\\n                        [ngClass]=\\\"{ 'is-invalid': validateSubjectForm && formControl.subjectDescription.errors }\\\"\\n                        maxlength=\\\"250\\\" minlength=\\\"3\\\"></textarea>\\n                    <div class=\\\"text-muted font-15 my-2\\\">\\n                        Allowed characters - Alphabets, Numbers and\\n                        Special characters\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group mb-2 col-xxl-6 d-flex justify-content-start\\\">\\n                    <div class=\\\"checkbox mr-2\\\">\\n                        <input type=\\\"checkbox\\\" id=\\\"isLanguage\\\" formControlName=\\\"isLanguage\\\">\\n                        <label class=\\\"mt-2 p-3\\\" for=\\\"isLanguage\\\"></label>\\n                    </div>\\n                    <label class=\\\"mt-2\\\" for=\\\"isLanguage\\\">Is language ? <span\\n                            class=\\\"text-muted\\\">(Optional)</span></label>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-xxl-12 d-flex justify-content-end\\\">\\n                        <button class=\\\"btn btn-success next-step\\\" [disabled]=\\\"validateSubjectForm\\\"\\n                            (click)=\\\"loadUpdatedSubjectTree()\\\">\\n                            Next\\n                            <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n                        </button>\\n                    </div>\\n                </div>\\n            </form>\\n        </div>\\n\\n        <div class=\\\"tab-pane fade\\\" id=\\\"creareSyllabus\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"creareSyllabus-tab\\\">\\n\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-xxl-4 p-2\\\">\\n                    <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subject.length > 1\\\">\\n                        <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n                            <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                            <span *ngIf=\\\"enableExpandNode === false\\\">\\n                                Expand all\\n                            </span>\\n                            <span *ngIf=\\\"enableExpandNode === true\\\">\\n                                Collapse all\\n                            </span>\\n                        </div>\\n                    </div>\\n                    <div id=\\\"buildTree\\\"></div>\\n                </div>\\n                <div class=\\\"col-xxl-8\\\">\\n                    <div class=\\\"w-100 d-flex justify-content-end align-self-start mb-2\\\" *ngIf=\\\"enableNodeOperation\\\">\\n                        <div class=\\\"btn btn-primary mr-2\\\" *ngIf=\\\"nodeType !== 'lesson'\\\" (click)=\\\"createNode()\\\">\\n                            <i class=\\\"fa fa-plus-circle mr-2\\\"></i>Add new\\n                            unit / lesson\\n                        </div>\\n                        <div class=\\\"btn btn-success mr-2\\\" (click)=\\\"editNode()\\\" *ngIf=\\\"enableEditNodeOperation\\\">\\n                            <i class=\\\"fa fa-edit mr-2\\\"></i>Edit {{nodeType}}\\n                        </div>\\n                        <div class=\\\"btn btn-danger\\\" (click)=\\\"deleteNode()\\\" *ngIf=\\\"nodeType !== 'root'\\\">\\n                            <i class=\\\"fa fa-trash mr-2\\\"></i> Delete {{nodeType}}\\n                        </div>\\n                    </div>\\n                    <div class=\\\"w-100 p-4\\\">\\n                        <div *ngIf=\\\"nodeType === 'unit'\\\">\\n                            <p><b>Unit name :</b> {{nodeTitle}} </p>\\n                            <p><b>Unit description :</b> {{nodeDescription}}</p>\\n                        </div>\\n                        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\n                            <p><b>Lesson name :</b> {{nodeTitle}}</p>\\n                            <p><b>Lesson objective :</b> {{nodeDescription}}</p>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"my-2 p-3 border-danger rounded\\\">\\n                <p class=\\\"text-danger\\\"><b>NOTE</b></p>\\n                <p class=\\\"text-primary\\\">\\n                    <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Select a node and do your actions.\\n                </p>\\n                <p class=\\\"text-primary\\\">\\n                    <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Without any changes, you can't update subject.\\n                </p>\\n                <p class=\\\"text-primary\\\">\\n                    <i class=\\\"fa fa-check mr-2 text-danger\\\"></i> Only one root node is allowed, you can't do drag and\\n                    drop on top of\\n                    root node\\n                </p>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-xxl-12 d-flex justify-content-end\\\">\\n                    <div class=\\\"btn btn-danger prev-step\\\">\\n                        <i class=\\\"fa fa-arrow-left mr-2\\\"></i> Previous\\n                    </div>\\n                    <button class=\\\"btn btn-success ml-2 next-step\\\" [disabled]=\\\"validateNode\\\">\\n                        Next\\n                        <i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"tab-pane fade\\\" id=\\\"confirmation\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"confirmation-tab\\\">\\n\\n            <div class=\\\"card-body\\\">\\n                <div class=\\\"row mb-3\\\">\\n                    <div class=\\\"col-xxl-6\\\">\\n                        <h5>Before changes</h5>\\n                        <div id=\\\"beforeChangeTree\\\"></div>\\n                    </div>\\n                    <div class=\\\"col-xxl-6\\\">\\n                        <h5>After changes</h5>\\n                        <div id=\\\"afterChangeTree\\\"></div>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"row\\\">\\n                <div class=\\\"col-xxl-12 d-flex justify-content-end\\\">\\n                    <span class=\\\"btn btn-danger mr-2 prev-step\\\">\\n                        <i class=\\\"fa fa-arrow-left mr-2\\\"></i>\\n                        Previous\\n                    </span>\\n                    <div class=\\\"btn btn-info mr-2\\\" (click)=\\\"saveAsDraft()\\\">\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\n                        Save as draft\\n                    </div>\\n                    <div class=\\\"btn btn-success\\\" (click)=\\\"saveAndPublish()\\\">\\n                        <i class=\\\"fe fe-file-plus mr-2\\\"></i>\\n                        Save and publish\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n    </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"subjectEditModal\\\">\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\" [formGroup]=\\\"syllabusForm\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    {{modalTitleName}} unit / lesson\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingNode()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">Type\\n                    </label>\\n                    <ng-select [items]=\\\"nodeTypes\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                        bindLabel=\\\"name\\\" placeholder=\\\"Select node type\\\" [(ngModel)]=\\\"selectedNodeType\\\"\\n                        (change)=\\\"onNodeTypeChange()\\\" [searchable]=\\\"false\\\">\\n                    </ng-select>\\n                </div>\\n                <div *ngIf=\\\"nodeType === 'unit'\\\">\\n                    <div class=\\\"form-group mb-2\\\">\\n                        <label class=\\\"col-form-label\\\">Unit\\n                            name\\n                        </label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"unitName\\\"\\n                            placeholder=\\\"Enter unit name (minlength: 3 and maxlength: 75)\\\"\\n                            inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\" />\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\n                            Allowed characters - Alphabets, Numbers and Special character (-)\\n                        </div>\\n                    </div>\\n                    <div class=\\\"form-group mb-2\\\">\\n                        <label class=\\\"col-form-label\\\">Unit\\n                            description\\n                        </label>\\n                        <textarea class=\\\"form-control description-form\\\"\\n                            placeholder=\\\"Enter unit description (minlength: 3 and maxlength: 250)\\\" minlength=\\\"3\\\"\\n                            maxlength=\\\"250\\\" formControlName=\\\"unitDescription\\\"></textarea>\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\n                            Allowed characters - Alphabets, Numbers and Special characters\\n                        </div>\\n                    </div>\\n                </div>\\n                <div *ngIf=\\\"nodeType === 'lesson'\\\">\\n                    <div class=\\\"form-group mb-2\\\">\\n                        <label class=\\\"col-form-label\\\">Lesson\\n                            name\\n                        </label>\\n                        <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"lessonName\\\"\\n                            placeholder=\\\"Enter lesson name (minlength: 3 and maxlength: 75)\\\"\\n                            inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\" />\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\n                            Allowed characters - Alphabets, Numbers and Special character (-)\\n                        </div>\\n                    </div>\\n                    <div class=\\\"form-group mb-2\\\">\\n                        <label class=\\\"col-form-label\\\">Lesson\\n                            objective\\n                        </label>\\n                        <textarea class=\\\"form-control description-form\\\"\\n                            placeholder=\\\"Enter lesson objective (minlength: 3 and maxlength: 250)\\\" minlength=\\\"3\\\"\\n                            maxlength=\\\"250\\\" formControlName=\\\"lessonObjective\\\"></textarea>\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\n                            Allowed characters - Alphabets, Numbers and Special characters\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\" *ngIf=\\\"enableModalOperation\\\">\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"cancelNode()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i>\\n                    Reset\\n                </div>\\n                <button class=\\\"btn btn-success\\\" (click)=\\\"saveNode()\\\" [disabled]=\\\"validateNodeForm\\\">\\n                    <i class=\\\"fa fa-save mr-2\\\"></i>\\n                    Save\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { FormControl, FormBuilder, FormGroup, Validators } from '@angular/forms';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { PluginService } from '../shared/plugin/plugin.service';\nimport { DRAFT, CREATED, EDITED, DELETED, NOCHANGE, ACTIVE } from '../shared/constants/common.constants';\nimport { SubjectService } from './subject.service';\nimport { ISubject } from '../shared/model/content/subject.model';\nimport { CommonService } from '../shared/common/common.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./subject-update.component.html\",\n    providers: [SubjectService]\n})\nexport class SubjectUpdateComponent implements OnInit, AfterViewInit, AfterViewChecked {\n    subjectForm: FormGroup;\n    syllabusForm: FormGroup;\n    subject: ISubject;\n    updatedJSONTree: ISubject[] = [];\n    nodeTypes: any[] = [];\n    nodeTitle: string;\n    nodeDescription: string;\n    subjectName: string;\n    subjectDescription: string;\n    curriculum: string;\n    grade: string;\n    nodeType: string;\n    nodeId: string;\n    nodeOperationType: string;\n    modalTitleName: string;\n    enableNodeOperation: boolean;\n    enableEditNodeOperation: boolean;\n    disableDropdown: boolean;\n    enableModalOperation: boolean;\n    validateSubjectForm: boolean;\n    validateNodeForm: boolean;\n    validateNode: boolean;\n    enableExpandNode: boolean;\n    selectedNodeType: any;\n\n    constructor(\n        private router: Router,\n        private formBuilder: FormBuilder,\n        public pluginService: PluginService,\n        public subjectService: SubjectService,\n        public activatedRoute: ActivatedRoute,\n        public commonService: CommonService,\n        private changeDetectRef: ChangeDetectorRef\n    ) {\n        this.validateNodeForm = true;\n        this.validateNode = true;\n        this.enableExpandNode = false;\n    }\n\n    ngOnInit() {\n        this.pluginService.sideMenuToggle();\n        this.createSubjectGroup();\n        this.pluginService.stepper();\n        this.activatedRoute.data.subscribe(({ subject }) => {\n            this.updateSubjectValues(subject);\n        });\n        this.getNodeTypeList();\n    }\n\n    getNodeTypeList() {\n        this.commonService.getGeneralDataList().subscribe((nodeTypeData: any) => {\n            this.nodeTypes = nodeTypeData.subject;\n        });\n    }\n\n    createSubjectGroup() {\n        this.subjectForm = this.formBuilder.group({\n            curriculum: new FormControl(\"\"),\n            grade: new FormControl(\"\"),\n            subjectName: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(50)]),\n            subjectDescription: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(250)]),\n            isLanguage: new FormControl(false)\n        });\n        this.syllabusForm = this.formBuilder.group({\n            unitName: new FormControl(null),\n            unitDescription: new FormControl(null, [Validators.minLength(3), Validators.maxLength(250)]),\n            lessonName: new FormControl(null),\n            lessonObjective: new FormControl(null, [Validators.minLength(3), Validators.maxLength(250)])\n        })\n    }\n\n    get formControl() { return this.subjectForm.controls; }\n    get modalFormControl() { return this.syllabusForm.controls; }\n\n    onNodeTypeChange() {\n        const validators = [Validators.required, Validators.minLength(3), Validators.maxLength(75)];\n        if (this.selectedNodeType) {\n            this.nodeType = this.selectedNodeType.name;\n            if (this.nodeType === 'unit') {\n                this.enableModalOperation = true;\n                this.syllabusForm.addControl('unitName', new FormControl('', validators));\n                this.syllabusForm.addControl('lessonName', new FormControl('', null));\n            } else if (this.nodeType === 'lesson') {\n                this.enableModalOperation = true;\n                this.syllabusForm.addControl('lessonName', new FormControl('', validators));\n                this.syllabusForm.addControl('unitName', new FormControl('', null));\n            }\n        }\n    }\n\n    updateSubjectValues(subject: ISubject) {\n        var name, description, isLanguage, curriculumId, grade;\n        this.updateStatusForAllNode(subject);\n        name = subject[0].data.name;\n        description = subject[0].data.description;\n        isLanguage = subject[0].data.isLanguage;\n        grade = subject[0].data.grade;\n        curriculumId = subject[0].data.curriculumId;\n        this.subjectForm.setValue({\n            subjectName: name,\n            subjectDescription: description,\n            isLanguage: isLanguage,\n            curriculum: curriculumId,\n            grade: grade\n        });\n        this.pluginService.jsTree(\"#beforeChangeTree\", subject, false);\n        this.subjectForm.get('curriculum').disable();\n        this.subjectForm.get('grade').disable();\n    }\n\n    updateStatusForAllNode(subject) {\n        for (var i = 0; i < subject.length; i++) {\n            subject[i].data.editStatus = NOCHANGE;\n        }\n        this.subject = subject;\n    }\n\n    loadUpdatedSubjectTree() {\n        this.subject[0].text = this.subjectName;\n        this.subject[0].data.name = this.subjectName;\n        this.subject[0].data.description = this.subjectDescription;\n        this.subject[0].data.isLanguage = this.subjectForm.value.isLanguage;\n        this.pluginService.jsTree(\"#buildTree\", this.subject, true);\n    }\n\n    cancelForm() {\n        this.subjectForm.reset();\n    }\n\n    ngAfterViewInit() {\n        this.nodeSelectedEvent();\n        this.generateJSONTreeOnDragAndDrop();\n    }\n\n    openUnitAndLessonModal() {\n        this.pluginService.showModalWindow(\"#subjectEditModal\");\n    }\n\n    closeUnitAndLessonModal() {\n        this.pluginService.hideModalWindow(\"#subjectEditModal\")\n    }\n\n    closeWithOutSavingNode() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to close without saving ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    localthisObject.closeUnitAndLessonModal();\n                    localthisObject.disableNodeOperations();\n                }\n            });\n    }\n\n    disableNodeOperations() {\n        this.enableNodeOperation = false;\n        this.nodeType = \"\"\n        this.enableNodeOperation = false;\n        this.nodeType = \"\"\n        this.resetFormValues();\n        let treeCallback = $('#buildTree').jstree(true);\n        treeCallback.deselect_all();\n    }\n\n    //Reset all form values\n    resetFormValues() {\n        this.syllabusForm.reset();\n        this.selectedNodeType = null;\n    }\n\n    //Tree selection and change method call\n    nodeSelectedEvent() {\n        let conceptThis = this;\n        $('#buildTree').on('changed.jstree', function (e, data) {\n            let i, j;\n            for (i = 0, j = data.selected.length; i < j; i++) {\n                conceptThis.nodeType = data.node.type;\n                if (conceptThis.nodeType === \"root\") {\n                    conceptThis.enableNodeOperation = true;\n                    conceptThis.enableEditNodeOperation = false;\n                } else if (conceptThis.nodeType === \"unit\") {\n                    conceptThis.enableEditNodeOperation = true;\n                    conceptThis.enableNodeOperation = true;\n                    conceptThis.nodeId = data.node.data.id;\n                    conceptThis.nodeTitle = data.node.data.name;\n                    conceptThis.nodeDescription = data.node.data.description;\n                    conceptThis.syllabusFormSetValues(conceptThis);\n                } else if (conceptThis.nodeType === \"lesson\") {\n                    conceptThis.enableNodeOperation = true;\n                    conceptThis.enableEditNodeOperation = true;\n                    conceptThis.nodeId = data.node.data.id;\n                    conceptThis.nodeTitle = data.node.data.name;\n                    conceptThis.nodeDescription = data.node.data.objective;\n                    conceptThis.syllabusFormSetValues(conceptThis);\n                } else {\n                    conceptThis.enableNodeOperation = false;\n                    conceptThis.enableEditNodeOperation = false;\n                }\n\n            }\n        })\n\n    }\n\n    //Unit and lesson details form setvalues method\n    syllabusFormSetValues(Objectthis) {\n        let nodeTypeIndex;\n        nodeTypeIndex = this.nodeTypes.findIndex(item => item.name === Objectthis.nodeType);\n        this.selectedNodeType = this.nodeTypes[nodeTypeIndex];\n        if (Objectthis.nodeType === \"unit\") {\n            this.syllabusForm.setValue({\n                unitName: Objectthis.nodeTitle,\n                unitDescription: Objectthis.nodeDescription,\n                lessonName: \"\",\n                lessonObjective: \"\"\n            })\n        } else {\n            this.syllabusForm.setValue({\n                unitName: \"\",\n                unitDescription: \"\",\n                lessonName: Objectthis.nodeTitle,\n                lessonObjective: Objectthis.nodeDescription,\n            })\n        }\n    }\n\n    //Create node method\n    createNode() {\n        this.nodeOperationType = \"create\";\n        this.modalTitleName = \"Add new\";\n        this.disableDropdown = false;\n        this.openUnitAndLessonModal();\n        this.nodeType = \"\";\n        this.resetFormValues();\n        this.disableDropdown = false;\n        this.enableModalOperation = false;\n        this.selectedNodeType = null;\n    }\n\n    //Edit node method\n    editNode() {\n        this.nodeOperationType = \"edit\";\n        this.modalTitleName = \"Edit\";\n        this.disableDropdown = true;\n        this.syllabusForm.patchValue({\n            unitName: this.nodeTitle,\n            unitDescription: this.nodeDescription,\n            lessonName: this.nodeTitle,\n            lessonObjective: this.nodeDescription\n        })\n        this.openUnitAndLessonModal();\n        this.enableModalOperation = true;\n    }\n\n    trimValue(value) {\n        if (value === null || value === undefined) {\n            return value;\n        } else {\n            return value.trim();\n        }\n    }\n\n    validateSubjectFormValues() {\n        this.subjectName = this.trimValue(this.subjectForm.value.subjectName);\n        this.subjectDescription = this.trimValue(this.subjectForm.value.subjectDescription);\n        if (this.subjectName === \"\" || this.subjectName === undefined || this.subjectName === null) {\n            this.validateSubjectForm = true;\n        } else {\n            this.validateSubjectForm = false;\n        }\n        if (this.subjectForm.invalid) {\n            this.validateSubjectForm = true;\n        }\n        if (this.subjectForm.valid) {\n            this.validateSubjectForm = false;\n        }\n    }\n\n    validateUnitAndLessonForm() {\n        let unitName, lessonName;\n        unitName = this.trimValue(this.syllabusForm.value.unitName);\n        lessonName = this.trimValue(this.syllabusForm.value.lessonName);\n        if (this.nodeType === 'unit') {\n            if (unitName === null || unitName === \"\" || unitName === undefined) {\n                this.validateNodeForm = true;\n            } else {\n                this.validateNodeForm = false;\n            }\n        } else if (this.nodeType === 'lesson') {\n            if (lessonName === null || lessonName === \"\" || lessonName === undefined) {\n                this.validateNodeForm = true;\n            } else {\n                this.validateNodeForm = false;\n            }\n        }\n    }\n\n    ngAfterViewChecked() {\n        //Subject Form Validation\n        this.validateSubjectFormValues();\n        //Unit and lesson form validation\n        this.validateUnitAndLessonForm();\n        this.changeDetectRef.detectChanges();\n    }\n\n    //Save node method\n    saveNode() {\n        if (this.syllabusForm.valid) {\n            this.validateNodeForm = false;\n            var newNodeArray, position, parent, treeCallback, jsonArray, nodeIndex, arrayDetails, selectedNodeID, data;\n            position = 'last';\n            parent = $('#buildTree').jstree('get_selected')[0];\n            treeCallback = $('#buildTree').jstree(true);\n            jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n            selectedNodeID = treeCallback.get_selected()[0];\n            nodeIndex = jsonArray.findIndex(item => item.id === selectedNodeID);\n            if (this.nodeOperationType === \"create\") {\n                if (this.nodeType === \"unit\") {\n                    this.nodeTitle = this.trimValue(this.syllabusForm.value.unitName);\n                    this.nodeDescription = this.trimValue(this.syllabusForm.value.unitDescription);\n                    newNodeArray = {\n                        \"icon\": \"fe fe-server\",\n                        \"text\": this.nodeTitle,\n                        \"type\": \"unit\",\n                        \"data\": {\n                            \"name\": this.nodeTitle,\n                            \"description\": this.nodeDescription,\n                            \"editStatus\": CREATED,\n                            \"objective\": \"\",\n                            \"orderNumber\": 0,\n                            \"status\": null,\n                            \"fullName\": \"\",\n                            \"curriculumId\": null,\n                            \"grade\": null\n                        }\n                    }\n                    $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n                    jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n                }\n                else if (this.nodeType === \"lesson\") {\n                    this.nodeTitle = this.trimValue(this.syllabusForm.value.lessonName);\n                    this.nodeDescription = this.trimValue(this.syllabusForm.value.lessonObjective);\n                    newNodeArray = {\n                        \"icon\": \"fa fa-file\",\n                        \"text\": this.nodeTitle,\n                        \"type\": \"lesson\",\n                        \"data\": {\n                            \"name\": this.nodeTitle,\n                            \"objective\": this.nodeDescription,\n                            \"editStatus\": CREATED,\n                            \"description\": \"\",\n                            \"orderNumber\": 0,\n                            \"status\": null,\n                            \"fullName\": \"\",\n                            \"curriculumId\": null,\n                            \"grade\": null\n                        }\n                    }\n                    jsonArray[nodeIndex].text = this.nodeTitle;\n                    $('#buildTree').jstree().create_node(parent, newNodeArray, position);\n                    jsonArray = treeCallback.get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n                }\n                this.validateNode = false;\n            } if (this.nodeOperationType === \"edit\") {\n                this.nodeType = jsonArray[nodeIndex].type;\n                if (this.nodeType === \"unit\") {\n                    this.nodeTitle = this.trimValue(this.syllabusForm.value.unitName);\n                    this.nodeDescription = this.trimValue(this.syllabusForm.value.unitDescription);\n                    jsonArray[nodeIndex].text = this.nodeTitle;\n                    data = {\n                        \"id\": this.nodeId,\n                        \"name\": this.nodeTitle,\n                        \"description\": this.nodeDescription,\n                        \"editStatus\": EDITED,\n                        \"objective\": \"\",\n                        \"orderNumber\": 0,\n                        \"status\": null,\n                        \"fullName\": \"\"\n                    }\n                    arrayDetails = jsonArray[nodeIndex];\n                    arrayDetails.data = data;\n                } else if (this.nodeType === \"lesson\") {\n                    this.nodeTitle = this.trimValue(this.syllabusForm.value.lessonName);\n                    this.nodeDescription = this.trimValue(this.syllabusForm.value.lessonObjective);\n                    jsonArray[nodeIndex].text = this.nodeTitle;\n                    data = {\n                        \"id\": this.nodeId,\n                        \"name\": this.nodeTitle,\n                        \"objective\": this.nodeDescription,\n                        \"editStatus\": EDITED,\n                        \"description\": \"\",\n                        \"orderNumber\": 0,\n                        \"status\": null,\n                        \"fullName\": \"\",\n                        \"curriculumId\": null,\n                        \"grade\": null\n                    }\n                    arrayDetails = jsonArray[nodeIndex];\n                    arrayDetails.data = data;\n                }\n                this.validateNode = false;\n            } else if (this.nodeOperationType === \"delete\") {\n                this.nodeType = jsonArray[nodeIndex].type;\n                if (this.nodeType === \"unit\") {\n                    data = {\n                        \"id\": this.nodeId,\n                        \"name\": this.nodeTitle,\n                        \"description\": this.nodeDescription,\n                        \"editStatus\": DELETED,\n                        \"objective\": \"\",\n                        \"orderNumber\": 0,\n                        \"status\": null,\n                        \"fullName\": \"\",\n                        \"curriculumId\": null,\n                        \"grade\": null\n                    }\n                    arrayDetails = jsonArray[nodeIndex];\n                    arrayDetails.data = data;\n                    arrayDetails.type = 'unit';\n                    jsonArray[nodeIndex].icon = \"fa fa-trash\";\n\n                    //Update a child node status\n                    if (treeCallback.is_parent(selectedNodeID) === true) {\n                        this.getChildrenDOM(selectedNodeID, jsonArray);\n                    }\n                } else if (this.nodeType === \"lesson\") {\n                    data = {\n                        \"id\": this.nodeId,\n                        \"name\": this.nodeTitle,\n                        \"objective\": this.nodeDescription,\n                        \"editStatus\": DELETED,\n                        \"description\": \"\",\n                        \"orderNumber\": 0,\n                        \"status\": null,\n                        \"fullName\": \"\",\n                        \"curriculumId\": null,\n                        \"grade\": null\n                    }\n                    arrayDetails = jsonArray[nodeIndex];\n                    arrayDetails.data = data;\n                    arrayDetails.type = 'lesson';\n                    jsonArray[nodeIndex].icon = \"fa fa-trash\";\n                }\n                this.validateNode = false;\n            }\n            this.pluginService.jsTree(\"#buildTree\", jsonArray, true)\n            this.changeNodeStatus(jsonArray);\n            treeCallback.deselect_all();\n            this.nodeType = \"\";\n            this.enableNodeOperation = false;\n            this.closeUnitAndLessonModal();\n            this.resetFormValues();\n        }\n        if (this.syllabusForm.invalid) {\n            this.validateNodeForm = true;\n            return;\n        }\n    }\n\n    //Delete node method\n    deleteNode() {\n        this.nodeOperationType = \"delete\";\n        this.saveNode();\n    }\n\n    //Get children DOM\n    getChildrenDOM(selectedNode, jsonArray) {\n        var treeCallBack, childrenDOM, childDOM, lastChildDOM, subChildDOM, i, j, k, l, childrenIDs1 = [], childrenIDs2 = [], childrenIDs3 = [], childrenIDs4 = [], childrenIDs = [];\n        treeCallBack = $(\"#buildTree\").jstree(true)\n        childrenDOM = treeCallBack.get_children_dom(selectedNode);\n        for (i = 0; i < childrenDOM.length; i++) {\n            childrenIDs1.push({ \"id\": childrenDOM[i].id });\n            if (treeCallBack.is_parent(childrenIDs1[i]) === true) {\n                childDOM = treeCallBack.get_children_dom(childrenIDs1[i]);\n                for (j = 0; j < childDOM.length; j++) {\n                    childrenIDs2.push({ \"id\": childDOM[j].id });\n                    if (treeCallBack.is_parent(childrenIDs2[j]) === true) {\n                        subChildDOM = treeCallBack.get_children_dom(childrenIDs2[j]);\n                        for (k = 0; k < subChildDOM.length; k++) {\n                            childrenIDs3.push({ \"id\": subChildDOM[k].id });\n                            if (treeCallBack.is_parent(childrenIDs3[k]) === true) {\n                                lastChildDOM = treeCallBack.get_children_dom(childrenIDs3[k]);\n                                for (l = 0; l < lastChildDOM.length; l++) {\n                                    childrenIDs4.push({ \"id\": lastChildDOM[l].id });\n                                    this.updateDeleteStatus(childrenIDs4, jsonArray);\n                                }\n                            }\n                            this.updateDeleteStatus(childrenIDs3, jsonArray);\n                        }\n                    }\n                    this.updateDeleteStatus(childrenIDs2, jsonArray);\n                }\n            }\n        }\n        this.updateDeleteStatus(childrenIDs1, jsonArray);\n        this.updatedJSONTree = jsonArray;\n    }\n\n    //Update delete status\n    updateDeleteStatus(childrenIDs, jsonArray) {\n        var k, nodeIndex, nodeType, data, childrenIDs;\n        for (k = 0; k < childrenIDs.length; k++) {\n            nodeIndex = jsonArray.findIndex(item => item.id === childrenIDs[k].id);\n            nodeType = jsonArray[nodeIndex].type;\n            if (nodeType === \"unit\") {\n                data = {\n                    \"id\": this.nodeId,\n                    \"name\": this.nodeTitle,\n                    \"description\": this.nodeDescription,\n                    \"editStatus\": DELETED,\n                    \"objective\": \"\",\n                    \"orderNumber\": 0,\n                    \"status\": null,\n                    \"fullName\": \"\",\n                    \"curriculumId\": null,\n                    \"grade\": null\n                }\n                jsonArray[nodeIndex].data = data;\n                jsonArray[nodeIndex].type = 'unit';\n                jsonArray[nodeIndex].icon = \"fa fa-trash\";\n            } else {\n                data = {\n                    \"id\": this.nodeId,\n                    \"name\": this.nodeTitle,\n                    \"objective\": this.nodeDescription,\n                    \"editStatus\": DELETED,\n                    \"description\": \"\",\n                    \"orderNumber\": 0,\n                    \"status\": null,\n                    \"fullName\": \"\",\n                    \"curriculumId\": null,\n                    \"grade\": null\n                }\n                jsonArray[nodeIndex].data = data;\n                jsonArray[nodeIndex].type = 'lesson';\n                jsonArray[nodeIndex].icon = \"fa fa-trash\";\n            }\n        }\n    }\n\n    //Generate JSON tree on drag and drop\n    generateJSONTreeOnDragAndDrop() {\n        var localObj = this;\n        $(document).on('dnd_stop.vakata', function (e, data) {\n            setTimeout(function () {\n                var json = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true });\n                localObj.updateJSONTreeWithOrderNum(json);\n            }, 100);\n        });\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<ISubject>>) {\n        result.subscribe((res: HttpResponse<ISubject>) => this.onSaveSuccess(res), (ErrRes: HttpErrorResponse) => this.onSaveError(ErrRes));\n    }\n\n    saveAsDraft() {\n        this.updatedJSONTree[0].data.status = DRAFT;\n        this.saveGeneralSubject();\n    }\n\n    saveAndPublish() {\n        this.updatedJSONTree[0].data.status = ACTIVE;\n        this.saveGeneralSubject();\n    }\n\n    saveGeneralSubject() {\n        this.subscribeToSaveResponse(this.subjectService.saveSubject(this.createSubjectForm()));\n    }\n\n    protected onSaveSuccess(res: HttpResponse<ISubject>) {\n        this.pluginService.alertMessage(\"General subject saved successfully\", \"success\")\n        this.previousUrl();\n        this.resetFormValues();\n        this.subjectForm.reset();\n    }\n\n    protected onSaveError(res: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    private createSubjectForm(): ISubject[] {\n        return this.updatedJSONTree;\n    }\n\n    //update JSON array with order number \n    updateJSONTreeWithOrderNum(json) {\n        this.updatedJSONTree = [];\n        this.updatedJSONTree = json;\n        if (this.updatedJSONTree[0].type === \"unit\" || this.updatedJSONTree[0].type === \"lesson\") {\n            this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n            this.validateNode = true;\n        } else if (this.updatedJSONTree[0].type === \"root\") {\n            this.validateNode = false;\n        }\n        for (let i = 0; i < this.updatedJSONTree.length; i++) {\n            this.updatedJSONTree[i].data.orderNumber = i;\n            //Remove unwanted objects (for api call) from the JSON tree\n            delete this.updatedJSONTree[i].state;\n            delete this.updatedJSONTree[i].a_attr;\n            delete this.updatedJSONTree[i].li_attr;\n            if ((this.updatedJSONTree[i].type !== \"root\") && (this.updatedJSONTree[i].parent === \"#\")) {\n                this.pluginService.alertMessage(\"More than one root element is not allowed, please remove the additional root element and proceed\", \"error\");\n                this.validateNode = true;\n            }\n        }\n        this.pluginService.jsTree(\"#afterChangeTree\", this.updatedJSONTree, false);\n    }\n\n    //If new node is created and edited , status will be created only \n    //If new node is created and deleted , remove an element from the updated array\n    changeNodeStatus(json) {\n        let selectedNodeID, treeCallback, updatedJson;\n        for (let i = 0; i < json.length; i++)\n            if (json[i].data.id === undefined) {\n                if (json[i].data.editStatus === EDITED) {\n                    json[i].data.editStatus = CREATED\n                } else if (json[i].data.editStatus === DELETED) {\n                    treeCallback = $('#buildTree').jstree(true);\n                    selectedNodeID = treeCallback.get_selected()[0];\n                    treeCallback.delete_node($('#' + selectedNodeID))\n                    updatedJson = $(\"#buildTree\").jstree(true).get_json('#', { no_state: true, no_li_attr: true, no_a_attr: true, flat: true })\n                    json = updatedJson;\n                }\n            }\n        this.updateJSONTreeWithOrderNum(json);\n    }\n\n    cancelNode() {\n        this.resetFormValues();\n    }\n\n    protected onError(errorMessage: string) {\n        this.pluginService.alertMessage(errorMessage, \"error\");\n    }\n\n    toggleTreeNodes() {\n        this.enableExpandNode = !this.enableExpandNode;\n        if (this.enableExpandNode) {\n            this.pluginService.openJsTreeAllNodes(\"#buildTree\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#buildTree\")\n        }\n    }\n\n    onBack() {\n        var localObj = this;\n        swal({\n            title: \"Are you sure to go previous page ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm) {\n                    localObj.previousUrl();\n                    localObj.pluginService.sideMenuToggle();\n                }\n            });\n    }\n\n    previousUrl() {\n        this.router.navigateByUrl('/subject')\n    }\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { NgJhipsterModule } from 'ng-jhipster';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { SharedModule } from '../shared';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { subjectRoute } from './subject.route';\nimport { SubjectManageComponent } from './subject-manage.component';\nimport { SubjectPublishComponent } from './subject-update-publish.component';\nimport { SubjectDeleteComponent } from './subject-delete.component';\nimport { SubjectUnpublishComponent } from './subject-update-unpublish.component';\nimport { SubjectCreateComponent } from './subject-create.component';\nimport { SubjectUpdateComponent } from './subject-update.component';\nimport { SubjectDetailsComponent } from './subject-details.component';\n\n\n@NgModule({\n  imports: [\n    RouterModule.forChild(subjectRoute),\n    FormsModule,\n    ReactiveFormsModule,\n    SharedModule,\n    NgJhipsterModule,\n    InfiniteScrollModule,\n    NgbModule\n  ],\n  declarations: [\n    SubjectManageComponent,\n    SubjectCreateComponent,\n    SubjectUpdateComponent,\n    SubjectDetailsComponent,\n    SubjectDeleteComponent,\n    SubjectPublishComponent,\n    SubjectUnpublishComponent\n  ],\n  schemas: [CUSTOM_ELEMENTS_SCHEMA]\n})\n\nexport class SubjectModule {\n\n}","import { Injectable } from '@angular/core';\nimport { HttpResponse } from '@angular/common/http';\nimport { Resolve, ActivatedRouteSnapshot, RouterStateSnapshot, Routes } from '@angular/router';\nimport { UserRouteAccessService } from '../core';\nimport { Observable, of } from 'rxjs';\nimport { filter, map } from 'rxjs/operators';\nimport { SubjectService } from './subject.service';\nimport { ISubject, Subject } from '../shared/model/content/subject.model';\nimport { SubjectPublishComponent } from './subject-update-publish.component';\nimport { SubjectManageComponent } from './subject-manage.component';\nimport { SubjectDeleteComponent } from './subject-delete.component';\nimport { SubjectUnpublishComponent } from './subject-update-unpublish.component';\nimport { SubjectCreateComponent } from './subject-create.component';\nimport { SubjectUpdateComponent } from './subject-update.component';\nimport { SubjectDetailsComponent } from './subject-details.component';\n\n@Injectable({ providedIn: 'root' })\nexport class SubjectResolve implements Resolve<ISubject> {\n    constructor(private service: SubjectService) { }\n\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<ISubject> {\n        const id = route.params['id'] ? route.params['id'] : null;\n        if (id) {\n            return this.service.getSubjectBySubjectId(id).pipe(\n                filter((response: HttpResponse<ISubject>) => response.ok),\n                map((subject: HttpResponse<ISubject>) => subject.body)\n            );\n        }\n        return of(new Subject());\n    }\n}\n\n\n@Injectable({ providedIn: 'root' })\nexport class SubjectWithTreeResolve implements Resolve<any> {\n    constructor(private service: SubjectService) { }\n\n    resolve(route: ActivatedRouteSnapshot, state: RouterStateSnapshot): Observable<any> {\n        const id = route.params['id'] ? route.params['id'] : null;\n        if (id) {\n            return this.service.getSubjectTreeBySubjectId(id).pipe(\n                filter((response: HttpResponse<any>) => response.ok),\n                map((subject: HttpResponse<any>) => subject.body)\n            );\n        }\n        return of(new Subject());\n    }\n}\n\n\nexport const subjectRoute: Routes = [\n    {\n        path: '',\n        component: SubjectManageComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Manage subjects'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: 'create',\n        component: SubjectCreateComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Create new subject'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: ':id/edit',\n        component: SubjectUpdateComponent,\n        resolve: {\n            subject: SubjectWithTreeResolve\n        },\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Edit subject',\n            action: 'edit'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: ':id/view',\n        component: SubjectDetailsComponent,\n        resolve: {\n            subject: SubjectWithTreeResolve\n        },\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'View subject'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: ':id/delete',\n        component: SubjectDeleteComponent,\n        resolve: {\n            subject: SubjectResolve\n        },\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Delete subject'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: ':id/publish',\n        component: SubjectPublishComponent,\n        resolve: {\n            subject: SubjectResolve\n        },\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Publish subject',\n            action: 'publish'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: ':id/unpublish',\n        component: SubjectUnpublishComponent,\n        resolve: {\n            subject: SubjectResolve\n        },\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Unpublish subject',\n            action: 'unpublish'\n        },\n        canActivate: [UserRouteAccessService]\n    }\n];\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { ISubject } from '../shared/model/content/subject.model';\nimport { ACTIVE } from '../shared/constants/common.constants';\n\ntype EntityResponseType = HttpResponse<ISubject>;\ntype EntityArrayResponseType = HttpResponse<ISubject[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n@Injectable({ providedIn: 'root' })\nexport class SubjectService {\n\n    public subjectResourceUrl = environment.API_URL + 'services/learning/api/curriculum-subjects';\n    public subjectResourceUrlWithTree = environment.API_URL + 'services/learning/api/curriculum-subjects/subject-tree';\n    public subjectResourceUrlSearch = environment.API_URL + 'services/learning/api/curriculum-subjects/search';\n\n    constructor(protected http: HttpClient) { }\n\n    getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\n        return this.http.get<ISubject>(`${this.subjectResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    updateSubjectStatus(generalSubject: ISubject): Observable<EntityResponseType> {\n        return this.http.put<ISubject>(this.subjectResourceUrl, generalSubject, { observe: 'response' });\n    }\n\n    delete(id: number): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.subjectResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    saveSubject(generalSubject: ISubject[]): Observable<EntityResponseType> {\n        return this.http.post<ISubject>(this.subjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\n    }\n\n    getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status): Observable<EntityArrayResponseType> {\n        let reqJSON;\n        if (status === ACTIVE) {\n            reqJSON = {\n                \"curriculumId\": curriculumId,\n                \"grade\": gradeId,\n                \"status\": status\n            }\n        } else {\n            reqJSON = {\n                \"curriculumId\": curriculumId,\n                \"grade\": gradeId\n            }\n        }\n\n        return this.http.post<ISubject[]>(this.subjectResourceUrlSearch, reqJSON, { observe: 'response' });\n    }\n\n    getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\n        return this.http.get<ISubject[]>(`${this.subjectResourceUrlWithTree}/${id}`, { observe: 'response' });\n    }\n}\n"],"sourceRoot":""}