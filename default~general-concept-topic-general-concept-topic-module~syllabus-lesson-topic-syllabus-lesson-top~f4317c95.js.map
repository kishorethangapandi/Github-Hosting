{"version":3,"sources":["webpack:///./node_modules/file-saver/dist/FileSaver.min.js","webpack:///./src/app/curriculum/curriculum.service.ts","webpack:///./src/app/general-subject/general-subject.service.ts","webpack:///./src/app/organisation/organisation.service.ts","webpack:///./src/app/question-builder/cloze/drag-n-drop/drag-n-drop.component.html","webpack:///./src/app/question-builder/cloze/drag-n-drop/drag-n-drop.component.scss","webpack:///./src/app/question-builder/cloze/drag-n-drop/drag-n-drop.component.ts","webpack:///./src/app/question-builder/cloze/question-preview.directive.ts","webpack:///./src/app/question-builder/matchlist/matchlist.component.html","webpack:///./src/app/question-builder/matchlist/matchlist.component.ts","webpack:///./src/app/question-builder/mcq-choicematrix/index.ts","webpack:///./src/app/question-builder/mcq-choicematrix/mcq-choicematrix.component.html","webpack:///./src/app/question-builder/mcq-choicematrix/mcq-choicematrix.component.scss","webpack:///./src/app/question-builder/mcq-choicematrix/mcq-choicematrix.component.ts","webpack:///./src/app/question-builder/mcq-choicematrix/update-answers.directive.ts","webpack:///./src/app/question-builder/mcq-standard/index.ts","webpack:///./src/app/question-builder/mcq-standard/mcq-standard.component.html","webpack:///./src/app/question-builder/mcq-standard/mcq-standard.component.ts","webpack:///./src/app/question-builder/mcq-standard/mcq-standard.service.ts","webpack:///./src/app/question-builder/mcq-standard/update-answers.directive.ts","webpack:///./src/app/question-builder/pick-question-type/pick-question-type.component.html","webpack:///./src/app/question-builder/pick-question-type/pick-question-type.component.ts","webpack:///./src/app/question-builder/question-builder.module.ts","webpack:///./src/app/question-builder/question-builder.service.ts","webpack:///./src/app/shared/constants/common.constants.ts","webpack:///./src/app/subject/subject.service.ts","webpack:///./src/app/syllabus-lesson-topic/addl-resource/addl-resource-manage.component.html","webpack:///./src/app/syllabus-lesson-topic/addl-resource/addl-resource-manage.component.ts","webpack:///./src/app/syllabus-lesson-topic/lesson-plan/lesson-plan-manage.component.html","webpack:///./src/app/syllabus-lesson-topic/lesson-plan/lesson-plan-manage.component.ts","webpack:///./src/app/syllabus-lesson-topic/lesson-topic/lesson-topic-manage.component.html","webpack:///./src/app/syllabus-lesson-topic/lesson-topic/lesson-topic-manage.component.ts","webpack:///./src/app/syllabus-lesson-topic/prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component.html","webpack:///./src/app/syllabus-lesson-topic/prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component.ts","webpack:///./src/app/syllabus-lesson-topic/syllabus-lesson-topic.module.ts","webpack:///./src/app/syllabus-lesson-topic/syllabus-lesson-topic.route.ts","webpack:///./src/app/syllabus-lesson-topic/syllabus-lesson-topic.service.ts","webpack:///./src/app/syllabus-lesson-topic/topic-content/topic-content-manage.component.html","webpack:///./src/app/syllabus-lesson-topic/topic-content/topic-content-manage.component.ts","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-create.component.html","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-create.component.ts","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-details.component.html","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-details.component.ts","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-manage.component.html","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-manage.component.ts","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-update.component.html","webpack:///./src/app/syllabus-lesson-topic/topic-question/topic-question-update.component.ts"],"names":[],"mappings":"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","file":"default~general-concept-topic-general-concept-topic-module~syllabus-lesson-topic-syllabus-lesson-top~f4317c95.js","sourcesContent":["(function(a,b){if(\"function\"==typeof define&&define.amd)define([],b);else if(\"undefined\"!=typeof exports)b();else{b(),a.FileSaver={exports:{}}.exports}})(this,function(){\"use strict\";function b(a,b){return\"undefined\"==typeof b?b={autoBom:!1}:\"object\"!=typeof b&&(console.warn(\"Deprecated: Expected third argument to be a object\"),b={autoBom:!b}),b.autoBom&&/^\\s*(?:text\\/\\S*|application\\/xml|\\S*\\/\\S*\\+xml)\\s*;.*charset\\s*=\\s*utf-8/i.test(a.type)?new Blob([\"\\uFEFF\",a],{type:a.type}):a}function c(b,c,d){var e=new XMLHttpRequest;e.open(\"GET\",b),e.responseType=\"blob\",e.onload=function(){a(e.response,c,d)},e.onerror=function(){console.error(\"could not download file\")},e.send()}function d(a){var b=new XMLHttpRequest;b.open(\"HEAD\",a,!1);try{b.send()}catch(a){}return 200<=b.status&&299>=b.status}function e(a){try{a.dispatchEvent(new MouseEvent(\"click\"))}catch(c){var b=document.createEvent(\"MouseEvents\");b.initMouseEvent(\"click\",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),a.dispatchEvent(b)}}var f=\"object\"==typeof window&&window.window===window?window:\"object\"==typeof self&&self.self===self?self:\"object\"==typeof global&&global.global===global?global:void 0,a=f.saveAs||(\"object\"!=typeof window||window!==f?function(){}:\"download\"in HTMLAnchorElement.prototype?function(b,g,h){var i=f.URL||f.webkitURL,j=document.createElement(\"a\");g=g||b.name||\"download\",j.download=g,j.rel=\"noopener\",\"string\"==typeof b?(j.href=b,j.origin===location.origin?e(j):d(j.href)?c(b,g,h):e(j,j.target=\"_blank\")):(j.href=i.createObjectURL(b),setTimeout(function(){i.revokeObjectURL(j.href)},4E4),setTimeout(function(){e(j)},0))}:\"msSaveOrOpenBlob\"in navigator?function(f,g,h){if(g=g||f.name||\"download\",\"string\"!=typeof f)navigator.msSaveOrOpenBlob(b(f,h),g);else if(d(f))c(f,g,h);else{var i=document.createElement(\"a\");i.href=f,i.target=\"_blank\",setTimeout(function(){e(i)})}}:function(a,b,d,e){if(e=e||open(\"\",\"_blank\"),e&&(e.document.title=e.document.body.innerText=\"downloading...\"),\"string\"==typeof a)return c(a,b,d);var g=\"application/octet-stream\"===a.type,h=/constructor/i.test(f.HTMLElement)||f.safari,i=/CriOS\\/[\\d]+/.test(navigator.userAgent);if((i||g&&h)&&\"object\"==typeof FileReader){var j=new FileReader;j.onloadend=function(){var a=j.result;a=i?a:a.replace(/^data:[^;]*;/,\"data:attachment/file;\"),e?e.location.href=a:location=a,e=null},j.readAsDataURL(a)}else{var k=f.URL||f.webkitURL,l=k.createObjectURL(a);e?e.location=l:location.href=l,e=null,setTimeout(function(){k.revokeObjectURL(l)},4E4)}});f.saveAs=a.saveAs=a,\"undefined\"!=typeof module&&(module.exports=a)});\n\n//# sourceMappingURL=FileSaver.min.js.map","import { Injectable } from '@angular/core';\nimport { HttpResponse, HttpHeaders, HttpClient } from '@angular/common/http';\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\nimport { environment } from '../../environments/environment';\nimport { createRequestOption } from '../shared';\nimport { Observable } from 'rxjs';\nimport { IOrganisation } from '../shared/model/common/organisation.model';\nimport { ACTIVE } from '../shared/constants/common.constants';\n\ntype EntityResponseType = HttpResponse<ICurriculum>;\ntype EntityArrayResponseType = HttpResponse<ICurriculum[]>;\ntype OrgEntityArrayResponseType = HttpResponse<IOrganisation[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n\n@Injectable({ providedIn: 'root' })\nexport class CurriculumService {\n\n    public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\n    public curriculumResourceUrl = environment.API_URL + 'services/learning/api/curricula';\n\n    constructor(protected http: HttpClient) { }\n\n    createCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\n        return this.http.post<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\n    }\n\n    updateCurriculum(curriculum: ICurriculum): Observable<EntityResponseType> {\n        return this.http.put<ICurriculum>(this.curriculumResourceUrl, curriculum, { observe: 'response' });\n    }\n\n    find(id: number): Observable<EntityResponseType> {\n        return this.http.get<ICurriculum>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    getStandardCurriculums(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        var reqJSON = {\n            \"isExtraCurriculum\": false\n        };\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\n    }\n\n    getCurriculumSearch(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        var reqJSON = {\n            \"isExtraCurriculum\": false,\n            \"status\": ACTIVE\n        };\n        return this.http.post<ICurriculum[]>(this.curriculumResourceUrlSearch, reqJSON, { params: options, observe: 'response' });\n    }\n\n    delete(id: number): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.curriculumResourceUrl}/${id}`, { observe: 'response' });\n    }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { createRequestOption } from '../shared';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\nimport { ACTIVE } from '../shared/constants/common.constants';\n\ntype EntityResponseType = HttpResponse<IGeneralSubject>;\ntype EntityArrayResponseType = HttpResponse<IGeneralSubject[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n@Injectable({ providedIn: 'root' })\nexport class GeneralSubjectService {\n\n  public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\n  public curriculumResourceUrl = environment.API_URL + 'services/learning/api/curricula';\n  public generalSubjectResourceUrl = environment.API_URL + 'services/content/api/general-subjects';\n  public generalSubjectSearchResourceUrl = environment.API_URL + 'services/content/api/general-subjects/search';\n  public generalSubjectResourceUrlWithTree = environment.API_URL + 'services/content/api/general-subjects/subject-tree';\n\n  constructor(protected http: HttpClient) { }\n\n  getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\n    return this.http.get<IGeneralSubject>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\n  }\n\n  getSubjectSearchList(): Observable<EntityArrayResponseType> {\n    var reqJSON = {\n      \"status\": ACTIVE\n    };\n    return this.http.post<IGeneralSubject[]>(this.generalSubjectSearchResourceUrl, reqJSON, { observe: 'response' });\n  }\n\n  getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\n    return this.http.get<IGeneralSubject[]>(`${this.generalSubjectResourceUrlWithTree}/${id}`, { observe: 'response' });\n  }\n\n  updateGeneralSubjectStatus(generalSubject: IGeneralSubject): Observable<EntityResponseType> {\n    return this.http.put<IGeneralSubject>(this.generalSubjectResourceUrl, generalSubject, { observe: 'response' });\n  }\n\n  query(req?: any): Observable<EntityArrayResponseType> {\n    const options = createRequestOption(req);\n    return this.http.get<IGeneralSubject[]>(this.generalSubjectResourceUrl, { params: options, observe: 'response' });\n  }\n\n  delete(id: number): Observable<HttpResponse<any>> {\n    return this.http.delete<any>(`${this.generalSubjectResourceUrl}/${id}`, { observe: 'response' });\n  }\n\n  saveGeneralSubject(generalSubject: IGeneralSubject[]): Observable<EntityResponseType> {\n    return this.http.post<IGeneralSubject>(this.generalSubjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { createRequestOption } from '../shared';\nimport { IOrganisation } from '../shared/model/common/organisation.model';\n\ntype EntityResponseType = HttpResponse<IOrganisation>;\ntype EntityArrayResponseType = HttpResponse<IOrganisation[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n@Injectable({ providedIn: 'root' })\nexport class OrganisationService {\n\n    public organisationResourceUrl = environment.API_URL + 'services/common/api/organisations';\n    public curriculumResourceUrlSearch = environment.API_URL + 'services/learning/api/curricula/search';\n\n    constructor(protected http: HttpClient) { }\n\n    createOrganisation(organisation: IOrganisation): Observable<EntityResponseType> {\n        return this.http.post<IOrganisation>(this.organisationResourceUrl, organisation, { headers: headers, observe: 'response' });\n    }\n\n    updateOrganisation(organisation: IOrganisation): Observable<EntityResponseType> {\n        return this.http.put<IOrganisation>(this.organisationResourceUrl, organisation, { observe: 'response' });\n    }\n\n    getOrganisationByOrganisationId(id: number): Observable<EntityResponseType> {\n        return this.http.get<IOrganisation>(`${this.organisationResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    getOrganisations(req?: any): Observable<EntityArrayResponseType> {\n        const options = createRequestOption(req);\n        return this.http.get<IOrganisation[]>(this.organisationResourceUrl, { params: options, observe: 'response' });\n    }\n\n    deleteOrganisation(id: number): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.organisationResourceUrl}/${id}`, { observe: 'response' });\n    }\n}\n","module.exports = \"<div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewmodel\\\">\\n    <p class=\\\"font-20 font-bold\\\">Question</p>\\n    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\" #questionInput=\\\"ngModel\\\"\\n        placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"  [required]=\\\"true\\\">\\n    </ckeditor>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\">\\n    <p class=\\\"font-20 font-bold\\\">Response</p>\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewmodel.Options\\\">\\n        <div class=\\\"editor\\\">\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\" #choiceInput=\\\"ngModel\\\"\\n                placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\" \\n                [required]=\\\"true\\\">\\n            </ckeditor>\\n        </div>\\n        <div class=\\\"delete d-flex align-items-end ml-4 font-20 text-danger\\\">\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\n        </div>\\n    </div>\\n    <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\n        <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Option</button>\\n    </div>\\n</div>\\n\\n<div class=\\\"drag--container\\\">\\n    <p class=\\\"font-20 font-bold\\\">Preview</p>\\n    <div [questionPreview]=\\\"viewmodel.Question\\\" class=\\\"preview-panel\\\">\\n    </div>\\n    <div class=\\\"option--container options zone\\\">\\n        <span *ngFor=\\\"let option of viewmodel.Options\\\" [attr.data-option-id]=\\\"option.OptionId\\\" class=\\\"option--item\\\"\\n            [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"> </span>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-flex justify-content-end align-self-start my-2\\\">\\n    <button class=\\\"btn btn-danger mr-2\\\" type=\\\"submit\\\" (click)=\\\"cancel()\\\">\\n        <i class=\\\"fa fa-times mr-2\\\"></i> Cancel</button>\\n    <button class=\\\"btn btn-success\\\" type=\\\"submit\\\" (click)=\\\"saveQuestion()\\\">\\n        <i class=\\\"fa fa-save mr-2\\\"></i> Save Question</button>\\n</div>\"","module.exports = \".choice--group {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 20px; }\\n\\n.choice--answer {\\n  width: 5%; }\\n\\n.choice--editor {\\n  width: 95%; }\\n\\n.choice--delete {\\n  width: 5%;\\n  text-align: right;\\n  font-size: 16px; }\\n\\n.choice--delete i {\\n    cursor: pointer; }\\n\\n.actions {\\n  text-align: center; }\\n\\n.choice-container, .option-container {\\n  display: flex;\\n  justify-content: space-between;\\n  margin-bottom: 10px; }\\n\\n.choice-container .item, .option-container .item {\\n    width: 45%; }\\n\\n.choice-container {\\n  flex-direction: column; }\\n\\n.option--container.zone {\\n  display: flex;\\n  justify-content: space-around;\\n  flex-direction: row;\\n  flex-wrap: wrap; }\\n\\n.zone {\\n  border: 1px solid #eeeeee;\\n  padding: 10px 5px;\\n  margin-bottom: 10px;\\n  min-height: 50px;\\n  border: 1px dashed #e8e6e6; }\\n\\n.zone .option--container {\\n    justify-content: space-around;\\n    min-width: 50px; }\\n\\n.choice--label {\\n  min-height: 50px;\\n  border: 1px solid #eee;\\n  padding: 10px 5px;\\n  width: 95%; }\\n\\n.option--container .option--item {\\n  min-height: 50px;\\n  border: 1px solid #eee;\\n  padding: 10px 5px;\\n  background-color: #eaeaea; }\\n\\n.choice--group {\\n  display: flex;\\n  align-items: center;\\n  justify-content: space-between;\\n  margin-bottom: 20px;\\n  width: 100%; }\\n\\n.choice--editor {\\n  width: 95%; }\\n\\n.choice--delete {\\n  width: 5%;\\n  text-align: right;\\n  font-size: 16px; }\\n\\n.choice--delete i {\\n    cursor: pointer; }\\n\\n.dropzone {\\n  outline: solid 1px;\\n  height: 50px;\\n  height: 50px; }\\n\\n.actions {\\n  text-align: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcXVlc3Rpb24tYnVpbGRlci9jbG96ZS9kcmFnLW4tZHJvcC9DOlxcVXNlcnNcXGtpc2hvXFxPbmVEcml2ZVxcRGVza3RvcFxcV29ya1xcY2VhZG1pbi1kZXZfa2lzaG9yZVxcY2VhZG1pbi1kZXZfa2lzaG9yZS9zcmNcXGFwcFxccXVlc3Rpb24tYnVpbGRlclxcY2xvemVcXGRyYWctbi1kcm9wXFxkcmFnLW4tZHJvcC5jb21wb25lbnQuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLGNBQWE7RUFDYixvQkFBbUI7RUFDbkIsK0JBQThCO0VBQzlCLG9CQUFtQixFQUN0Qjs7QUFFRDtFQUNJLFVBQVMsRUFDWjs7QUFFRDtFQUNRLFdBQVUsRUFDakI7O0FBRUQ7RUFDSSxVQUFTO0VBQ1Qsa0JBQWlCO0VBQ2pCLGdCQUFlLEVBSWxCOztBQVBEO0lBS1EsZ0JBQWUsRUFDbEI7O0FBR0w7RUFDSSxtQkFBa0IsRUFDckI7O0FBR0Q7RUFDSSxjQUFhO0VBQ2IsK0JBQThCO0VBQzlCLG9CQUFtQixFQUl0Qjs7QUFQRDtJQUtRLFdBQVUsRUFDYjs7QUFHTDtFQUNJLHVCQUFzQixFQUN6Qjs7QUFHRDtFQUNJLGNBQWE7RUFDYiw4QkFBNkI7RUFDN0Isb0JBQW1CO0VBQ25CLGdCQUFlLEVBQ2xCOztBQUdEO0VBQ0ksMEJBQXlCO0VBQ3pCLGtCQUFpQjtFQUNqQixvQkFBbUI7RUFDbkIsaUJBQWdCO0VBQ2hCLDJCQUEwQixFQUs3Qjs7QUFWRDtJQU9RLDhCQUE2QjtJQUM3QixnQkFBZSxFQUNsQjs7QUFHTDtFQUNJLGlCQUFnQjtFQUNoQix1QkFBc0I7RUFDdEIsa0JBQWlCO0VBQ2pCLFdBQVUsRUFDYjs7QUFFRDtFQUVRLGlCQUFnQjtFQUNoQix1QkFBc0I7RUFDdEIsa0JBQWlCO0VBQ2pCLDBCQUF5QixFQUM1Qjs7QUFHTDtFQUNJLGNBQWE7RUFDYixvQkFBbUI7RUFDbkIsK0JBQThCO0VBQzlCLG9CQUFtQjtFQUNuQixZQUFXLEVBQ2Q7O0FBR0Q7RUFDSSxXQUFVLEVBQ2I7O0FBRUQ7RUFDSSxVQUFTO0VBQ1Qsa0JBQWlCO0VBQ2pCLGdCQUFlLEVBSWxCOztBQVBEO0lBS1EsZ0JBQWUsRUFDbEI7O0FBR0w7RUFDSSxtQkFBa0I7RUFBRSxhQUFZO0VBQ2hDLGFBQVksRUFDZjs7QUFHRDtFQUNJLG1CQUFrQixFQUNyQiIsImZpbGUiOiJzcmMvYXBwL3F1ZXN0aW9uLWJ1aWxkZXIvY2xvemUvZHJhZy1uLWRyb3AvZHJhZy1uLWRyb3AuY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuY2hvaWNlLS1ncm91cCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xufVxuXG4uY2hvaWNlLS1hbnN3ZXIge1xuICAgIHdpZHRoOiA1JTtcbn1cblxuLmNob2ljZS0tZWRpdG9yIHtcbiAgICAgICAgd2lkdGg6IDk1JTtcbn1cblxuLmNob2ljZS0tZGVsZXRlIHtcbiAgICB3aWR0aDogNSU7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGkge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxufVxuXG4uYWN0aW9ucyB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG5cbi5jaG9pY2UtY29udGFpbmVyLCAub3B0aW9uLWNvbnRhaW5lciB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XG4gICAgbWFyZ2luLWJvdHRvbTogMTBweDtcbiAgICAuaXRlbSB7XG4gICAgICAgIHdpZHRoOiA0NSU7XG4gICAgfVxufVxuXG4uY2hvaWNlLWNvbnRhaW5lciB7XG4gICAgZmxleC1kaXJlY3Rpb246IGNvbHVtbjtcbn1cblxuXG4ub3B0aW9uLS1jb250YWluZXIuem9uZSB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWFyb3VuZDtcbiAgICBmbGV4LWRpcmVjdGlvbjogcm93O1xuICAgIGZsZXgtd3JhcDogd3JhcDtcbn1cblxuXG4uem9uZSB7XG4gICAgYm9yZGVyOiAxcHggc29saWQgI2VlZWVlZTtcbiAgICBwYWRkaW5nOiAxMHB4IDVweDtcbiAgICBtYXJnaW4tYm90dG9tOiAxMHB4O1xuICAgIG1pbi1oZWlnaHQ6IDUwcHg7XG4gICAgYm9yZGVyOiAxcHggZGFzaGVkICNlOGU2ZTY7XG4gICAgLm9wdGlvbi0tY29udGFpbmVyIHtcbiAgICAgICAganVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XG4gICAgICAgIG1pbi13aWR0aDogNTBweDtcbiAgICB9XG59XG5cbi5jaG9pY2UtLWxhYmVsIHtcbiAgICBtaW4taGVpZ2h0OiA1MHB4O1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNlZWU7XG4gICAgcGFkZGluZzogMTBweCA1cHg7XG4gICAgd2lkdGg6IDk1JTtcbn1cblxuLm9wdGlvbi0tY29udGFpbmVyIHtcbiAgICAub3B0aW9uLS1pdGVtIHtcbiAgICAgICAgbWluLWhlaWdodDogNTBweDtcbiAgICAgICAgYm9yZGVyOiAxcHggc29saWQgI2VlZTtcbiAgICAgICAgcGFkZGluZzogMTBweCA1cHg7XG4gICAgICAgIGJhY2tncm91bmQtY29sb3I6ICNlYWVhZWE7XG4gICAgfVxufVxuXG4uY2hvaWNlLS1ncm91cCB7XG4gICAgZGlzcGxheTogZmxleDtcbiAgICBhbGlnbi1pdGVtczogY2VudGVyO1xuICAgIGp1c3RpZnktY29udGVudDogc3BhY2UtYmV0d2VlbjtcbiAgICBtYXJnaW4tYm90dG9tOiAyMHB4O1xuICAgIHdpZHRoOiAxMDAlO1xufVxuXG5cbi5jaG9pY2UtLWVkaXRvciB7XG4gICAgd2lkdGg6IDk1JTtcbn1cblxuLmNob2ljZS0tZGVsZXRlIHtcbiAgICB3aWR0aDogNSU7XG4gICAgdGV4dC1hbGlnbjogcmlnaHQ7XG4gICAgZm9udC1zaXplOiAxNnB4O1xuICAgIGkge1xuICAgICAgICBjdXJzb3I6IHBvaW50ZXI7XG4gICAgfVxufVxuXG4uZHJvcHpvbmUge1xuICAgIG91dGxpbmU6IHNvbGlkIDFweDsgaGVpZ2h0OiA1MHB4O1xuICAgIGhlaWdodDogNTBweDtcbn1cblxuXG4uYWN0aW9ucyB7XG4gICAgdGV4dC1hbGlnbjogY2VudGVyO1xufSJdfQ== */\"","import { Component, OnInit, ElementRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\n\nexport class ClozeDrag {\n    QuestionId: string;\n    Question: string;\n    Options: Option[];\n    Answers: Answer[];\n}\n\nexport class Answer {\n    OptionId: string;\n    ZoneId: number;\n\n    constructor(ZoneId, OptionId) {\n        this.ZoneId = ZoneId;\n        this.OptionId = OptionId;\n    }\n}\n\n\nexport class Option {\n    OptionId: string;\n    OptionText: string;\n\n    constructor(OptionId, OptionText) {\n        this.OptionId = OptionId;\n        this.OptionText = OptionText;\n    }\n}\n\ndeclare var $: any;\n\n@Component({\n    templateUrl: \"./drag-n-drop.component.html\",\n    styleUrls: [\"./drag-n-drop.component.scss\"]\n})\nexport class DragAndDropComponent implements OnInit {\n    viewmodel: ClozeDrag;\n\n    constructor(private router: Router, private activatedRoute: ActivatedRoute,\n        private elementRef: ElementRef) {\n        this.viewmodel = new ClozeDrag();\n    }\n\n    ngOnInit() {\n        if (this.activatedRoute.snapshot.data.question) {\n            this.viewmodel = this.activatedRoute.snapshot.data.question;\n            this.resetDropState();\n        }\n    }\n    ngAfterViewInit() {\n        var containers = $(this.elementRef.nativeElement).find(\".drag--container\");\n        //const droppable = new Droppable(containers.get(0), {\n        //     draggable: \".option--item\",\n        //     mirror: {\n        //         constrainDimensions: false,\n        //         cursorOffsetX: 1,\n        //         cursorOffsetY: 1\n        //     },\n        //     dropzone: \".zone\"\n        // });\n\n        // droppable.on(\"droppable:dropped\", this.onDropped.bind(this));\n\n        // droppable.on(\"droppable:stop\", (args) => {\n        //     let dropzone = $(args.data.dropzone);\n        //     if (dropzone.is(\".options\")) dropzone.removeClass(\"draggable-dropzone--occupied\");\n        // });\n    }\n\n    onDropped(args) {\n        /* If the dropzone is Zone(X) then do nothing... */\n        if (!$(args.data.dropzone).is(\".cloze--dropzone\")) return;\n        //this.viewmodel.Answers = [];\n        Promise.resolve().then(() => {\n            let previewpanel = $(this.elementRef.nativeElement).find(\".preview-panel\");\n            previewpanel.find(\".zone\").map((index: number, item: any) => {\n                let zoneId = index + 1;\n                let optionId = \"\";\n                item = $(item);\n                if (item.children().length > 0) {\n                    optionId = item.find(\".option--item\").data(\"option-id\");\n                }\n                this.viewmodel.Answers.push(new Answer(zoneId, optionId));\n            });\n        })\n    }\n\n    deleteOption(OptionId) {\n        this.viewmodel.Options = this.viewmodel.Options.filter((item) => {\n            return item.OptionId !== OptionId;\n        })\n    }\n\n    addOption() {\n        this.viewmodel.Options = this.viewmodel.Options || [];\n        this.viewmodel.Options.push(new Option(new Date().getUTCMilliseconds(), \"\"));\n    }\n\n    saveQuestion() {\n        // console.log(this.viewmodel);\n    }\n\n    cancel() {\n        this.router.navigateByUrl(\"assessment/choose\");\n    }\n\n    /**\n     * This method should be invoked only once after the component is loaded\n     */\n    resetDropState() {\n        // this method will restore the state of the dropped item\n        Promise.resolve().then(() => {\n            if (this.viewmodel.Answers && this.viewmodel.Answers.length > 0) {\n                let rootElement = $(this.elementRef.nativeElement);\n                let dropPanel = rootElement.find(\".preview-panel\");\n                let optionPool = rootElement.find(\".option--container\");\n                for (var i = 0; i < this.viewmodel.Answers.length; i++) {\n                    let zone = dropPanel.find(`.zone:nth-child(${this.viewmodel.Answers[i].ZoneId})`);\n                    let droppable = optionPool.find(`[data-option-id='${this.viewmodel.Answers[i].OptionId}']`);\n                    zone.append(droppable).addClass(\"draggable-dropzone--occupied\");\n                }\n            }\n        });\n    }\n}","import { Directive, Input, OnChanges, SimpleChanges, ElementRef, AfterViewInit, OnInit } from '@angular/core';\n\ndeclare var $: any;\n\n\n@Directive({\n    selector: \"[questionPreview]\"\n})\nexport class QuestionPreviewDirective implements OnChanges, OnInit {\n\n    @Input(\"questionPreview\")\n    question: string;\n\n    rootElement: any;\n\n    constructor(private elementRef: ElementRef) { }\n\n\n    ngOnInit() {\n        this.rootElement = $(this.elementRef.nativeElement);\n    }\n\n    ngOnChanges(change: SimpleChanges) {\n        this.rootElement = $(this.elementRef.nativeElement);\n        if (this.rootElement) {\n            let preview = this.question ?\n                this.question.replace(/{{response}}/g, '<span class=\"cloze--dropzone zone\"></span>') : \"\";\n            this.rootElement.html(preview);\n        }\n    }\n\n}","module.exports = \"<div class=\\\"row my-2\\\">\\n    <div class=\\\"col-xxl-12 d-flex justify-content-between align-items-center\\\">\\n        <h5 class=\\\"font-16\\\">Compose question - Match list</h5>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewModel\\\">\\n    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\" #questionInput=\\\"ngModel\\\"\\n        placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\" [required]=\\\"true\\\">\\n    </ckeditor>\\n    <span class=\\\"text-danger font-15 my-2 mx-3\\\" *ngIf=\\\"!questionInput.valid\\\">\\n        Question is required\\n    </span>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\">\\n    <p class=\\\"font-16\\\">Left side option</p>\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\n        <div class=\\\"mcq-stem\\\">\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\" #choiceInput=\\\"ngModel\\\"\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\n            </ckeditor>\\n\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!choiceInput.valid\\\">\\n                Left side option is required\\n            </span>\\n        </div>\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-center ml-3 font-20 text-danger delete-icon\\\">\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\n        </div>\\n    </div>\\n    <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\n        <button class=\\\"btn btn-info\\\" (click)=\\\"addChoice()\\\">\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add left option</button>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\">\\n    <p class=\\\"font-16\\\">Right side option</p>\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewModel.Options\\\">\\n        <div class=\\\"mcq-stem\\\">\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\" #optionInput=\\\"ngModel\\\"\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\n            </ckeditor>\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!optionInput.valid\\\">\\n                Right side option is required\\n            </span>\\n        </div>\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-center ml-4 font-20 text-danger delete-icon\\\">\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\n        </div>\\n    </div>\\n    <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\n        <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add right option</button>\\n    </div>\\n</div>\\n\\n<div class=\\\"drag--container mb-2\\\">\\n    <p class=\\\"font-16\\\">Setting up answers</p>\\n\\n    <div cdkDropListGroup>\\n        <div class=\\\"example-container d-flex justify-content-between flex-nowrap mb-2\\\">\\n            <div class=\\\"mcq-left mr-2\\\">\\n                <div class=\\\"match-list\\\" data-value=\\\"viewModel.Choices\\\">\\n                    <div class=\\\"list-box\\\" *ngFor=\\\"let item of viewModel.Choices\\\"\\n                        [MathJax]=\\\"item.ChoiceText | sanitizeHtml\\\"></div>\\n                </div>\\n            </div>\\n            <!-- <div class=\\\"line-circle w-auto\\\" *ngFor=\\\"let item of viewModel.Choices\\\" id=\\\"{{item}}\\\"></div> -->\\n            <div class=\\\"mcq-right ml-2\\\">\\n                <div cdkDropList [cdkDropListData]=\\\"viewModel.Options\\\" class=\\\"match-list\\\"\\n                    (cdkDropListDropped)=\\\"updatedDropList($event)\\\">\\n                    <div class=\\\"list-box\\\" *ngFor=\\\"let item of viewModel.Options\\\" cdkDrag\\n                        [MathJax]=\\\"item.OptionText | sanitizeHtml\\\">\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n\\n    <div class=\\\"mb-3 font-18\\\">\\n        <div class=\\\"border-success p-3 alert-success\\\">\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span>\\n            <span *ngIf=\\\"answers.length > 0\\\">\\n                <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                    <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\n                    -\\n                    <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\n                    {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n            </span>\\n        </div>\\n    </div>\"","import { Component, OnInit, AfterViewChecked, Input, ChangeDetectorRef } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { QuestionBuilderService } from '../question-builder.service';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\nimport { PluginService } from '../../shared/plugin/plugin.service';\n\ndeclare var $: any;\n\nexport class MatchList {\n    QuestionId: string;\n    Question: string;\n    QuestionType: string;\n    Choices: Choice[] = [];\n    Options: Option[] = [];\n    Answers: Answer[] = [];\n    TotalMarks: number;\n}\n\nexport class Answer {\n    ChoiceId: string;\n    OptionId: string;\n\n    constructor(ChoiceId, OptionId) {\n        this.ChoiceId = ChoiceId;\n        this.OptionId = OptionId;\n    }\n}\n\nexport class Choice {\n    ChoiceId: string;\n    ChoiceText: string;\n\n    constructor(ChoiceId, ChoiceText) {\n        this.ChoiceId = ChoiceId;\n        this.ChoiceText = ChoiceText;\n    }\n}\n\nexport class Option {\n    OptionId: string;\n    OptionText: string;\n\n    constructor(OptionId, OptionText) {\n        this.OptionId = OptionId;\n        this.OptionText = OptionText;\n    }\n}\n\n@Component({\n    selector: \"match-list\",\n    templateUrl: \"./matchlist.component.html\"\n})\nexport class MatchlistComponent implements OnInit, AfterViewChecked {\n    viewModel: MatchList;\n    startingZone: any;\n    answers: any[] = []\n    @Input() questionResource: any = {};\n    checkDrag: boolean = false;\n    editorQuestionConfig: any;\n    editorChoiceConfig: any;\n\n    constructor(\n        private route: ActivatedRoute,\n        private router: Router,\n        public questionService: QuestionBuilderService,\n        public pluginService: PluginService,\n        private changedetector: ChangeDetectorRef) {\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\n        this.editorChoiceConfig = this.pluginService.getCKEditorChoiceConfig();\n        this.viewModel = new MatchList();\n        this.route.data.subscribe((args: any) => {\n            if (args.type === \"MCQ_MATCH_LIST\") {\n                this.viewModel.QuestionType = args.type;\n            }\n        });\n    }\n\n    ngOnInit() {\n        if (this.route.snapshot.data.question) {\n            this.viewModel = this.route.snapshot.data.question;\n            //this.resetDropState();\n        }\n        this.getCurrentRouteInfo();\n    }\n\n    getCurrentRouteInfo() {\n        let splitUrl, routeName;\n        splitUrl = this.router.url.split(\"/\");\n        routeName = splitUrl.pop();\n        if (routeName === \"topic-question-edit\" || routeName === \"general-topic-question-edit\") {\n            this.viewModel = this.questionResource;\n            this.showMatchListAnswers();\n            this.checkDrag = true;\n        }\n    }\n\n    updatedDropList(event: CdkDragDrop<string[]>) {\n        if (event.previousContainer === event.container) {\n            moveItemInArray(\n                event.container.data,\n                event.previousIndex,\n                event.currentIndex\n            );\n            this.viewModel.Answers = [];\n            for (let i = 0; i < this.viewModel.Choices.length; i++) {\n                for (let j = 0; j < this.viewModel.Options.length; j++) {\n                    if (i === j) {\n                        this.viewModel.Answers.push({\n                            ChoiceId: this.viewModel.Choices[i].ChoiceId,\n                            OptionId: this.viewModel.Options[j].OptionId\n                        });\n                        this.showMatchListAnswers();\n                    }\n                }\n            }\n            this.viewModel.TotalMarks = this.viewModel.Answers.length;\n        }\n    }\n\n    public showMatchListAnswers() {\n        let answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\n        this.answers = [];\n        matrixChoices = [];\n        matrixOptions = [];\n        answers = this.viewModel.Answers;\n        matrixChoices = this.viewModel.Choices;\n        matrixOptions = this.viewModel.Options;\n        for (let k = 0; k < answers.length; k++) {\n            this.answers.push({\n                choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\n                optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\n            })\n        }\n        this.checkDrag = false;\n    }\n\n    addChoice() {\n        if (this.viewModel.Choices.length > 0) {\n            this.viewModel.Choices = [...this.viewModel.Choices,\n            new Choice(new Date().getUTCMilliseconds(), \"\")];\n        } else if (this.viewModel.Choices.length === 0) {\n            this.viewModel.Choices = [];\n            this.viewModel.Choices = [...this.viewModel.Choices,\n            new Choice(new Date().getUTCMilliseconds(), \"\")];\n        } else {\n            this.viewModel.Choices = [];\n        }\n    }\n\n    addOption() {\n        if (this.viewModel.Options.length > 0) {\n            this.viewModel.Options = [...this.viewModel.Options,\n            new Option(new Date().getUTCMilliseconds(), \"\")];\n        } else if (this.viewModel.Options.length === 0) {\n            this.viewModel.Options = [...this.viewModel.Options,\n            new Option(new Date().getUTCMilliseconds(), \"\")];\n        } else {\n            this.viewModel.Options = [];\n        }\n    }\n\n    deleteChoice(choiceId) {\n        if (this.viewModel.Answers.length > 0) {\n            this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\n        } else {\n            let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\n            this.viewModel.Choices.splice(index, 1);\n        }\n    }\n\n    deleteOption(optionId) {\n        if (this.viewModel.Answers.length > 0) {\n            this.pluginService.alertMessage(\"You can't delete it, option is already related to answer\", \"error\");\n        } else {\n            let index = this.viewModel.Options.findIndex(item => item.OptionId === optionId);\n            this.viewModel.Options.splice(index, 1);\n        }\n    }\n\n    ngAfterViewChecked() {\n        if (this.viewModel) {\n            this.questionService.generateQuestionResource(this.viewModel);\n            this.showMatchListAnswers();\n        }\n        this.changedetector.detectChanges();\n    }\n\n    ngOnDestroy() {\n        this.viewModel.Question = \"\";\n        this.viewModel.Choices = [];\n        this.viewModel.Options = [];\n        this.viewModel.QuestionType = \"\";\n        this.viewModel.Answers = [];\n    }\n}","export * from \"./mcq-choicematrix.component\";\nexport * from \"./update-answers.directive\";","module.exports = \"<div class=\\\"row my-2\\\">\\n    <div class=\\\"col-xxl-12 d-flex justify-content-between align-items-center\\\">\\n        <h5 class=\\\"font-16\\\">Compose question - Choice matrix question</h5>\\n        <a target=\\\"_blank\\\" class=\\\"btn btn-info\\\" routerLink=\\\"./topic-question-sample\\\">\\n            <i class=\\\"fa fa-question-circle mr-2\\\"></i>View sample questions\\n        </a>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\">\\n    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\" #questionInput=\\\"ngModel\\\"\\n        placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\" [required]=\\\"true\\\">\\n    </ckeditor>\\n    <span class=\\\"text-danger font-15 my-2 mx-3\\\" *ngIf=\\\"!questionInput.valid\\\">\\n        Question is required\\n    </span>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\">\\n    <p class=\\\"font-16\\\">Stems</p>\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\n        <div class=\\\"mcq-stem\\\">\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [required]=\\\"true\\\" [(ngModel)]=\\\"choice.ChoiceText\\\"\\n                #choiceInput=\\\"ngModel\\\" placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\">\\n            </ckeditor>\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!choiceInput.valid\\\">\\n                Stem is required\\n            </span>\\n        </div>\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon\\\">\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\n    <button class=\\\"btn btn-info\\\" (click)=\\\"addChoice()\\\">\\n        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add stem</button>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\">\\n    <p class=\\\"font-16\\\">Options</p>\\n    <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewModel.Options\\\">\\n        <div class=\\\"mcq-stem\\\">\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\" #optionInput=\\\"ngModel\\\"\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\n            </ckeditor>\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!optionInput.valid\\\">\\n                Option is required\\n            </span>\\n        </div>\\n        <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger delete-icon\\\">\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\n    <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\n        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Option</button>\\n</div>\\n\\n<div class=\\\"w-100 d-block my-2\\\">\\n    <p class=\\\"font-16\\\">Setting up answers</p>\\n</div>\\n\\n<table class=\\\"table-matrix my-2\\\">\\n    <tr class=\\\"bg-lightgray\\\">\\n        <td></td>\\n        <td *ngFor=\\\"let option of viewModel.Options\\\">\\n            <span class=\\\"text-dark\\\" [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\n        </td>\\n    </tr>\\n    <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\n        <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\n        <td *ngFor=\\\"let option of viewModel.Options\\\">\\n            <div class=\\\"radio\\\">\\n                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\" [choicematrix]=\\\"viewModel.Answers\\\"\\n                    [optionid]=\\\"option.OptionId\\\" [choiceid]=\\\"choice.ChoiceId\\\" name=\\\"{{ choice.ChoiceId }}\\\"\\n                    (click)=\\\"markAsAnswer(choice, option)\\\">\\n                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\n            </div>\\n        </td>\\n    </tr>\\n</table>\\n\\n<div class=\\\"mb-3 font-18\\\">\\n    <div class=\\\"border-success p-3 alert-success\\\">\\n        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span>\\n        <span *ngIf=\\\"answers.length > 0\\\">\\n            <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\n                -\\n                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n        </span>\\n    </div>\\n</div>\"","module.exports = \".table-matrix {\\n  border-collapse: collapse; }\\n\\n.bg-lightgray {\\n  background-color: #f0f0f0 !important; }\\n\\n.table-matrix tbody tr td,\\n.table-matrix tbody tr th {\\n  border: 1px solid #dee2e6 !important;\\n  text-align: center; }\\n\\n.roundLabel {\\n  padding: 5px; }\\n\\n.roundLabel:hover {\\n  background: #fcfdd8; }\\n\\n.mcq-stem {\\n  width: 95%; }\\n\\n.mcq-action {\\n  width: 5%; }\\n\\n.radio {\\n  display: flex;\\n  justify-content: center;\\n  align-items: center; }\\n\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvcXVlc3Rpb24tYnVpbGRlci9tY3EtY2hvaWNlbWF0cml4L0M6XFxVc2Vyc1xca2lzaG9cXE9uZURyaXZlXFxEZXNrdG9wXFxXb3JrXFxjZWFkbWluLWRldl9raXNob3JlXFxjZWFkbWluLWRldl9raXNob3JlL3NyY1xcYXBwXFxxdWVzdGlvbi1idWlsZGVyXFxtY3EtY2hvaWNlbWF0cml4XFxtY3EtY2hvaWNlbWF0cml4LmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUVBO0VBQ0UsMEJBQXlCLEVBQzFCOztBQUNEO0VBQ0UscUNBQXVDLEVBQ3hDOztBQUVEOztFQUVFLHFDQUFvQztFQUNwQyxtQkFBa0IsRUFDbkI7O0FBRUQ7RUFDRSxhQUFZLEVBQ2I7O0FBRUQ7RUFDRSxvQkFBbUIsRUFDcEI7O0FBRUQ7RUFDRSxXQUFVLEVBQ1g7O0FBRUQ7RUFDRSxVQUFTLEVBQ1Y7O0FBRUQ7RUFDRSxjQUFhO0VBQ2Isd0JBQXVCO0VBQ3ZCLG9CQUFtQixFQUNwQiIsImZpbGUiOiJzcmMvYXBwL3F1ZXN0aW9uLWJ1aWxkZXIvbWNxLWNob2ljZW1hdHJpeC9tY3EtY2hvaWNlbWF0cml4LmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiQGltcG9ydCBcIi4uLi8uLi9zY3NzL2NvbnN0YW50LnNjc3NcIjtcblxuLnRhYmxlLW1hdHJpeCB7XG4gIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XG59XG4uYmctbGlnaHRncmF5IHtcbiAgYmFja2dyb3VuZC1jb2xvcjogJGxpZ2h0Z3JheSAhaW1wb3J0YW50O1xufVxuXG4udGFibGUtbWF0cml4IHRib2R5IHRyIHRkLFxuLnRhYmxlLW1hdHJpeCB0Ym9keSB0ciB0aCB7XG4gIGJvcmRlcjogMXB4IHNvbGlkICNkZWUyZTYgIWltcG9ydGFudDtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xufVxuXG4ucm91bmRMYWJlbCB7XG4gIHBhZGRpbmc6IDVweDtcbn1cblxuLnJvdW5kTGFiZWw6aG92ZXIge1xuICBiYWNrZ3JvdW5kOiAjZmNmZGQ4O1xufVxuXG4ubWNxLXN0ZW0ge1xuICB3aWR0aDogOTUlO1xufVxuXG4ubWNxLWFjdGlvbiB7XG4gIHdpZHRoOiA1JTtcbn1cblxuLnJhZGlvIHtcbiAgZGlzcGxheTogZmxleDtcbiAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XG4gIGFsaWduLWl0ZW1zOiBjZW50ZXI7XG59XG4iXX0= */\"","import { Component, OnInit, AfterViewChecked, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { QuestionBuilderService } from '../question-builder.service';\nimport { PluginService } from '../../shared/plugin/plugin.service';\n\n\nexport class MCQChoiceMatrix {\n    QuestionId: string;\n    Question: string;\n    QuestionType: string;\n    Choices: Choice[] = [];\n    Options: Option[] = [];\n    Answers: Answer[] = [];\n    TotalMarks: number;\n}\n\nexport class Answer {\n    ChoiceId: string;\n    OptionId: string;\n    constructor(ChoiceId, OptionId) {\n        this.ChoiceId = ChoiceId;\n        this.OptionId = OptionId;\n    }\n}\n\nexport class Choice {\n    ChoiceId: string;\n    ChoiceText: string;\n    constructor(choiceId, choiceText) {\n        this.ChoiceId = choiceId;\n        this.ChoiceText = choiceText;\n    }\n}\n\nexport class Option {\n    OptionId: string;\n    OptionText: string;\n    constructor(optionId, optionText) {\n        this.OptionId = optionId;\n        this.OptionText = optionText;\n    }\n}\n\n@Component({\n    templateUrl: \"./mcq-choicematrix.component.html\",\n    styleUrls: ['./mcq-choicematrix.component.scss']\n})\nexport class MCQChoiceMatrixComponent implements OnInit, AfterViewChecked, OnDestroy {\n    viewModel: MCQChoiceMatrix;\n    answers: any[] = [];\n    editorQuestionConfig: any;\n    editorChoiceConfig: any;\n\n    constructor(private router: Router,\n        private route: ActivatedRoute,\n        private questionService: QuestionBuilderService,\n        private pluginService: PluginService,\n        private changedetector: ChangeDetectorRef\n    ) {\n        this.viewModel = new MCQChoiceMatrix();\n        this.route.data.subscribe((args: any) => {\n            if (args.type === \"MCQ_CHOICE_MATRIX\") {\n                this.viewModel.QuestionType = args.type;\n            }\n        });\n    }\n\n    ngOnInit() {\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\n        this.editorChoiceConfig = this.pluginService.getCKEditorChoiceConfig();\n        if (this.route.snapshot.data.question)\n            Promise.resolve().then(() => {\n                this.viewModel = this.route.snapshot.data.question;\n            });\n    }\n\n    ngAfterViewChecked() {\n        if (this.viewModel) {\n            this.questionService.generateQuestionResource(this.viewModel);\n        }\n        this.changedetector.detectChanges();\n    }\n\n    deleteChoice(choiceId) {\n        if (this.viewModel.Answers.length > 0) {\n            this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\n        } else {\n            let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\n            this.viewModel.Choices.splice(index, 1);\n        }\n    }\n\n    addChoice() {\n        this.viewModel.Choices = [...this.viewModel.Choices, new Choice(new Date().getUTCMilliseconds(), \"\")];\n    }\n\n    addOption() {\n        this.viewModel.Options = [...this.viewModel.Options,\n        new Option(new Date().getUTCMilliseconds(), \"\")];\n    }\n\n    deleteOption(optionId) {\n        if (this.viewModel.Answers.length > 0) {\n            this.pluginService.alertMessage(\"You can't delete it, option is already related to answer\", \"error\");\n        } else {\n            let index = this.viewModel.Options.findIndex(item => item.OptionId === optionId);\n            this.viewModel.Options.splice(index, 1);\n        }\n    }\n\n    markAsAnswer(choice: Choice, option: Option) {\n        let index: number;\n\n        if (this.viewModel.Answers.length === 0) {\n            this.viewModel.Answers = [];\n        }\n\n        this.viewModel.Answers.push({\n            ChoiceId: choice.ChoiceId,\n            OptionId: option.OptionId\n        });\n\n        if (this.viewModel.Answers.length > 0) {\n            for (let i = 0; i < this.viewModel.Answers.length; i++) {\n                for (let j = i + 1; j < this.viewModel.Answers.length; j++) {\n                    if (this.viewModel.Answers[i].ChoiceId === this.viewModel.Answers[j].ChoiceId) {\n                        index = this.viewModel.Answers.findIndex(item => item.ChoiceId === this.viewModel.Answers[i].ChoiceId);\n                        this.viewModel.Answers.splice(index, 1);\n                    }\n                }\n            }\n        }\n        this.viewModel.TotalMarks = this.viewModel.Answers.length;\n        this.showChoiceMatrixAnswers();\n    }\n\n    public showChoiceMatrixAnswers() {\n        let answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\n        this.answers = [];\n        answers = this.viewModel.Answers;\n        matrixChoices = this.viewModel.Choices;\n        matrixOptions = this.viewModel.Options;\n        for (let k = 0; k < answers.length; k++) {\n            this.answers.push({\n                choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\n                optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\n            })\n        }\n    }\n\n    ngOnDestroy() {\n        this.viewModel.Question = \"\";\n        this.viewModel.Choices = [];\n        this.viewModel.Options = [];\n        this.viewModel.QuestionType = \"\";\n        this.viewModel.Answers = [];\n    }\n}","import { Directive, Input, ElementRef, SimpleChanges } from '@angular/core';\nimport { Choice, Answer } from './mcq-choicematrix.component';\n\n@Directive({\n    selector: \"[choicematrix]\"\n})\nexport class UpdateAnswersDirective {\n\n    @Input('choicematrix') answers: Answer[] = [];\n\n    @Input('choiceid') choiceid: string;\n    @Input('optionid') optionid: string;\n\n    constructor(private elementRef: ElementRef) { }\n\n    ngOnChanges(changes: SimpleChanges): void {\n\n        this.elementRef.nativeElement.removeAttribute(\"checked\");\n\n        if (changes[\"answers\"]) {\n            let answer = this.answers.findIndex((item: Answer) => {\n                return item.ChoiceId === this.choiceid;\n            });\n\n            if (answer > -1 && this.answers[answer].OptionId === this.optionid) {\n                this.elementRef.nativeElement.setAttribute(\"checked\", \"checked\");\n            }\n\n        }\n    }\n}","export * from \"./mcq-standard.component\";","module.exports = \"<div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewModel\\\">\\n    <div class=\\\"row my-2\\\">\\n        <div class=\\\"col-xxl-12 d-flex justify-content-between align-items-center\\\">\\n            <div class=\\\"\\\" *ngIf=\\\"viewModel.QuestionType === 'MCQ_SINGLE'\\\">\\n                <p class=\\\"font-16\\\">Compose question - MCQ single answer</p>\\n            </div>\\n            <div class=\\\"\\\" *ngIf=\\\"viewModel.QuestionType === 'MCQ_MULTIPLE'\\\">\\n                <p class=\\\"font-16\\\">Compose question - MCQ multiple answers</p>\\n            </div>\\n            <div class=\\\"\\\" *ngIf=\\\"viewModel.QuestionType === 'MCQ_TRUE_FALSE'\\\">\\n                <p class=\\\"font-16\\\">Compose question - MCQ true or false</p>\\n            </div>\\n            <a target=\\\"_blank\\\" class=\\\"btn btn-info\\\" routerLink=\\\"./topic-question-sample\\\">\\n                <i class=\\\"fa fa-question-circle mr-2\\\"></i>View sample questions\\n            </a>\\n        </div>\\n    </div>\\n    <div class=\\\"row mb-3\\\">\\n        <div class=\\\"col-xxl-12\\\">\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\"\\n                #questionInput=\\\"ngModel\\\" placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"\\n                [required]=\\\"true\\\">\\n            </ckeditor>\\n        </div>\\n        <span class=\\\"text-danger font-15 my-2 mx-3\\\" *ngIf=\\\"!questionInput.valid\\\">\\n            Question is required\\n        </span>\\n    </div>\\n    <div class=\\\"mb-3\\\">\\n        <p class=\\\"font-16\\\">Choices</p>\\n    </div>\\n    <div class=\\\"w-100 mb-2 my-2 d-flex\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\n        <div class=\\\"mcq-choice d-flex align-items-center\\\"\\n            [ngClass]=\\\"{'radio': choiceType === 'radio','checkbox': choiceType === 'checkbox'}\\\">\\n            <input type=\\\"{{choiceType}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" [answers]=\\\"viewModel.Answers\\\"\\n                [choiceid]=\\\"choice.ChoiceId\\\" (click)=\\\"markAsAnswer(choice.ChoiceId)\\\">\\n            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\n        </div>\\n        <div class=\\\"mcq-question\\\">\\n            <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\" #choiceInput=\\\"ngModel\\\"\\n                placeholder=\\\"Enter choice (min length: 1 and max length: 4000)\\\" [required]=\\\"true\\\">\\n            </ckeditor>\\n            <span class=\\\"text-danger font-15 my-2\\\" *ngIf=\\\"!choiceInput.valid\\\">\\n                Choice is required\\n            </span>\\n        </div>\\n        <div class=\\\"mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end delete-icon\\\">\\n            <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\n        </div>\\n    </div>\\n    <div class=\\\"w-100 d-flex justify-content-end align-self-start my-2\\\">\\n        <div class=\\\"btn btn-info\\\" *ngIf=\\\"viewModel.QuestionType !== 'MCQ_TRUE_FALSE'\\\" (click)=\\\"addChoice()\\\">\\n            <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Choice</div>\\n    </div>\\n    <div class=\\\"mb-3 font-18\\\">\\n        <div class=\\\"border-success p-3 alert-success\\\">\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span>\\n            <span *ngIf=\\\"answers.length > 0\\\">\\n                <span class=\\\"text-dark\\\" *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                    <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\n                    {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n            </span>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, AfterViewChecked, ChangeDetectorRef, OnDestroy } from '@angular/core';\nimport { MCQStandardService, MCQStandard, Choice } from './mcq-standard.service';\nimport { ActivatedRoute } from '@angular/router';\nimport { QuestionBuilderService } from '../question-builder.service';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\n\ndeclare var $: any;\ndeclare var ckeditor: any;\n@Component({\n    templateUrl: \"./mcq-standard.component.html\",\n    providers: [MCQStandardService]\n})\n\nexport class MCQStandardComponent implements OnInit, AfterViewChecked, OnDestroy {\n    public viewModel: MCQStandard;\n    public modules: any;\n    public choiceType: string = \"\";\n    answers: any[] = [];\n    editorQuestionConfig: any;\n    editorChoiceConfig: any;\n\n    constructor(\n        private mcqService: MCQStandardService,\n        private route: ActivatedRoute,\n        private questionService: QuestionBuilderService,\n        private changedetector: ChangeDetectorRef,\n        public pluginService: PluginService,\n        public fileService: FileManagementService\n    ) {\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\n        this.editorChoiceConfig = this.pluginService.getCKEditorChoiceConfig();\n        this.viewModel = mcqService.getQuestion();\n        this.route.data.subscribe((args: any) => {\n            if (args.type === \"MCQ_SINGLE\") {\n                this.choiceType = \"radio\";\n                this.viewModel.QuestionType = args.type;\n            }\n            if (args.type === \"MCQ_MULTIPLE\") {\n                this.choiceType = \"checkbox\";\n                this.viewModel.QuestionType = args.type;\n            }\n            if (args.type === \"MCQ_TRUE_FALSE\") {\n                this.choiceType = \"radio\";\n                this.viewModel.Choices = [new Choice(new Date().getUTCMilliseconds() + 1, \"True\"), new Choice(new Date().getUTCMilliseconds(), \"False\")];\n                this.viewModel.QuestionType = args.type;\n            }\n        });\n\n    }\n\n    ngOnInit() {\n        if (this.route.snapshot.data.question)\n            Promise.resolve().then(() => {\n                this.viewModel = this.mcqService.load(this.route.snapshot.data.question);\n            });\n    }\n\n    ngAfterViewChecked() {\n        if (this.viewModel) {\n            this.questionService.generateQuestionResource(this.viewModel);\n            this.showMCQAnswers();\n        }\n        this.changedetector.detectChanges();\n    }\n\n    updateQuestionDetails() {\n        this.questionService.generateQuestionResource(this.viewModel);\n        this.showMCQAnswers();\n    }\n\n    public showMCQAnswers() {\n        this.answers = [];\n        for (let j = 0; j < this.viewModel.Answers.length; j++) {\n            let answerText = this.viewModel.Choices.find(item => item.ChoiceId === this.viewModel.Answers[j]).ChoiceText;\n            this.answers.push(answerText);\n            answerText = \"\"\n        }\n    }\n\n    public addChoice() {\n        this.mcqService.addChoice();\n    }\n\n    public deleteChoice(choiceId) {\n        this.mcqService.deleteChoice(choiceId);\n    }\n\n    public markAsAnswer(choiceId: string) {\n        this.mcqService.toggleAnswer(choiceId);\n        this.viewModel.TotalMarks = this.viewModel.Answers.length;\n    }\n\n    ngOnDestroy() {\n        this.viewModel.Question = \"\";\n        this.viewModel.Choices = [];\n        this.viewModel.QuestionType = \"\";\n        this.viewModel.Answers = [];\n    }\n}","import { Injectable } from '@angular/core';\nimport { PluginService } from '../../shared/plugin/plugin.service';\n\nexport class MCQStandard {\n    public Question: string;\n    public QuestionType: string;\n    public Choices: Choice[] = [];\n    public Answers: string[] = [];\n    public TotalMarks: number;\n}\n\nexport class Choice {\n    public ChoiceId: string;\n    public ChoiceText: string;\n\n    /**\n     *\n     */\n    constructor(ChoiceId, ChoiceText) {\n        this.ChoiceId = ChoiceId;\n        this.ChoiceText = ChoiceText;\n    }\n}\n\n@Injectable()\nexport class MCQStandardService {\n    private _question: MCQStandard;\n\n    constructor(public pluginService: PluginService) {\n        this._question = new MCQStandard();\n    }\n\n    addChoice(): any {\n        this._question.Choices.push(new Choice(new Date().getUTCMilliseconds(), \"\"));\n    }\n\n    getQuestion() {\n        return this._question;\n    }\n\n    deleteChoice(choiceId) {\n        if (this._question.Answers.length > 0) {\n            for (let i = 0; i < this._question.Answers.length; i++) {\n                if (this._question.Answers[i] !== choiceId) {\n                    let index = this._question.Choices.findIndex(item => item.ChoiceId === choiceId);\n                    this._question.Choices.splice(index, 1);\n                } else {\n                    this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\n                }\n            }\n        } else {\n            let index = this._question.Choices.findIndex(item => item.ChoiceId === choiceId);\n            this._question.Choices.splice(index, 1);\n        }\n\n    }\n\n    toggleAnswer(choiceId) {\n        var index = this._question.Answers.indexOf(choiceId);\n        if (this._question.QuestionType !== \"MCQ_MULTIPLE\") {\n            this._question.Answers = [];\n        }\n        if (index === -1) {\n            this._question.Answers = [...this._question.Answers, choiceId]\n        } else {\n            this._question.Answers = this._question.Answers.filter((item) => { return item !== choiceId; })\n        }\n    }\n\n    load(question: MCQStandard): any {\n        this._question = question;\n        return this._question;\n    }\n}","import { Directive, Input, OnChanges, SimpleChanges, ElementRef, AfterViewInit } from '@angular/core';\n\n@Directive({\n    selector: '[answers]'\n})\nexport class AnswersDirective implements OnChanges {\n    \n\n    @Input('answers') answers: string[];\n\n    @Input('choiceid') choiceid: string;\n\n    constructor(private elementRef: ElementRef){}\n\n    ngOnChanges(changes:  SimpleChanges): void {\n\n        this.elementRef.nativeElement.removeAttribute(\"checked\");\n\n        if(changes[\"answers\"]){\n            if(this.answers.indexOf(this.choiceid) > -1){\n                this.elementRef.nativeElement.setAttribute('checked', 'checked')\n            }\n        }\n    }\n}","module.exports = \"<div class=\\\"d-flex justify-content-between align-items-start flex-wrap\\\">\\n    <div *ngFor=\\\"let type of questionTypes;let i=index;\\\">\\n        <label for=\\\"{{type.id}}\\\">\\n            <div class=\\\"d-flex p-2\\\" (click)=\\\"navigateToUrl(type.router)\\\">\\n                <div class=\\\"radio\\\">\\n                    <input type=\\\"radio\\\" id=\\\"{{type.id}}\\\" [checked]=\\\"type.checked\\\" name=\\\"mcq\\\">\\n                    <label for=\\\"{{type.id}}\\\"></label>\\n                </div>\\n                <div>\\n                    <div class=\\\"mcq-header\\\">\\n                        <p class=\\\"text-white p-2\\\">\\n                            {{type.name}}\\n                        </p>\\n                    </div>\\n                    <div class=\\\"mcq-img p-2\\\">\\n                        <img src=\\\"{{type.imgsrc}}\\\" alt=\\\"{{type.name}}\\\">\\n                    </div>\\n                </div>\\n            </div>\\n        </label>\\n    </div>\\n</div>\"","import { Component,OnInit } from '@angular/core';\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { CommonService } from '../../shared/common/common.service';\n\n@Component({\n    selector: 'pick-question-type',\n    templateUrl: \"./pick-question-type.component.html\"\n})\nexport class PickQuestionComponent implements OnInit {\n    questionTypes: any[] = [];\n\n    public constructor(private router: Router, private route: ActivatedRoute, public commonService: CommonService) {\n    }\n\n    ngOnInit() {\n        this.getQuestionTypeDetails();\n    }\n\n    getQuestionTypeDetails() {\n        this.commonService.getQuestionTypeList().subscribe((data: any) => {\n            this.questionTypes = data;\n            let currentRoute = this.router.url;\n            this.setSelectedQuestionType(currentRoute);\n        });\n    }\n\n    setSelectedQuestionType(currentRoute) {\n        let splitUrl: any[] = [], lastItem;\n        splitUrl = currentRoute.split(\"/\");\n        lastItem = \"./\" + splitUrl.pop();\n        for (let i = 0; i < this.questionTypes.length; i++) {\n            if (lastItem === this.questionTypes[i].router) {\n                this.questionTypes.find(item => item.router === lastItem).checked = true;\n            }\n        }\n    }\n\n    public navigateToUrl(url: string) {\n        this.router.navigate([url], { relativeTo: this.route });\n    }\n}","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { MCQStandardComponent } from './mcq-standard';\nimport { AnswersDirective } from './mcq-standard/update-answers.directive';\nimport { MCQChoiceMatrixComponent, UpdateAnswersDirective } from './mcq-choicematrix';\nimport { MatchlistComponent } from './matchlist/matchlist.component';\nimport { QuestionPreviewDirective } from './cloze/question-preview.directive';\nimport { SharedModule } from '../shared';\nimport { QuestionBuilderService } from './question-builder.service';\nimport { DragAndDropComponent } from './cloze/drag-n-drop/drag-n-drop.component';\nimport { PickQuestionComponent } from './pick-question-type/pick-question-type.component';\n\n@NgModule({\n    declarations: [\n        MCQStandardComponent,\n        PickQuestionComponent,\n        AnswersDirective,\n        MCQChoiceMatrixComponent,\n        UpdateAnswersDirective,\n        MatchlistComponent,\n        DragAndDropComponent,\n        QuestionPreviewDirective\n    ],\n    imports: [\n        SharedModule\n    ],\n    providers: [QuestionBuilderService],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\n    exports: [\n        MCQStandardComponent,\n        PickQuestionComponent,\n        AnswersDirective,\n        MCQChoiceMatrixComponent,\n        UpdateAnswersDirective,\n        MatchlistComponent,\n        DragAndDropComponent,\n        QuestionPreviewDirective\n    ]\n})\nexport class QuestionBuilderModule {\n\n}","import { Injectable } from '@angular/core';\nimport { MCQStandard } from './mcq-standard/mcq-standard.service';\nimport { MCQChoiceMatrix } from './mcq-choicematrix';\nimport { MatchList } from './matchlist/matchlist.component';\n\n@Injectable({ providedIn: 'root' })\nexport class QuestionBuilderService {\n    questionResource: any;\n    questionDetails: any;\n\n    //mcq-single, mcq-multiple, mcq-true or false, mcq-choice matrix and matchlist\n    generateQuestionResource(jsonObj: any) {\n        var jsonData = JSON.stringify(jsonObj);\n        this.questionDetails = jsonObj;\n        this.saveQuestionResource(jsonData);\n    }\n\n    //mcq-single, mcq-multiple, mcq-true or false,mcq-choice matrix and matchlist\n    saveQuestionResource(jsonData) {\n        this.questionResource = this.convertJsonToString(jsonData)\n    }\n\n    get getQuestionResource() {\n        return this.questionDetails;\n    }\n\n    //JSON to String conversion\n    convertJsonToString(jsonData) {\n        let jsonString;\n        jsonString = jsonData.replace(/\"/g, '\\\\\"');\n        return jsonString;\n    }\n\n    //String to JSON conversion\n    convertStringToJson(stringData) {\n        let stringJson, parseJsonString\n        stringJson = stringData.replace(/\\\\\"/g, '\\\"');\n        parseJsonString = JSON.parse(stringJson);\n        return parseJsonString;\n    }\n}","export const DRAFT = 'DRAFT';\nexport const ACTIVE = 'ACTIVE';\nexport const INACTIVE = 'INACTIVE';\nexport const ARCHIVED = 'ARCHIVED';\nexport const NOCHANGE = 'NOCHANGE';\nexport const CREATED = 'CREATED';\nexport const EDITED = 'EDITED';\nexport const DELETED = 'DELETED';","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { ISubject } from '../shared/model/content/subject.model';\nimport { ACTIVE } from '../shared/constants/common.constants';\n\ntype EntityResponseType = HttpResponse<ISubject>;\ntype EntityArrayResponseType = HttpResponse<ISubject[]>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n@Injectable({ providedIn: 'root' })\nexport class SubjectService {\n\n    public subjectResourceUrl = environment.API_URL + 'services/learning/api/curriculum-subjects';\n    public subjectResourceUrlWithTree = environment.API_URL + 'services/learning/api/curriculum-subjects/subject-tree';\n    public subjectResourceUrlSearch = environment.API_URL + 'services/learning/api/curriculum-subjects/search';\n\n    constructor(protected http: HttpClient) { }\n\n    getSubjectBySubjectId(id: number): Observable<EntityResponseType> {\n        return this.http.get<ISubject>(`${this.subjectResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    updateSubjectStatus(generalSubject: ISubject): Observable<EntityResponseType> {\n        return this.http.put<ISubject>(this.subjectResourceUrl, generalSubject, { observe: 'response' });\n    }\n\n    delete(id: number): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.subjectResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    saveSubject(generalSubject: ISubject[]): Observable<EntityResponseType> {\n        return this.http.post<ISubject>(this.subjectResourceUrlWithTree, generalSubject, { headers: headers, observe: 'response' });\n    }\n\n    getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status): Observable<EntityArrayResponseType> {\n        let reqJSON;\n        if (status === ACTIVE) {\n            reqJSON = {\n                \"curriculumId\": curriculumId,\n                \"grade\": gradeId,\n                \"status\": status\n            }\n        } else {\n            reqJSON = {\n                \"curriculumId\": curriculumId,\n                \"grade\": gradeId\n            }\n        }\n\n        return this.http.post<ISubject[]>(this.subjectResourceUrlSearch, reqJSON, { observe: 'response' });\n    }\n\n    getSubjectTreeBySubjectId(id: number): Observable<EntityArrayResponseType> {\n        return this.http.get<ISubject[]>(`${this.subjectResourceUrlWithTree}/${id}`, { observe: 'response' });\n    }\n}\n","module.exports = \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\n    <div class=\\\"filtericon font-20\\\">\\n        <i class=\\\"fa fa-filter\\\"></i>\\n    </div>\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n        <div class=\\\"col-lg-3 mb-3\\\" id=\\\"curriculumDropdown\\\">\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\n            </ng-select>\\n        </div>\\n    </div>\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n        <div class=\\\"col-lg-2\\\">\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xxl-3 mb-3 py-3\\\">\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                <span *ngIf=\\\"enableExpandNode === false\\\">\\n                    Expand all\\n                </span>\\n                <span *ngIf=\\\"enableExpandNode === true\\\">\\n                    Collapse all\\n                </span>\\n            </div>\\n        </div>\\n        <div id=\\\"treeView\\\"></div>\\n    </div>\\n    <div class=\\\"col-xxl-9 mb-2 py-2\\\">\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\n            <p><b>Subject name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Subject description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n\\n        <div *ngIf=\\\"nodeType === 'unit'\\\">\\n            <p><b>Unit name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Unit description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n\\n        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\n            <div class=\\\"d-flex w-100 justify-content-between mb-2 flex-wrap\\\">\\n                <div class=\\\"filterbg p-3 mb-2 w-100\\\">\\n                    <p class=\\\"font-20\\\">Content preference for {{nodeName}}</p>\\n                    <div class=\\\"row m-0 mb-2\\\">\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\n                            <input type=\\\"radio\\\" id=\\\"ContentCE\\\" name=\\\"content\\\" [checked]=\\\"checkContentCE\\\"\\n                                (change)=\\\"checkContentPreference($event)\\\">\\n                            <label for=\\\"ContentCE\\\">Recommended by CE</label>\\n                        </div>\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\n                            <input type=\\\"radio\\\" id=\\\"OwnContent\\\" name=\\\"content\\\" [checked]=\\\"checkOwnContent\\\"\\n                                (change)=\\\"checkContentPreference($event)\\\">\\n                            <label for=\\\"OwnContent\\\">Use\\n                                our own resource</label>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"row m-0\\\">\\n                        <div class=\\\"w-100 d-flex justify-content-end\\\">\\n                            <div class=\\\"btn btn-success\\\" (click)=\\\"saveContentPreference()\\\">\\n                                <i class=\\\"fa fa-save mr-2\\\"></i>Save\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"tab w-100\\\">\\n                    <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show active\\\" id=\\\"home-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#home\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"home\\\" aria-selected=\\\"false\\\">Recommended\\n                                by CE </a>\\n                        </li>\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show\\\" id=\\\"profile-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#profile\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"profile\\\" aria-selected=\\\"true\\\">Recommended by organizations</a>\\n                        </li>\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show\\\" id=\\\"portfolio-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#portfolio\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"portfolio\\\" aria-selected=\\\"false\\\"> Own\\n                                additional lesson resources </a>\\n                        </li>\\n                    </ul>\\n                    <div class=\\\"tab-content\\\">\\n                        <div class=\\\"tab-pane fade py-3 active show\\\" id=\\\"home\\\" role=\\\"tabpanel\\\"\\n                            aria-labelledby=\\\"home-tab\\\">\\n                            <div class=\\\"row mb-2\\\">\\n                                <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n                                    <div class=\\\"btn btn-primary\\\" (click)=\\\"addAddlessonResources()\\\">\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add new\\n                                        resources\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"addlResource\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\"\\n                                    id=\\\"dragTable\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Select</th>\\n                                            <th>Order number</th>\\n                                            <th>Title</th>\\n                                            <th>Resource category</th>\\n                                            <th>Content type</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody id=\\\"dragBody\\\">\\n                                        <tr\\n                                            *ngFor=\\\"let resource of addlResource;trackBy: trackId;let topicIndex = index\\\">\\n                                            <td data-column=\\\"Select\\\" data-column=\\\"Select\\\" id=\\\"{{resource.id}}\\\">\\n                                                <div class=\\\"checkbox\\\">\\n                                                    <input type=\\\"checkbox\\\" title=\\\"{{resource.id}}\\\" id=\\\"{{resource.id}}2\\\"\\n                                                        (change)=\\\"checkSelectedContents($event)\\\" class=\\\"checkAll\\\">\\n                                                    <label for=\\\"{{resource.id}}2\\\"></label>\\n                                                </div>\\n                                            </td>\\n                                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\n                                                {{resource.orderNumber}}\\n                                            </td>\\n                                            <td data-column=\\\"Title\\\">\\n                                                {{resource.content.title}}\\n                                            </td>\\n                                            <td data-column=\\\"Resource category\\\">\\n                                                {{resource.content.tag}}\\n                                            </td>\\n                                            <td data-column=\\\"Content type\\\">\\n                                                {{resource.content.contentType}}\\n                                            </td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <div>\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon-size\\\"\\n                                                        (click)=\\\"viewAddlResource(resource.id)\\\">\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\n                                                    </a>\\n                                                    <a class=\\\"btn btn-outline-success mr-1 mb-1 btn-icon-size\\\"\\n                                                        (click)=\\\"editAddlResource(resource.id)\\\">\\n                                                        <i class=\\\"fa fa-edit\\\"></i>\\n                                                    </a>\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"addlResource.length > 0\\\">\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableGenAction\\\"\\n                                        (click)=\\\"resetSelectedAddlResource()\\\">\\n                                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\n                                    </button>\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableGenAction\\\"\\n                                        (click)=\\\"deleteAddlResource()\\\">\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\n                                    </button>\\n                                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateGenAction\\\"\\n                                        (click)=\\\"updateAddlResourceWithOrderNumber()\\\">\\n                                        <i class=\\\"fa fa-save mr-2\\\"></i>Update order\\n                                    </button>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"profile\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"profile-tab\\\">\\n                            <div class=\\\"col-12 filterbg py-2 px-4 rounded my-4\\\">\\n                                <div class=\\\"filtericon font-20\\\">\\n                                    <i class=\\\"fa fa-filter\\\"></i>\\n                                </div>\\n                                <div class=\\\"row col-xxl-4 mb-3\\\">\\n                                    <ng-select [items]=\\\"organisations\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                                        bindLabel=\\\"name\\\" placeholder=\\\"Select organisation\\\"\\n                                        [(ngModel)]=\\\"selectedOrganisation\\\" class=\\\"w-100\\\">\\n                                    </ng-select>\\n                                </div>\\n                                <div class=\\\"w-100 d-flex justify-content-end\\\">\\n                                    <div class=\\\"btn btn-success\\\" (click)=\\\"getOrgGeneralAddlResourceByOrganisation()\\\">\\n                                        <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"orgGeneralAddlResource\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Order number</th>\\n                                            <th>Title</th>\\n                                            <th>Resource category</th>\\n                                            <th>Content type</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let resource of orgGeneralAddlResource;trackBy: trackId;\\\">\\n                                            <td data-column=\\\"Order number\\\">\\n                                                {{resource.orderNumber}}\\n                                            </td>\\n                                            <td data-column=\\\"Title\\\">\\n                                                {{resource.content.title}}\\n                                            </td>\\n                                            <td data-column=\\\"Resource category\\\">\\n                                                {{resource.content.tag}}\\n                                            </td>\\n                                            <td data-column=\\\"Content type\\\">\\n                                                {{resource.content.contentType}}\\n                                            </td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon-size\\\"\\n                                                    (click)=\\\"viewOrgAddlResource(resource.id)\\\">\\n                                                    <i class=\\\"fa fa-eye\\\"></i>\\n                                                </a>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"portfolio\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"portfolio-tab\\\">\\n                            <div class=\\\"row mb-2\\\">\\n                                <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n                                    <div class=\\\"btn btn-primary\\\" (click)=\\\"addOwnAddlResources()\\\">\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add new\\n                                        resources\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"ownAddlResource\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\"\\n                                    id=\\\"ownContentDragTable\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Select</th>\\n                                            <th>Order number</th>\\n                                            <th>Title</th>\\n                                            <th>Resource category</th>\\n                                            <th>Content type</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody id=\\\"ownContentDragBody\\\">\\n                                        <tr *ngFor=\\\"let resource of ownAddlResource;trackBy: trackId;\\\">\\n                                            <td data-column=\\\"Select\\\" data-column=\\\"Select\\\" id=\\\"{{resource.id}}\\\">\\n                                                <div class=\\\"checkbox\\\">\\n                                                    <input type=\\\"checkbox\\\" title=\\\"{{resource.id}}\\\" id=\\\"{{resource.id}}1\\\"\\n                                                        (change)=\\\"checkSelectedOwnContents($event)\\\"\\n                                                        class=\\\"checkAllOwnContents\\\">\\n                                                    <label for=\\\"{{resource.id}}1\\\"></label>\\n                                                </div>\\n                                            </td>\\n                                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\n                                                {{resource.orderNumber}}\\n                                            </td>\\n                                            <td data-column=\\\"Title\\\">\\n                                                {{resource.content.title}}\\n                                            </td>\\n                                            <td data-column=\\\"Resource category\\\">\\n                                                {{resource.content.tag}}\\n                                            </td>\\n                                            <td data-column=\\\"Content type\\\">\\n                                                {{resource.content.contentType}}\\n                                            </td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <div>\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon-size\\\"\\n                                                        (click)=\\\"viewOwnAddlResource(resource.id)\\\">\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\n                                                    </a>\\n                                                    <a class=\\\"btn btn-outline-success  mr-1 mb-1 btn-icon-size\\\"\\n                                                        (click)=\\\"editOwnAddlResource(resource.id)\\\">\\n                                                        <i class=\\\"fa fa-edit\\\"></i>\\n                                                    </a>\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"ownAddlResource.length > 0\\\">\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\n                                        (click)=\\\"resetSelectedOwnAddlResource()\\\">\\n                                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\n                                    </button>\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\n                                        (click)=\\\"deleteOwnAddlResource()\\\">\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\n                                    </button>\\n                                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\"\\n                                        (click)=\\\"updateOwnAddlResourceWithOrderNumber()\\\">\\n                                        <i class=\\\"fa fa-save mr-2\\\"></i>Update order\\n                                    </button>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"additionalResourceModal\\\">\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" [formGroup]=\\\"lessonResourceForm\\\"\\n        role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    {{modalTitleName}} content\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeLessonResourceModalWithOutSaving()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">Title\\n                    </label>\\n                    <input type=\\\"text\\\" placeholder=\\\"Enter content name (min length: 3 and max length: 75)\\\"\\n                        class=\\\"form-control\\\" formControlName=\\\"contentTitle\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\n                        inputRestriction=\\\"alphabetsNumbersWithMinus\\\" />\\n                    <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                        Allowed characters - Alphabets, Numbers and One special character (-)\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">Description <span class=\\\"text-muted\\\"\\n                            *ngIf=\\\"modalTitleName !== 'View'\\\">(Optional)</span>\\n                    </label>\\n                    <textarea class=\\\"form-control description-form\\\"\\n                        placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\"\\n                        formControlName=\\\"contentDescription\\\" minlength=\\\"3\\\" maxlength=\\\"250\\\"></textarea>\\n                    <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                        Allowed characters - Alphabets, Numbers and Special characters\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">Resource category\\n                    </label>\\n                    <ng-select [items]=\\\"resourceCategory\\\" [disabled]=\\\"disableDropdown\\\"\\n                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\" placeholder=\\\"Select resource category\\\"\\n                        [(ngModel)]=\\\"selectedCategory\\\" formControlName=\\\"resourceCategory\\\">\\n                    </ng-select>\\n                </div>\\n                <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">Content type\\n                    </label>\\n                    <ng-select [items]=\\\"contentType\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                        bindLabel=\\\"name\\\" placeholder=\\\"Select content type\\\" [(ngModel)]=\\\"selectedContentType\\\"\\n                        formControlName=\\\"contentType\\\" [searchable]=\\\"false\\\">\\n                    </ng-select>\\n                </div>\\n                <div *ngIf=\\\"selectedContentType\\\">\\n                    <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\n                        <label class=\\\"col-form-label\\\">Web URL\\n                        </label>\\n                        <input type=\\\"url\\\" class=\\\"form-control\\\"\\n                            placeholder=\\\"Enter web url(min length: 3 and max length: 2048)\\\" formControlName=\\\"webSource\\\"\\n                            minlength=\\\"3\\\" maxlength=\\\"2048\\\">\\n                        <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                            Allowed characters - Alphabets, Numbers and Special characters\\n                        </div>\\n                    </div>\\n                    <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\n                        <label class=\\\"col-form-label\\\">File\\n                        </label>\\n                        <div class=\\\"custom-file\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                            <input type=\\\"file\\\" (change)=\\\"onDocumentFileChanges($event)\\\" id=\\\"documentFile\\\" />\\n                            <label class=\\\"custom-file-label\\\" for=\\\"documentFile\\\">\\n                                <i>\\n                                    {{fileName}}\\n                                </i></label>\\n                        </div>\\n                        <div class=\\\" d-flex w-100\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\n                                Only PDF will allow Max file size - 100 MB\\n                            </div>\\n                        </div>\\n                        <div class=\\\"d-flex w-100 my-2\\\">\\n                            <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                                <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadDocumentFile()\\\"\\n                                    *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\n                                    <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\n                                </button>\\n                            </div>\\n                            <div *ngIf=\\\"showFileAction\\\" class=\\\"d-flex justify-content-between\\\">\\n                                <a class=\\\"btn btn-info mr-2\\\" (click)=\\\"downloadFile()\\\" *ngIf=\\\"uploadedFileName\\\">\\n                                    <i class=\\\"fa fa-download mr-2\\\"></i>{{uploadedFileName}}\\n                                </a>\\n                                <div *ngIf=\\\"modalTitleName !=='View'\\\">\\n                                    <a class=\\\" btn btn-danger\\\" (click)=\\\"deleteUploadedFile()\\\" *ngIf=\\\"uploadedFileName\\\">\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete file\\n                                    </a>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\n                    <div class=\\\"btn btn-danger\\\" (click)=\\\"resetLessonResource()\\\">\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\n                        Reset\\n                    </div>\\n                </div>\\n\\n                <div *ngIf=\\\"modalTitleName === 'Edit'\\\">\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"updateAddlResource()\\\"\\n                        [disabled]=\\\"lessonResourceForm.invalid\\\">\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\n                        Save\\n                    </button>\\n                </div>\\n\\n                <div *ngIf=\\\"modalActionName === 'AddlResource'\\\">\\n                    <div *ngIf=\\\"modalTitleName === 'Add'\\\">\\n                        <button class=\\\"btn btn-success\\\" (click)=\\\"saveAddlResource()\\\"\\n                            [disabled]=\\\"lessonResourceForm.invalid\\\">\\n                            <i class=\\\"fa fa-save mr-2\\\"></i>\\n                            Save\\n                        </button>\\n                    </div>\\n                </div>\\n\\n                <div *ngIf=\\\"modalActionName === 'OwnAddlResource'\\\">\\n                    <div *ngIf=\\\"modalTitleName === 'Add'\\\">\\n                        <button class=\\\"btn btn-success\\\" (click)=\\\"saveOwnAddlResource()\\\"\\n                            [disabled]=\\\"lessonResourceForm.invalid\\\">\\n                            <i class=\\\"fa fa-save mr-2\\\"></i>\\n                            Save\\n                        </button>\\n                    </div>\\n                </div>\\n\\n                <div *ngIf=\\\"modalTitleName === 'View'\\\">\\n                    <div class=\\\"btn btn-danger\\\" (click)=\\\"closeLessonResourceModal()\\\">\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\n                        Close\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, AfterViewInit, ChangeDetectorRef, AfterViewChecked } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { ISubject } from '../../shared/model/content/subject.model';\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\nimport { IGrade } from '../../shared/model/common/grade.model';\nimport { Principal } from '../../core';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { IOrgGeneralAddlResource } from '../../shared/model/content/org-general-addl-resource.model';\nimport { IAddlResource } from '../../shared/model/content/addl-resource.model';\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\nimport { IOrganisation } from '../../shared/model/common/organisation.model';\nimport { IAddlResoucePreference } from '../../shared/model/content/addl-resource-preference.model';\nimport { Observable } from 'rxjs';\nimport { IContent } from '../../shared/model/content/content.model';\nimport { CommonService } from '../../shared/common/common.service';\nimport { SubjectService } from '../../subject/subject.service';\nimport { OrganisationService } from '../../organisation/organisation.service';\nimport { CurriculumService } from '../../curriculum/curriculum.service';\nimport { ACTIVE } from '../../shared/constants/common.constants';\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\nimport { saveAs } from 'file-saver'\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./addl-resource-manage.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class CurriculumAdditionalResourcesManageComponent implements OnInit, AfterViewInit, AfterViewChecked {\n    lessonResourceForm: FormGroup;\n    curriculumList: ICurriculum[] = [];\n    gradeList: IGrade[] = [];\n    subjectList: IGrade[] = [];\n    subjectTree: ISubject[] = [];\n    resourceCategory: any[] = [];\n    contentType: any[] = [];\n    resourceIds: any[] = [];\n    ownLessonResourceIds: any[] = [];\n    organisations: IOrganisation[] = [];\n    addlResource: IAddlResource[] = [];\n    ownAddlResource: IOrgGeneralAddlResource[] = [];\n    orgGeneralAddlResource: IOrgGeneralAddlResource[] = [];\n    organisationId: number;\n    lessonId: number;\n    contentId: number;\n    nodeType: string;\n    nodeName: string;\n    nodeDescription: string;\n    modalTitleName: string;\n    modalActionName: string;\n    uploadedFileName: string;\n    fileName: string;\n    contentPreferenceStatus: boolean;\n    checkContentCE: boolean;\n    checkOwnContent: boolean;\n    checkOrderNumChange: boolean;\n    disableDropdown: boolean;\n    enableExpandNode: boolean;\n    validateForm: boolean;\n    tableAction: boolean;\n    updateAction: boolean;\n    tableGenAction: boolean;\n    updateGenAction: boolean;\n    showFileAction: boolean;\n    selectedCurriculum: any;\n    selectedGrade: any;\n    selectedSubject: any;\n    selectedOrganisation: any;\n    selectedCategory: any;\n    selectedContentType: any;\n    uploadedFilePath: any;\n    fileType: any;\n    selectedFile: any = null;\n\n    constructor(\n        public _router: Router,\n        public activatedRoute: ActivatedRoute,\n        public addlResourceService: SyllabusLessonTopicService,\n        public curriculumService: CurriculumService,\n        public subjectService: SubjectService,\n        public organisationService: OrganisationService,\n        protected eventManager: JhiEventManager,\n        protected parseLinks: JhiParseLinks,\n        protected principalService: Principal,\n        public pluginService: PluginService,\n        public formBuilder: FormBuilder,\n        public userLoginInfo: UserLoginInfoService,\n        public commonService: CommonService,\n        private changeDetectorRef: ChangeDetectorRef,\n        public fileService: FileManagementService\n    ) {\n        this.enableExpandNode = false;\n        this.checkContentCE = false;\n        this.contentPreferenceStatus = false;\n        this.validateForm = true;\n        this.tableAction = true;\n        this.updateAction = true;\n        this.tableGenAction = true;\n        this.updateGenAction = true;\n    }\n\n    ngOnInit() {\n        this.loadCurriculums();\n        this.createAdditionLessonResourceForm();\n        this.getContentCategory();\n        this.getContentType();\n    }\n\n    getContentCategory() {\n        this.commonService.getContentCategoryList().subscribe((categoryData: any) => {\n            this.resourceCategory = categoryData;\n        });\n    }\n\n    getContentType() {\n        this.commonService.getContentTypeList().subscribe((typeData: any) => {\n            this.contentType = typeData;\n        });\n    }\n\n    createAdditionLessonResourceForm() {\n        this.lessonResourceForm = this.formBuilder.group({\n            contentTitle: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(75)]),\n            contentDescription: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(250)]),\n            resourceCategory: new FormControl(null, [Validators.required]),\n            contentType: new FormControl(null, [Validators.required]),\n            webSource: new FormControl(null)\n        })\n    }\n\n    loadCurriculums() {\n        this.curriculumService.getCurriculumSearch().subscribe(\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignCurriculumList(data: ICurriculum[]) {\n        this.curriculumList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.curriculumList.push(data[i]);\n        }\n    }\n\n    protected onError(errorMessage: string) {\n        this.pluginService.alertMessage(errorMessage, \"error\");\n    }\n\n    onDocumentFileChanges(event) {\n        this.selectedFile = event.target.files;\n        this.fileName = this.selectedFile[0].name;\n        if ((this.selectedFile[0].type === \"application/pdf\") && (this.selectedFile[0].size > 104857600)) {\n            this.pluginService.alertMessage(\"Please upload file size lesser than 100 MB\", \"error\");\n        }\n    }\n\n    uploadDocumentFile() {\n        if (this.fileName !== \"No file chosen\") {\n            if (this.selectedFile[0].type === \"application/pdf\") {\n                let file = this.selectedFile.item(0);\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\n                    if (res.status === 200) {\n                        this.uploadedFileName = Object.keys(res.body)[0];\n                        this.uploadedFilePath = Object.values(res.body)[0];\n                        this.fileName = this.uploadedFileName;\n                        if (this.uploadedFileName && this.uploadedFilePath) {\n                            this.fileService.uploadPDFFile(this.uploadedFilePath, file).subscribe((event) => {\n                                if (event instanceof HttpResponse) {\n                                    this.showFileAction = true;\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\n                                }\n                            });\n                        }\n                    }\n                });\n            } else {\n                this.pluginService.alertMessage(\"Invalid file, it support only PDF\", \"error\");\n            }\n        } else {\n            this.pluginService.alertMessage(\"Please choose file and upload it\", \"error\")\n        }\n    }\n\n    downloadFile() {\n        if (this.uploadedFileName) {\n            this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName));\n        }\n    }\n\n    protected subscribeToDownloadResponse(result: Observable<HttpResponse<any>>) {\n        result.subscribe((res: HttpResponse<any>) => this.onDownloadSuccess(res), (errRes: HttpErrorResponse) => this.onDownloadError(errRes));\n    }\n\n    onDownloadSuccess(resp) {\n        if (resp.body) {\n            let downloadFilePath = Object.values(resp.body)[0];\n            saveAs(downloadFilePath);\n        }\n    }\n\n    onDownloadError(error) {\n        this.pluginService.alertMessage(\"Error in downloading file\", \"error\");\n    }\n\n    checkContentType() {\n        if (this.selectedContentType) {\n            if (this.selectedContentType.tag === 'DOCUMENT') {\n                if (this.uploadedFilePath) {\n                    this.deleteUploadedFile();\n                }\n            }\n        }\n    }\n\n    deleteUploadedFile() {\n        this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName));\n    }\n\n    protected subscribeToDeleteFiletResponse(resp: Observable<HttpResponse<any>>) {\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteFileSuccess(res), (res: HttpErrorResponse) => this.onDeleteError(res));\n    }\n\n    onDeleteFileSuccess(resp) {\n        this.fileName = \"No file chosen\";\n        this.uploadedFileName = \"\";\n        this.uploadedFilePath = \"\";\n        this.pluginService.alertMessage(\"File deleted successfully\", \"success\");\n    }\n\n\n    ngAfterViewInit() {\n        this.showSyllabusDetails();\n    }\n\n    onCurriculumChange() {\n        let gradesApplicableFrom, gradesApplicableTo;\n        if (this.selectedCurriculum) {\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n        }\n        this.selectedGrade = null;\n        this.selectedSubject = null;\n    }\n\n    onGradeChange() {\n        let curriculumId, gradeId, status;\n        if (this.selectedGrade) {\n            curriculumId = this.selectedCurriculum.id;\n            gradeId = this.selectedGrade.id;\n            status = ACTIVE;\n            this.subjectService\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\n                .subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                );\n        }\n        this.selectedSubject = null;\n    }\n\n    assignSubjectList(data: ISubject[]) {\n        this.subjectList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.subjectList.push(data[i]);\n        }\n    }\n\n    generateGradeList(min, max) {\n        this.gradeList = [];\n        for (var i = min; i <= max; i++) {\n            this.gradeList.push({\n                \"id\": i,\n                \"name\": i\n            });\n        }\n        return this.gradeList;\n    }\n\n    loadSubjectTree() {\n        if (this.selectedSubject) {\n            let subjectId = this.selectedSubject.id;\n            if (subjectId) {\n                this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                )\n            } else {\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\n            }\n        }\n    }\n\n    assignSubjectTree(data: ISubject[]) {\n        this.subjectTree = data;\n        this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\n        this.enableExpandNode = false;\n    }\n\n    trimValue(value) {\n        if (value === null || value === undefined) {\n            return value;\n        } else {\n            return value.trim();\n        }\n    }\n\n    ngAfterViewChecked() {\n        this.validateTopicContentForm();\n        this.changeDetectorRef.detectChanges();\n    }\n\n    validateTopicContentForm() {\n        let contentName, webURL;\n        contentName = this.trimValue(this.lessonResourceForm.value.contentTitle);\n        webURL = this.trimValue(this.lessonResourceForm.value.webSource);\n        if (contentName === \"\" || contentName === undefined || contentName === null) {\n            this.validateForm = true;\n        }\n        if (this.lessonResourceForm.valid) {\n            this.validateForm = false;\n        }\n        if (this.lessonResourceForm.invalid) {\n            this.validateForm = true;\n        }\n        if ((webURL === \"\" || webURL === undefined || webURL === null) || (this.uploadedFilePath === \"\" || this.uploadedFilePath === undefined || this.uploadedFilePath === null)) {\n            this.validateForm = true\n        }\n    }\n\n\n    showSyllabusDetails() {\n        var localThisObj = this;\n        $('#treeView')\n            .on('changed.jstree', function (e, data) {\n                var i, j;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.nodeType = data.node.type;\n                    if (localThisObj.nodeType === \"root\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    }\n                    else if (localThisObj.nodeType === \"unit\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    } else if (localThisObj.nodeType === \"lesson\") {\n                        localThisObj.lessonId = data.node.data.id;\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.objective;\n                        localThisObj.addlResource = [];\n                        localThisObj.orgGeneralAddlResource = [];\n                        localThisObj.ownAddlResource = [];\n                        localThisObj.getAddlResourceList(localThisObj.lessonId);\n                        localThisObj.getOrgGeneralAddlResourceByOrganisationId(localThisObj.lessonId);\n                        localThisObj.getOrganisationList();\n                        localThisObj.getAddlResourcePreference(localThisObj.lessonId);\n                        localThisObj.updateAction = true;\n                        localThisObj.updateGenAction = true;\n                        localThisObj.tableAction = true;\n                        localThisObj.tableGenAction = true;\n                    } else {\n                    }\n                }\n            })\n    }\n\n    getAddlResourceList(lessonId) {\n        this.addlResourceService.getAddlResource(lessonId).subscribe(\n            (res: HttpResponse<IAddlResource[]>) => this.assignResponseToAddlResourceList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignResponseToAddlResourceList(data: IAddlResource[]) {\n        this.addlResource = data;\n        this.sortArrayByOrderNumber(this.addlResource);\n        this.dragTableContent();\n    }\n\n    getOrgGeneralAddlResourceByOrganisation() {\n        let organisationId = this.selectedOrganisation.id;\n        this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(this.lessonId, organisationId).subscribe(\n            (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.assignResponseToOrgAddlResource(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignResponseToOrgAddlResource(data: IOrgGeneralAddlResource[]) {\n        this.orgGeneralAddlResource = data;\n        this.sortArrayByOrderNumber(this.orgGeneralAddlResource);\n    }\n\n    getOrgGeneralAddlResourceByOrganisationId(lessonId) {\n        //User login info organisationId\n        this.organisationId = this.userLoginInfo.organisationId;\n        this.addlResourceService.getOrgGeneralAddlResourceByOrganisationId(lessonId, this.organisationId).subscribe(\n            (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.assignResponseToOrgAddlResourceList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignResponseToOrgAddlResourceList(data: IOrgGeneralAddlResource[]) {\n        this.orgGeneralAddlResource = data;\n        this.ownAddlResource = data;\n        this.sortArrayByOrderNumber(this.ownAddlResource);\n        this.ownAddlResourceDragTableContent();\n    }\n\n    getOrganisationList() {\n        this.organisationService.getOrganisations().subscribe(\n            (res: HttpResponse<IOrganisation[]>) => this.assignOrgList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignOrgList(data: IOrganisation[]) {\n        this.organisations = data;\n    }\n\n    sortArrayByOrderNumber(array: any[]) {\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\n    }\n\n    getAddlResourcePreference(lessonId) {\n        this.addlResourceService.getAddlResourcePreference(lessonId, this.organisationId).subscribe(\n            (res: HttpResponse<IAddlResoucePreference>) => this.onGetPreferenceSuccess(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    onGetPreferenceSuccess(acitveStatus: IAddlResoucePreference) {\n        if (acitveStatus === \"\" || acitveStatus === null || acitveStatus === false) {\n            this.checkContentCE = true;\n            this.checkOwnContent = false;\n        } else if (acitveStatus === true) {\n            this.checkContentCE = false;\n            this.checkOwnContent = true;\n        }\n    }\n\n    checkContentPreference(event) {\n        let check = event.target.checked;\n        let name = event.target.id;\n        if (check === true && name === \"ContentCE\") {\n            this.contentPreferenceStatus = false;\n        } else if (check === true && name === \"OwnContent\") {\n            this.contentPreferenceStatus = true;\n        }\n    }\n\n    saveContentPreference() {\n        if (this.contentPreferenceStatus === false) {\n            if (this.addlResource.length <= 0) {\n                this.pluginService.alertMessage(\"Before set content preference atleast one general additional lesson resources is mandatory\", \"error\");\n            } else {\n                this.setContentPreference();\n            }\n        } else if (this.contentPreferenceStatus === true) {\n            if (this.ownAddlResource.length <= 0) {\n                this.pluginService.alertMessage(\"Please add atleast one own additional lesson resources and do preference\", \"error\");\n            } else {\n                this.setContentPreference();\n            }\n        }\n    }\n\n    setContentPreference() {\n        this.addlResourceService.setAddlResourcePreference(this.contentPreferenceStatus, this.lessonId, this.organisationId).subscribe(\n            (res: HttpResponse<IAddlResource>) => this.onSuccess(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    onSuccess(data) {\n        this.pluginService.alertMessage(\"Content preference saved successfully\", \"success\");\n    }\n\n    resetFormValues() {\n        this.lessonResourceForm.reset();\n        this.selectedCategory = null;\n    }\n\n    addAddlessonResources() {\n        this.openLessonResourceModal();\n        this.modalTitleName = \"Add\";\n        this.modalActionName = \"AddlResource\";\n        this.resetFormValues();\n        this.enableFormFields();\n    }\n\n    addOwnAddlResources() {\n        this.openLessonResourceModal();\n        this.modalTitleName = \"Add\";\n        this.modalActionName = \"OwnAddlResource\";\n        this.resetFormValues();\n        this.enableFormFields();\n    }\n\n    openLessonResourceModal() {\n        this.pluginService.showModalWindow(\"#additionalResourceModal\");\n    }\n\n    closeLessonResourceModal() {\n        this.pluginService.hideModalWindow(\"#additionalResourceModal\")\n    }\n\n    viewAddlResource(contentId) {\n        let lessonResourcesDetails: IAddlResource[] = [], lessonResourceDetail: IAddlResource = {};\n        lessonResourceDetail.content = {}\n        lessonResourcesDetails = this.addlResource.filter(item => item.id === contentId);\n        lessonResourceDetail = lessonResourcesDetails[0];\n        this.modalTitleName = \"View\";\n        this.modalActionName = \"AddlResource\";\n        this.patchContentFormfields(lessonResourceDetail);\n        this.openLessonResourceModal();\n    }\n\n    editAddlResource(contentId) {\n        let lessonResourcesDetails: IAddlResource[] = [], lessonResourceDetail: IAddlResource = {};\n        lessonResourceDetail.content = {}\n        lessonResourcesDetails = this.addlResource.filter(item => item.id === contentId);\n        lessonResourceDetail = lessonResourcesDetails[0];\n        this.modalTitleName = \"Edit\";\n        this.modalActionName = \"AddlResource\";\n        this.patchContentFormfields(lessonResourceDetail);\n        this.openLessonResourceModal();\n    }\n\n    viewOrgAddlResource(contentId) {\n        let lessonResourcesDetails: IOrgGeneralAddlResource[] = [], lessonResourceDetail: IOrgGeneralAddlResource = {};\n        lessonResourceDetail.content = {}\n        lessonResourcesDetails = this.orgGeneralAddlResource.filter(item => item.id === contentId);\n        lessonResourceDetail = lessonResourcesDetails[0];\n        this.modalTitleName = \"View\";\n        this.modalActionName = \"OrgAddlResource\";\n        this.patchContentFormfields(lessonResourceDetail);\n        this.openLessonResourceModal();\n    }\n\n    editOwnAddlResource(contentId) {\n        let lessonResourcesDetails: IOrgGeneralAddlResource[] = [], lessonResourceDetail: IOrgGeneralAddlResource = {};\n        lessonResourceDetail.content = {}\n        lessonResourcesDetails = this.ownAddlResource.filter(item => item.id === contentId);\n        lessonResourceDetail = lessonResourcesDetails[0];\n        this.modalTitleName = \"Edit\";\n        this.modalActionName = \"OwnAddlResource\";\n        this.patchContentFormfields(lessonResourceDetail);\n        this.openLessonResourceModal();\n    }\n\n    viewOwnAddlResource(contentId) {\n        let lessonResourcesDetails: IOrgGeneralAddlResource[] = [], lessonResourceDetail: IOrgGeneralAddlResource = {};\n        lessonResourceDetail.content = {}\n        lessonResourcesDetails = this.ownAddlResource.filter(item => item.id === contentId);\n        lessonResourceDetail = lessonResourcesDetails[0];\n        this.modalTitleName = \"View\";\n        this.modalActionName = \"OwnAddlResource\";\n        this.patchContentFormfields(lessonResourceDetail);\n        this.openLessonResourceModal();\n    }\n\n    patchContentFormfields(lessonResourceDetail: IOrgGeneralAddlResource) {\n        this.contentId = lessonResourceDetail.content.id;\n        this.selectedCategory = this.resourceCategory.filter(item => item.tag === lessonResourceDetail.content.tag)[0];\n        this.selectedContentType = this.contentType.filter(item => item.tag === lessonResourceDetail.content.contentType)[0];\n        this.lessonResourceForm.patchValue({\n            contentTitle: lessonResourceDetail.content.title,\n            contentDescription: lessonResourceDetail.content.description\n        })\n        if (this.selectedContentType.tag === \"DOCUMENT\") {\n            this.showFileAction = true;\n            this.fileName = lessonResourceDetail.content.fileName;\n            this.uploadedFileName = lessonResourceDetail.content.fileName;\n            this.uploadedFilePath = lessonResourceDetail.content.filePath;\n        } else if (this.selectedContentType.tag === \"VIDEO\") {\n            this.lessonResourceForm.patchValue({\n                webSource: lessonResourceDetail.content.webUrl\n            })\n        }\n        if (this.modalTitleName === \"View\") {\n            this.disableFormFields();\n        } else if (this.modalTitleName === \"Edit\" || this.modalTitleName === \"Add\") {\n            this.enableFormFields();\n        }\n    }\n\n    disableFormFields() {\n        this.lessonResourceForm.get('contentTitle').disable();\n        this.lessonResourceForm.get('contentDescription').disable();\n        this.lessonResourceForm.get('resourceCategory').disable();\n        this.lessonResourceForm.get('contentType').disable();\n        this.lessonResourceForm.get('webSource').disable();\n        //this.disableDropdown = true;\n    }\n\n    enableFormFields() {\n        this.lessonResourceForm.get('contentTitle').enable();\n        this.lessonResourceForm.get('contentDescription').enable();\n        this.lessonResourceForm.get('resourceCategory').enable();\n        this.lessonResourceForm.get('contentType').enable();\n        this.lessonResourceForm.get('webSource').enable();\n        //this.disableDropdown = false;\n    }\n\n    saveAddlResource() {\n        if (this.lessonResourceForm.valid) {\n            let addlResources: IAddlResource[] = [], addlResource: IAddlResource = {};\n            addlResource.content = {};\n            addlResource.lessonId = this.lessonId;\n            addlResource.orderNumber = this.addlResource.length + 1;\n            addlResource.content.title = this.trimValue(this.lessonResourceForm.value.contentTitle);\n            addlResource.content.description = this.trimValue(this.lessonResourceForm.value.contentDescription);\n            addlResource.content.tag = this.selectedCategory.tag;\n            addlResource.content.contentType = this.selectedContentType.tag;\n            if (this.selectedContentType.tag === \"VIDEO\") {\n                addlResource.content.contentSource = \"WEB_URL\";\n                addlResource.content.webUrl = this.trimValue(this.lessonResourceForm.value.webSource);\n            } else if (this.selectedContentType.tag === \"DOCUMENT\") {\n                addlResource.content.contentSource = \"FILE_UPLOAD\";\n                addlResource.content.fileName = this.uploadedFileName;\n                addlResource.content.filePath = this.uploadedFilePath;\n            }\n            addlResources.push(addlResource);\n            this.addlResourceService.saveAddlResource(addlResources).subscribe(\n                (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.onSaveSuccess(res.body),\n                (res: HttpErrorResponse) => this.onSaveError(res.error)\n            )\n        }\n        if (this.lessonResourceForm.invalid) {\n            return\n        }\n    }\n\n    saveOwnAddlResource() {\n        if (this.lessonResourceForm.valid) {\n            let orgGeneralAddlResources: IOrgGeneralAddlResource[] = [], orgGeneralAddlResource: IOrgGeneralAddlResource = {};\n            orgGeneralAddlResource.content = {};\n            orgGeneralAddlResource.lessonId = this.lessonId;\n            orgGeneralAddlResource.organisationId = this.userLoginInfo.organisationId;\n            orgGeneralAddlResource.orderNumber = this.ownAddlResource.length + 1;\n            orgGeneralAddlResource.content.title = this.trimValue(this.lessonResourceForm.value.contentTitle);\n            orgGeneralAddlResource.content.description = this.trimValue(this.lessonResourceForm.value.contentDescription);\n            orgGeneralAddlResource.content.tag = this.selectedCategory.tag;\n            orgGeneralAddlResource.content.contentType = this.selectedContentType.tag;\n            if (this.selectedContentType.tag === \"VIDEO\") {\n                orgGeneralAddlResource.content.contentSource = \"WEB_URL\";\n                orgGeneralAddlResource.content.webUrl = this.trimValue(this.lessonResourceForm.value.webSource);\n            } else if (this.selectedContentType.tag === \"DOCUMENT\") {\n                orgGeneralAddlResource.content.contentSource = \"FILE_UPLOAD\";\n                orgGeneralAddlResource.content.fileName = this.uploadedFileName;\n                orgGeneralAddlResource.content.filePath = this.uploadedFilePath;\n            }\n            orgGeneralAddlResources.push(orgGeneralAddlResource);\n            this.addlResourceService.saveOwnAddlResource(orgGeneralAddlResources).subscribe(\n                (res: HttpResponse<IOrgGeneralAddlResource[]>) => this.onSaveSuccess(res.body),\n                (res: HttpErrorResponse) => this.onSaveError(res.error)\n            )\n        }\n        if (this.lessonResourceForm.invalid) {\n            return\n        }\n    }\n\n    onSaveSuccess(resp: IOrgGeneralAddlResource[]) {\n        this.pluginService.alertMessage(\"Additional Lesson resource added successfully\", \"success\")\n        this.resetFormValues();\n        this.closeLessonResourceModal();\n        this.getAddlResourceList(this.lessonId);\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\n    }\n\n    onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    updateAddlResource() {\n        let contentResource: IContent = {};\n        contentResource = {};\n        contentResource.id = this.contentId;\n        contentResource.title = this.trimValue(this.lessonResourceForm.value.contentTitle);\n        contentResource.description = this.trimValue(this.lessonResourceForm.value.contentDescription);\n        contentResource.tag = this.selectedCategory.tag;\n        contentResource.contentType = this.selectedContentType.tag;\n        if (this.selectedContentType.tag === \"VIDEO\") {\n            contentResource.contentSource = \"WEB_URL\";\n            contentResource.webUrl = this.trimValue(this.lessonResourceForm.value.webSource);\n        } else if (this.selectedContentType.tag === \"DOCUMENT\") {\n            contentResource.contentSource = \"FILE_UPLOAD\";\n            contentResource.fileName = this.uploadedFileName;\n            contentResource.filePath = this.uploadedFilePath;\n        }\n        this.subscribeToUpdateResponse(this.addlResourceService.updateContentSource(contentResource));\n    }\n\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<IContent>>) {\n        result.subscribe((res: HttpResponse<IContent>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onUpdateError(errRes));\n    }\n\n    protected onUpdateSuccess(res: HttpResponse<IContent>) {\n        this.pluginService.alertMessage(\"Additional Lesson resource updated successfully\", \"success\")\n        this.resetFormValues();\n        this.closeLessonResourceModal();\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\n    }\n\n    protected onUpdateError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    checkSelectedContents(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = Number(event.target.title);\n        if (checked === true) {\n            this.tableGenAction = false;\n            this.resourceIds.push(selectedId);\n        } else if (checked === false) {\n            index = this.resourceIds.findIndex(item => item === selectedId);\n            this.resourceIds.splice(index, 1)\n        }\n        this.resourceIds = this.removeDuplicateElements(this.resourceIds);\n        if (this.resourceIds.length <= 0) {\n            this.tableGenAction = true;\n        }\n    }\n\n    checkSelectedOwnContents(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = Number(event.target.title);\n        if (checked === true) {\n            this.tableAction = false;\n            this.ownLessonResourceIds.push(selectedId);\n        } else if (checked === false) {\n            index = this.ownLessonResourceIds.findIndex(item => item === selectedId);\n            this.ownLessonResourceIds.splice(index, 1)\n        }\n        this.ownLessonResourceIds = this.removeDuplicateElements(this.ownLessonResourceIds);\n        if (this.ownLessonResourceIds.length <= 0) {\n            this.tableAction = true;\n        }\n    }\n\n    removeDuplicateElements(array) {\n        var temp = [];\n        for (var i = 0; i < array.length; i++) {\n            if (temp.indexOf(array[i]) == -1) {\n                temp.push(array[i]);\n            }\n        }\n        return temp;\n    }\n\n    resetSelectedAddlResource() {\n        this.resourceIds = [];\n        this.tableGenAction = true;\n        $(\".checkAll\").prop(\"checked\", false);\n    }\n\n    resetSelectedOwnAddlResource() {\n        this.ownLessonResourceIds = [];\n        this.tableAction = true;\n        $(\".checkAllOwnContents\").prop(\"checked\", false);\n    }\n\n    deleteAddlResource() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete additional lesson resources ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.resourceIds.length > 0) {\n                        localthisObject.subscribeToDeleteResponse(localthisObject.addlResourceService.deleteAddlResource(localthisObject.resourceIds));\n                    }\n                }\n            });\n    }\n\n    deleteOwnAddlResource() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete additional lesson resources ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.ownLessonResourceIds.length > 0) {\n                        localthisObject.subscribeToDeleteResponse(localthisObject.addlResourceService.deleteOwnAddlResource(localthisObject.ownLessonResourceIds));\n                    }\n                }\n            });\n\n    }\n\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IOrgGeneralAddlResource>>) {\n        result.subscribe((res: HttpResponse<IOrgGeneralAddlResource>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onDeleteError(errRes));\n    }\n\n    protected onDeleteSuccess(res: HttpResponse<IOrgGeneralAddlResource>) {\n        this.pluginService.alertMessage(\"Topic content deleted successfully\", \"success\");\n        this.tableGenAction = true;\n        this.tableAction = true;\n        this.resourceIds = [];\n        this.ownLessonResourceIds = [];\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\n        this.getAddlResourceList(this.lessonId);\n    }\n\n    protected onDeleteError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not delete, please contact admin\", \"error\")\n    }\n\n    dragTableContent() {\n        let localThisObj = this;\n        var fixHelperModified = function (e, tr) {\n            var $originals = tr.children();\n            var $helper = tr.clone();\n            $helper.children().each(function (index) {\n                $(this).width($originals.eq(index).width());\n            });\n            return $helper;\n        },\n            updateIndex = function (e, ui) {\n                $(\"td.index\", ui.item.parent()).each(function (i) {\n                    $(this).html(i + 1);\n                });\n                localThisObj.updateAddlResourceOrder();\n            };\n\n        $(\"#dragTable #dragBody\")\n            .sortable({\n                helper: fixHelperModified,\n                stop: updateIndex\n            })\n\n        $(\"#dragBody\").sortable({\n            distance: 1,\n            opacity: 0, delay: 10,\n            cursor: \"move\",\n            update: function () { }\n        });\n    }\n\n    ownAddlResourceDragTableContent() {\n        let localThisObj = this;\n        var fixHelperModified = function (e, tr) {\n            var $originals = tr.children();\n            var $helper = tr.clone();\n            $helper.children().each(function (index) {\n                $(this).width($originals.eq(index).width());\n            });\n            return $helper;\n        },\n            updateIndex = function (e, ui) {\n                $(\"td.index\", ui.item.parent()).each(function (i) {\n                    $(this).html(i + 1);\n                });\n                localThisObj.updateOwnAddlResourceOrder();\n            };\n\n        $(\"#ownContentDragTable #ownContentDragBody\")\n            .sortable({\n                helper: fixHelperModified,\n                stop: updateIndex\n            })\n        $(\"#ownContentDragBody\").sortable({\n            distance: 1,\n            opacity: 0, delay: 10,\n            cursor: \"move\",\n            update: function () { }\n        });\n\n    }\n\n    updateAddlResourceOrder() {\n        this.updateGenAction = false;\n        this.checkOrderNumChange = true;\n        var table: HTMLTableElement = document.querySelector('#dragTable');\n        var rows = table.querySelectorAll('tbody tr');\n        Array.from(rows).forEach((row) => {\n            let list = row.querySelectorAll('td');\n            var contentId = Number(list[0].id);\n            var newOrderNum = Number(list[1].textContent);\n            for (let i = 0; i < this.addlResource.length; i++) {\n                if (this.addlResource[i].id === contentId) {\n                    this.addlResource[i].orderNumber = newOrderNum;\n                    break;\n                }\n            }\n            this.sortArrayByOrderNumber(this.addlResource);\n        })\n    }\n\n    updateOwnAddlResourceOrder() {\n        this.updateAction = false;\n        this.checkOrderNumChange = true;\n        var table: HTMLTableElement = document.querySelector('#ownContentDragTable');\n        var rows = table.querySelectorAll('tbody tr')\n        Array.from(rows).forEach((row) => {\n            let list = row.querySelectorAll('td');\n            var contentId = Number(list[0].id);\n            var newOrderNum = Number(list[1].textContent);\n            for (let i = 0; i < this.ownAddlResource.length; i++) {\n                if (this.ownAddlResource[i].id === contentId) {\n                    this.ownAddlResource[i].orderNumber = newOrderNum;\n                    break;\n                }\n            }\n            this.sortArrayByOrderNumber(this.ownAddlResource);\n        })\n    }\n\n    updateAddlResourceWithOrderNumber() {\n        let updatedAddlResource: any[] = [];\n        for (let i = 0; i < this.addlResource.length; i++) {\n            updatedAddlResource.push({\n                id: this.addlResource[i].id,\n                orderNumber: this.addlResource[i].orderNumber\n            })\n        }\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to update order ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.checkOrderNumChange === true) {\n                        localthisObject.subscribeToUpdateAddlResouceResponse(localthisObject.addlResourceService.updateAddlResource(updatedAddlResource));\n                    }\n                }\n            });\n    }\n\n    protected subscribeToUpdateAddlResouceResponse(result: Observable<HttpResponse<IAddlResource[]>>) {\n        result.subscribe((res: HttpResponse<IAddlResource[]>) => this.onUpdateAddlSuccess(res), (errRes: HttpErrorResponse) => this.onUpdateTopicContentError(errRes));\n    }\n\n    protected onUpdateAddlSuccess(res: HttpResponse<IAddlResource[]>) {\n        this.pluginService.alertMessage(\"Additional resource order updated successfully\", \"success\");\n        this.getAddlResourceList(this.lessonId);\n        this.updateGenAction = true;\n        this.resetFormValues();\n    }\n\n    updateOwnAddlResourceWithOrderNumber() {\n        let updatedOwnAddlResource: any[] = [];\n        for (let i = 0; i < this.ownAddlResource.length; i++) {\n            updatedOwnAddlResource.push({\n                id: this.ownAddlResource[i].id,\n                orderNumber: this.ownAddlResource[i].orderNumber\n            })\n        }\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to update order ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.checkOrderNumChange === true) {\n                        localthisObject.subscribeToUpdateOwnAddlResouceResponse(localthisObject.addlResourceService.updateOwnAddlResource(updatedOwnAddlResource));\n                    }\n                }\n            });\n    }\n\n    protected subscribeToUpdateOwnAddlResouceResponse(result: Observable<HttpResponse<IOrgGeneralAddlResource[]>>) {\n        result.subscribe((res: HttpResponse<IOrgGeneralAddlResource[]>) => this.onUpdateOwnAddlSuccess(res), (errRes: HttpErrorResponse) => this.onUpdateTopicContentError(errRes));\n    }\n\n    protected onUpdateOwnAddlSuccess(res: HttpResponse<IOrgGeneralAddlResource[]>) {\n        this.pluginService.alertMessage(\"Additional resource order updated successfully\", \"success\");\n        this.getOrgGeneralAddlResourceByOrganisationId(this.lessonId);\n        this.updateAction = true;\n        this.resetFormValues();\n    }\n\n    protected onUpdateTopicContentError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    toggleTreeNodes() {\n        this.enableExpandNode = !this.enableExpandNode;\n        if (this.enableExpandNode) {\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\n        }\n    }\n\n    closeLessonResourceModalWithOutSaving() {\n        if (this.modalTitleName === \"View\") {\n            this.closeLessonResourceModal();\n        }\n        else if (this.modalTitleName === \"Add\" || this.modalTitleName === \"Edit\") {\n            var localthisObject = this;\n            swal({\n                title: \"Are you sure to close without saving content ?\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonText: \"Yes\",\n                confirmButtonColor: \"#32b432\",\n                cancelButtonText: \"No\",\n                closeOnConfirm: true,\n                closeOnCancel: true\n            },\n                function (isConfirm) {\n                    if (isConfirm === true) {\n                        localthisObject.checkContentType();\n                        localthisObject.closeLessonResourceModal();\n                    } else {\n                        localthisObject.closeLessonResourceModal();\n                    }\n                });\n        }\n    }\n\n    resetLessonResource() {\n        this.lessonResourceForm.reset();\n        this.fileName = \"\";\n        this.uploadedFileName = \"\";\n        this.uploadedFilePath = \"\";\n        this.selectedContentType = null;\n        this.selectedCategory = null;\n    }\n}\n","module.exports = \"<div class=\\\"p-3 alert-warning w-100\\\">\\n    Coming soon ...!\\n</div>\"","import { Component, OnInit } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\nimport { Principal } from '../../core';\nimport { PluginService } from '../../shared/plugin/plugin.service';\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./lesson-plan-manage.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class LessonPlanManageComponent implements OnInit {\n    curriculumList: ICurriculum[] = [];\n\n\n    constructor(\n        public _router: Router,\n        public activatedRoute: ActivatedRoute,\n        protected eventManager: JhiEventManager,\n        protected parseLinks: JhiParseLinks,\n        protected principalService: Principal,\n        public pluginService: PluginService\n    ) {\n    }\n\n    ngOnInit() {\n    }\n\n\n}\n","module.exports = \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\n    <div class=\\\"filtericon font-20\\\">\\n        <i class=\\\"fa fa-filter\\\"></i>\\n    </div>\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n        <div class=\\\"col-lg-3 mb-3\\\">\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\n            </ng-select>\\n        </div>\\n    </div>\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n        <div class=\\\"col-lg-2\\\">\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xxl-3 mb-3 py-3\\\">\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                <span *ngIf=\\\"enableExpandSubjectNode === false\\\">\\n                    Expand all\\n                </span>\\n                <span *ngIf=\\\"enableExpandSubjectNode === true\\\">\\n                    Collapse all\\n                </span>\\n            </div>\\n        </div>\\n        <div id=\\\"treeView\\\"></div>\\n    </div>\\n    <div class=\\\"col-xxl-9 mb-3 py-3\\\">\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\n            <p><b>Subject name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Subject description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n        <div *ngIf=\\\"nodeType === 'unit'\\\">\\n            <p><b>Unit name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Unit description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center\\\">\\n                <div class=\\\"mb-2\\\">\\n                    <h4 class=\\\"font-24 mb-2\\\">{{nodeName}}</h4>\\n                </div>\\n                <div class=\\\"d-flex align-items-start\\\">\\n                    <a class=\\\"btn btn-primary text-white mb-2\\\" (click)=\\\"addNewGeneralTopicMapping()\\\">\\n                        <i class=\\\"fa fa-cog mr-2\\\"></i> Add new general topic\\n                    </a>\\n                </div>\\n            </div>\\n            <div *ngIf=\\\"lessonTopicsList\\\">\\n                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"dragTable\\\">\\n                    <thead>\\n                        <tr>\\n                            <th>Select</th>\\n                            <th>Order number</th>\\n                            <th>General topic name</th>\\n                            <th>New topic name</th>\\n                            <th>Primary applicable grade</th>\\n                            <th>Action</th>\\n                        </tr>\\n                    </thead>\\n                    <tbody id=\\\"dragBody\\\">\\n                        <tr *ngFor=\\\"let lesson of lessonTopicsList;trackBy: trackId;\\\">\\n                            <td data-column=\\\"Select\\\" title=\\\"{{lesson.id}}\\\">\\n                                <div class=\\\"checkbox\\\">\\n                                    <input type=\\\"checkbox\\\" title=\\\"{{lesson.id}}\\\" id=\\\"{{lesson.id}}\\\"\\n                                        (change)=\\\"checkSelectedTopics($event)\\\" class=\\\"checkAll\\\">\\n                                    <label for=\\\"{{lesson.id}}\\\"></label>\\n                                </div>\\n                            </td>\\n                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\n                                {{lesson.orderNumber}}\\n                            </td>\\n                            <td data-column=\\\"General topic name\\\">\\n                                {{lesson.generalTopicName}}\\n                            </td>\\n                            <td data-column=\\\"New topic name\\\">\\n                                {{lesson.topicName}}\\n                            </td>\\n                            <td data-column=\\\"Primary applicable grade\\\">\\n                                {{lesson.grade}}\\n                            </td>\\n                            <td data-column=\\\"Action\\\">\\n                                <a class=\\\"btn btn-outline-success mr-1 mb-1 btn-icon-size\\\"\\n                                    (click)=\\\"editLessonTopic(lesson.id)\\\">\\n                                    <i class=\\\"fa fa-edit\\\"></i>\\n                                </a>\\n                            </td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"lessonTopicsList.length > 0\\\">\\n                    <button class=\\\"btn btn-danger\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"resetSelectedTopic()\\\">\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\n                    </button>\\n                    <button class=\\\"btn btn-danger mx-2\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"deleteLessonTopics()\\\">\\n                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\n                    </button>\\n                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\" (click)=\\\"updateLessonTopics()\\\">\\n                        <i class=\\\"fa fa-save mr-2\\\"></i> Update order\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n\\n<div class=\\\"modal\\\" id=\\\"addNewTopicMappingModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" aria-labelledby=\\\"addNewTopicMappingModal\\\"\\n    aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    Add new general topic mapping - {{nodeName}}\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingTopicMapping()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"col-12 filterbg my-4 rounded\\\">\\n                    <div class=\\\"filtericon font-20\\\">\\n                        <i class=\\\"fa fa-filter\\\"></i>\\n                    </div>\\n                    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n                        <div class=\\\"col-lg-3 mb-3\\\">\\n                            <ng-select [items]=\\\"generalSubjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                                bindLabel=\\\"title\\\" placeholder=\\\"Select general subject\\\"\\n                                [(ngModel)]=\\\"selectedGeneralSubject\\\">\\n                            </ng-select>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n                        <div class=\\\"col-lg-2\\\">\\n                            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\n                                (click)=\\\"loadGeneralSubjectTree()\\\">\\n                                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-xxl-3\\\">\\n                        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"generalSubjectTree.length > 1\\\">\\n                            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleGeneralSubjectTreeNodes()\\\">\\n                                <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === false\\\">\\n                                    Expand all\\n                                </span>\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === true\\\">\\n                                    Collapse all\\n                                </span>\\n                            </div>\\n                        </div>\\n                        <div id=\\\"generalSubjectTreeView\\\"></div>\\n                    </div>\\n                    <div class=\\\"col-xxl-9\\\">\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'root'\\\">\\n                            <p><b>Subject name</b></p>\\n                            <p>{{nodeName}}</p>\\n                            <p><b>Subject description</b></p>\\n                            <p>{{nodeDescription}}</p>\\n                        </div>\\n\\n                        <div *ngIf=\\\"modalNodeType === 'concept'\\\" class=\\\"p-3\\\">\\n                            <div class=\\\"my-2\\\">\\n                                <p><b>Concept name</b> - {{nodeName}}</p>\\n                                <p><b>Concept description - {{nodeDescription}}</b></p>\\n                            </div>\\n                            <div *ngIf=\\\"generalSubTopicsList\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Select</th>\\n                                            <th>Topic name</th>\\n                                            <th>Topic description</th>\\n                                            <th>Primary applicable grade</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let topic of generalSubTopicsList;\\\">\\n                                            <td data-column=\\\"Select\\\">\\n                                                <label for=\\\"{{topic.id}}+123\\\">\\n                                                    <div class=\\\"checkbox\\\">\\n                                                        <input type=\\\"checkbox\\\" name=\\\"{{topic.id}}\\\" id=\\\"{{topic.id}}+123\\\"\\n                                                            (change)=\\\"checkNewlyAddedTopics($event)\\\"\\n                                                            [checked]=\\\"topic.disabled\\\" [disabled]=\\\"topic.disabled\\\">\\n                                                        <label for=\\\"{{topic.id}}+123\\\"></label>\\n                                                    </div>\\n                                                </label>\\n                                            </td>\\n                                            <td data-column=\\\"Topic name\\\">\\n                                                {{topic.data.name}}\\n                                            </td>\\n                                            <td data-column=\\\"Topic description\\\">\\n                                                {{topic.data.description}}\\n                                            </td>\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\n                                                {{topic.data.baseGrade}}\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                            <div class=\\\"d-flex justify-content-end my-2\\\">\\n                                <button class=\\\"btn btn-info\\\" [disabled]=\\\"addToListAction\\\" (click)=\\\"addTopicToList()\\\">\\n                                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add to list\\n                                </button>\\n                            </div>\\n                            <div *ngIf=\\\"selectedGeneralSubTopicsList\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Topic name</th>\\n                                            <th>Topic description</th>\\n                                            <th>Primary applicable grade</th>\\n                                            <th>Action</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let topic of selectedGeneralSubTopicsList;\\\">\\n                                            <td data-column=\\\"Topic name\\\">\\n                                                {{topic.data.name}}\\n                                            </td>\\n                                            <td data-column=\\\"Topic description\\\">\\n                                                {{topic.data.description}}\\n                                            </td>\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\n                                                {{topic.data.baseGrade}}\\n                                            </td>\\n                                            <td data-column=\\\"Action\\\">\\n                                                <div class=\\\"btn btn-outline-danger\\\"\\n                                                    (click)=\\\"removeFromNewTopicList(topic.id)\\\">\\n                                                    <i class=\\\"fa fa-trash\\\"></i>\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'topic'\\\">\\n                            <p><b>Topic name</b></p>\\n                            <p>{{nodeName}}</p>\\n                            <p><b>Topic description</b></p>\\n                            <p>{{nodeDescription}}</p>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeTopicMappingModal()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\n                </div>\\n                <div class=\\\"btn btn-success\\\" (click)=\\\"saveLessonTopicMapping()\\\">\\n                    <i class=\\\"fa fa-save mr-2\\\"></i> Save\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"editLessonTopicModal\\\">\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\" [formGroup]=\\\"lessonTopicForm\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    Edit lesson topic\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingTopicName()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">General topic name</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"generalTopicName\\\" />\\n                </div>\\n                <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">New topic name</label>\\n                    <input type=\\\"text\\\" class=\\\"form-control\\\" formControlName=\\\"newTopicName\\\"\\n                        placeholder=\\\"Enter new topic name (minlength: 3 and maxlength: 75)\\\"\\n                        inputRestriction=\\\"alphabetsNumbersWithMinus\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\" />\\n                    <div class=\\\"text-muted font-15 my-2\\\">\\n                        Allowed characters - Alphabets, Numbers and Special character (-)\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <button class=\\\"btn btn-danger\\\" (click)=\\\"resetEditLessonTopicModal()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i>\\n                    Reset\\n                </button>\\n                <button class=\\\"btn btn-success\\\" (click)=\\\"updateLessonTopicName()\\\" [disabled]=\\\"validateForm\\\">\\n                    <i class=\\\"fa fa-save mr-2\\\"></i>\\n                    Save\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { ISubject } from '../../shared/model/content/subject.model';\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\nimport { IGrade } from '../../shared/model/common/grade.model';\nimport { Principal } from '../../core';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { ILessonTopics } from '../../shared/model/content/lesson-topics.model';\nimport { SubjectService } from '../../subject/subject.service';\nimport { CurriculumService } from '../../curriculum/curriculum.service';\nimport { ACTIVE } from '../../shared/constants/common.constants';\nimport { Observable } from 'rxjs';\nimport { GeneralSubjectService } from '../../general-subject/general-subject.service';\nimport { IGeneralSubject } from '../../shared/model/content/general-subject.model';\nimport { FormBuilder, FormControl, FormGroup, Validators } from '@angular/forms';\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./lesson-topic-manage.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class LessonTopicManageComponent implements OnInit, AfterViewInit {\n    lessonTopicForm: FormGroup;\n    curriculumList: ICurriculum[] = [];\n    gradeList: IGrade[] = [];\n    subjectList: IGrade[] = [];\n    generalSubjectList: any[] = [];\n    subjectTree: ISubject[] = [];\n    generalSubjectTree: IGeneralSubject[] = [];\n    lessonTopicsList: ILessonTopics[] = [];\n    generalSubTopicsList: any[] = [];\n    selectedGeneralSubTopicsList: any[] = [];\n    topicIds: any[] = [];\n    lessonTopicIds: any[] = [];\n    nodeType: string;\n    modalNodeType: string;\n    nodeName: string;\n    nodeDescription: string;\n    lessonId: number;\n    lessonTopicId: number;\n    selectedCurriculum: any;\n    selectedGrade: any;\n    selectedSubject: any;\n    selectedGeneralSubject: any;\n    enableExpandSubjectNode: boolean;\n    enableExpandGSubjectNode: boolean;\n    checkOrderNumChange: boolean;\n    addToListAction: boolean;\n    tableAction: boolean;\n    updateAction: boolean;\n\n    constructor(\n        public _router: Router,\n        public activatedRoute: ActivatedRoute,\n        public curriculumService: CurriculumService,\n        public subjectService: SubjectService,\n        public lessonTopicService: SyllabusLessonTopicService,\n        protected eventManager: JhiEventManager,\n        protected parseLinks: JhiParseLinks,\n        protected principalService: Principal,\n        public pluginService: PluginService,\n        public generalSubjectService: GeneralSubjectService,\n        private formBuilder: FormBuilder\n    ) {\n        this.enableExpandSubjectNode = false;\n        this.enableExpandGSubjectNode = false;\n        this.tableAction = true;\n        this.updateAction = true;\n        this.addToListAction = true;\n    }\n\n    ngOnInit() {\n        this.loadCurriculums();\n        this.loadGeneralSubjectList();\n        this.createLessonTopicForm();\n    }\n\n    createLessonTopicForm() {\n        this.lessonTopicForm = this.formBuilder.group({\n            generalTopicName: new FormControl(\"\"),\n            newTopicName: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(75)])\n        })\n    }\n\n    loadCurriculums() {\n        this.curriculumService.getCurriculumSearch().subscribe(\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignCurriculumList(data: ICurriculum[]) {\n        this.curriculumList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.curriculumList.push(data[i]);\n        }\n    }\n\n    protected onError(errorMessage: string) {\n        this.pluginService.alertMessage(errorMessage, \"error\");\n    }\n\n    ngAfterViewInit() {\n        this.showSyllabusDetails();\n        this.showGeneralSubjectTreeDetails();\n    }\n\n    onCurriculumChange() {\n        let gradesApplicableFrom, gradesApplicableTo;\n        if (this.selectedCurriculum) {\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n        }\n        this.selectedGrade = null;\n        this.selectedSubject = null;\n    }\n\n    onGradeChange() {\n        let curriculumId, gradeId, status;\n        if (this.selectedGrade) {\n            curriculumId = this.selectedCurriculum.id;\n            gradeId = this.selectedGrade.id;\n            status = ACTIVE;\n            this.subjectService\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\n                .subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                );\n        }\n        this.selectedSubject = null;\n    }\n\n    assignSubjectList(data: ISubject[]) {\n        this.subjectList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.subjectList.push(data[i]);\n        }\n    }\n\n    generateGradeList(min, max) {\n        this.gradeList = [];\n        for (var i = min; i <= max; i++) {\n            this.gradeList.push({\n                \"id\": i,\n                \"name\": i\n            });\n        }\n        return this.gradeList;\n    }\n\n    loadSubjectTree() {\n        if (this.selectedSubject) {\n            let subjectId = this.selectedSubject.id;\n            this.subjectTree = [];\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\n            if (subjectId) {\n                this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                )\n            } else {\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\");\n            }\n        }\n    }\n\n    assignSubjectTree(data: ISubject[]) {\n        this.subjectTree = data;\n        this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\n        this.nodeType = \"\";\n        this.enableExpandSubjectNode = false;\n    }\n\n    showSyllabusDetails() {\n        var localThisObj = this;\n        $('#treeView')\n            .on('changed.jstree', function (e, data) {\n                var i, j;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.nodeType = data.node.type;\n                    if (localThisObj.nodeType === \"root\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    }\n                    else if (localThisObj.nodeType === \"unit\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    } else if (localThisObj.nodeType === \"lesson\") {\n                        localThisObj.lessonId = data.node.data.id;\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.objective;\n                        localThisObj.getLessonTopicList(localThisObj.lessonId);\n                    } else {\n\n                    }\n                }\n            })\n    }\n\n    getLessonTopicList(lessonId) {\n        this.lessonTopicService\n            .getLessonTopicListByLessonId(lessonId)\n            .subscribe(\n                (res: HttpResponse<ILessonTopics>) => this.assignLessonTopicsList(res.body),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            );\n    }\n\n    assignLessonTopicsList(data: ILessonTopics) {\n        this.lessonTopicsList = [];\n        this.lessonTopicsList = data.lessonTopics;\n        for (let i = 0; i < this.lessonTopicsList.length; i++) {\n            let topicId = this.lessonTopicsList[i].generalTopicId;\n            let index = i;\n            this.getTopicDetails(topicId, index);\n        }\n        this.sortArrayByOrderNumber(this.lessonTopicsList);\n        this.updateAction = true;\n        this.tableAction = true;\n        this.topicIds = [];\n        this.dragUpdateLessonTopicList();\n    }\n\n    getTopicDetails(topicId, index) {\n        this.lessonTopicService\n            .getTopicDetailsByTopicId(topicId)\n            .subscribe(\n                (res: HttpResponse<ITopicAllDetails>) => this.assignTopicDetailList(res.body, index),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            );\n    }\n\n    assignTopicDetailList(data: ITopicAllDetails, index) {\n        let grade = data.baseGrade;\n        this.lessonTopicsList[index].grade = grade;\n    }\n\n    sortArrayByOrderNumber(array: any[]) {\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\n    }\n\n    toggleTreeNodes() {\n        this.enableExpandSubjectNode = !this.enableExpandSubjectNode;\n        if (this.enableExpandSubjectNode) {\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\n        }\n    }\n\n    checkSelectedTopics(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = Number(event.target.title);\n        if (checked === true) {\n            this.tableAction = false;\n            this.lessonTopicIds.push(selectedId);\n        } else if (checked === false) {\n            index = this.lessonTopicIds.findIndex(item => item === selectedId);\n            this.lessonTopicIds.splice(index, 1)\n        }\n        this.lessonTopicIds = this.removeDuplicateElements(this.lessonTopicIds);\n        if (this.lessonTopicIds.length <= 0) {\n            this.tableAction = true;\n        }\n    }\n\n    removeDuplicateElements(array) {\n        var temp = [];\n        for (var i = 0; i < array.length; i++) {\n            if (temp.indexOf(array[i]) == -1) {\n                temp.push(array[i]);\n            }\n        }\n        return temp;\n    }\n\n    deleteLessonTopics() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete lesson topic mapping ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.lessonTopicIds.length > 0) {\n                        localthisObject.subscribeToDeleteResponse(localthisObject.lessonTopicService.deleteLessonTopicMapping(localthisObject.lessonTopicIds));\n                    }\n                }\n            });\n    }\n\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<ILessonTopics>>) {\n        result.subscribe((res: HttpResponse<ILessonTopics>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onDeleteError(errRes));\n    }\n\n    protected onDeleteSuccess(res: HttpResponse<ILessonTopics>) {\n        this.pluginService.alertMessage(\"Lesson topic deleted successfully\", \"success\");\n        this.tableAction = true;\n        this.lessonTopicIds = [];\n        this.getLessonTopicList(this.lessonId);\n    }\n\n    protected onDeleteError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not delete, please contact admin\", \"error\")\n    }\n\n    resetSelectedTopic() {\n        this.lessonTopicIds = [];\n        this.tableAction = true;\n        $(\".checkAll\").prop(\"checked\", false);\n    }\n\n    updateLessonTopicMapping(lessonTopics: ILessonTopics[]) {\n        this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(lessonTopics))\n\n    }\n\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<ILessonTopics[]>>) {\n        result.subscribe((res: HttpResponse<ILessonTopics[]>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onUpdateError(errRes));\n    }\n\n    protected onUpdateSuccess(res: HttpResponse<ILessonTopics[]>) {\n        this.pluginService.alertMessage(\"Lesson topic mapping updated successfully\", \"success\");\n        this.getLessonTopicList(this.lessonId);\n        this.closeEditLessonTopicModal();\n    }\n\n    protected onUpdateError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not update, please contact admin\", \"error\")\n    }\n\n    dragUpdateLessonTopicList() {\n        let localThisObj = this;\n        var fixHelperModified = function (e, tr) {\n            var $originals = tr.children();\n            var $helper = tr.clone();\n            $helper.children().each(function (index) {\n                $(this).width($originals.eq(index).width());\n            });\n            return $helper;\n        },\n            updateIndex = function (e, ui) {\n                $(\"td.index\", ui.item.parent()).each(function (i) {\n                    $(this).html(i + 1);\n                });\n                localThisObj.updateLessonTopicOrder();\n            };\n        $(\"#dragTable #dragBody\")\n            .sortable({\n                helper: fixHelperModified,\n                stop: updateIndex\n            })\n        $(\"#dragBody\").sortable({\n            distance: 1,\n            opacity: 0, delay: 10,\n            cursor: \"move\",\n            update: function () { }\n        });\n    }\n\n    updateLessonTopicOrder() {\n        this.updateAction = false;\n        this.checkOrderNumChange = true;\n        var table: HTMLTableElement = document.querySelector('#dragTable');\n        var rows = table.querySelectorAll('tbody tr');\n        Array.from(rows).forEach((row) => {\n            let list = row.querySelectorAll('td');\n            var topicMappingId = Number(list[0].title);\n            var newOrderNum = Number(list[1].textContent);\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\n                if (this.lessonTopicsList[i].id === topicMappingId) {\n                    this.lessonTopicsList[i].orderNumber = newOrderNum;\n                    this.lessonTopicsList[i].id = topicMappingId;\n                    break;\n                }\n            }\n            this.sortArrayByOrderNumber(this.lessonTopicsList)\n        })\n    }\n\n    updateLessonTopics() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to update order ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.checkOrderNumChange) {\n                        localthisObject.subscribeToUpdateResponse(localthisObject.lessonTopicService.updateLessonTopicMapping(localthisObject.lessonTopicsList));\n                    }\n                }\n            });\n    }\n\n    addNewGeneralTopicMapping() {\n        this.generalSubTopicsList = [];\n        this.selectedGeneralSubTopicsList = [];\n        this.generalSubjectTree = [];\n        this.selectedGeneralSubject = null;\n        this.modalNodeType = \"\";\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n        this.openTopicMappingModal();\n    }\n\n    loadGeneralSubjectList() {\n        this.generalSubjectService.getSubjectSearchList().subscribe(\n            (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignGeneralSubjectList(data: IGeneralSubject[]) {\n        this.generalSubjectList = data;\n    }\n\n    loadGeneralSubjectTree() {\n        this.generalSubjectTree = [];\n        this.modalNodeType = \"\";\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n        if (this.selectedGeneralSubject) {\n            let generalSubjectId = this.selectedGeneralSubject.id;\n            this.generalSubjectService.getSubjectTreeBySubjectId(generalSubjectId).subscribe(\n                (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectTree(res.body),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            )\n        }\n    }\n\n    assignGeneralSubjectTree(data: IGeneralSubject[]) {\n        this.generalSubjectTree = data;\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n        this.enableExpandGSubjectNode = false;\n    }\n\n    showGeneralSubjectTreeDetails() {\n        var localThisObj = this;\n        $('#generalSubjectTreeView')\n            .on('changed.jstree', function (e, data) {\n                var i, j, conceptId: string;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.modalNodeType = data.node.type;\n                    if (localThisObj.modalNodeType === \"root\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    }\n                    else if (localThisObj.modalNodeType === \"concept\") {\n                        conceptId = data.node.id;\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                        localThisObj.topicIds = [];\n                        this.addToListAction = true;\n                        localThisObj.getTopicsList(conceptId);\n                    } else if (localThisObj.modalNodeType === \"topic\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    } else {\n                    }\n                }\n            })\n    }\n\n    getTopicsList(conceptId) {\n        let conceptChildrenList: any[];\n        conceptChildrenList = this.generalSubjectTree.filter(item => item.parent === conceptId);\n        this.generalSubTopicsList = conceptChildrenList.filter(item => item.type === 'topic');\n        this.disablePreSelectedTopics();\n    }\n\n    disablePreSelectedTopics() {\n        if (this.lessonTopicsList.length > 0) {\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\n                for (let j = 0; j < this.generalSubTopicsList.length; j++) {\n                    if (this.lessonTopicsList[i].generalTopicId === this.generalSubTopicsList[j].data.id) {\n                        this.generalSubTopicsList[j].disabled = true;\n                    }\n                }\n            }\n        }\n    }\n\n    checkNewlyAddedTopics(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = event.target.name;\n        if (checked === true) {\n            this.topicIds.push(selectedId);\n            this.addToListAction = false;\n        } else if (checked === false) {\n            index = this.topicIds.findIndex(item => item === selectedId);\n            this.topicIds.splice(index, 1)\n        }\n        this.topicIds = this.removeDuplicateElements(this.topicIds);\n    }\n\n    addTopicToList() {\n        for (let i = 0; i < this.topicIds.length; i++) {\n            this.selectedGeneralSubTopicsList.push(this.generalSubTopicsList.find(item => item.id === this.topicIds[i]));\n        }\n        this.selectedGeneralSubTopicsList = this.removeDuplicateElements(this.selectedGeneralSubTopicsList);\n        this.addToListAction = true;\n    }\n\n    removeFromNewTopicList(id) {\n        var topicIndex;\n        if (this.selectedGeneralSubTopicsList.length > 0) {\n            topicIndex = this.selectedGeneralSubTopicsList.findIndex(item => item.id === id);\n            this.selectedGeneralSubTopicsList.splice(topicIndex, 1);\n        } else {\n            this.selectedGeneralSubTopicsList = [];\n        }\n    }\n\n    toggleGeneralSubjectTreeNodes() {\n        this.enableExpandGSubjectNode = !this.enableExpandGSubjectNode;\n        if (this.enableExpandGSubjectNode) {\n            this.pluginService.openJsTreeAllNodes(\"#generalSubjectTreeView\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#generalSubjectTreeView\")\n        }\n    }\n\n    saveLessonTopicMapping() {\n        let newLessonTopicsList: ILessonTopics[] = [];\n        for (let i = 0; i < this.selectedGeneralSubTopicsList.length; i++) {\n            newLessonTopicsList.push({\n                generalTopicId: this.selectedGeneralSubTopicsList[i].data.id,\n                topicName: this.selectedGeneralSubTopicsList[i].data.name,\n                generalTopicName: this.selectedGeneralSubTopicsList[i].data.name,\n                lessonId: this.lessonId,\n                orderNumber: this.lessonTopicsList.length + i + 1\n            })\n        }\n        if (newLessonTopicsList.length > 0) {\n            this.subscribeToSaveResponse(this.lessonTopicService.saveLessonTopicMapping(newLessonTopicsList))\n        }\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<ILessonTopics[]>>) {\n        result.subscribe((res: HttpResponse<ILessonTopics[]>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    protected onSaveSuccess(res: HttpResponse<ILessonTopics[]>) {\n        this.pluginService.alertMessage(\"Lesson topic mapped successfully\", \"success\");\n        this.closeTopicMappingModal();\n        this.getLessonTopicList(this.lessonId);\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n    }\n\n    protected onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    trimValue(value) {\n        if (value === null || value === undefined) {\n            return value;\n        } else {\n            return value.trim();\n        }\n    }\n\n    editLessonTopic(lessonTopicId) {\n        let lessonTopic = this.lessonTopicsList.filter(item => item.id === lessonTopicId)[0];\n        this.lessonTopicId = lessonTopicId;\n        this.lessonTopicForm.setValue({\n            generalTopicName: lessonTopic.generalTopicName,\n            newTopicName: lessonTopic.topicName\n        })\n        this.lessonTopicForm.get('generalTopicName').disable();\n        this.openEditLessonTopicModal();\n    }\n\n    closeWithOutSavingTopicMapping() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to close without saving ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    localthisObject.closeTopicMappingModal();\n                }\n            });\n    }\n\n    openEditLessonTopicModal() {\n        this.pluginService.showModalWindow(\"#editLessonTopicModal\")\n    }\n\n    closeEditLessonTopicModal() {\n        this.pluginService.hideModalWindow(\"#editLessonTopicModal\")\n    }\n\n    closeWithOutSavingTopicName() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to close without saving ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    localthisObject.closeEditLessonTopicModal();\n                }\n            });\n    }\n\n    updateLessonTopicName() {\n        let lessonTopic: ILessonTopics = {}, lessonTopics: any[] = [];\n        lessonTopic = this.lessonTopicsList.filter(item => item.id === this.lessonTopicId)[0];\n        lessonTopic.topicName = this.trimValue(this.lessonTopicForm.get('newTopicName').value);\n        lessonTopics.push(lessonTopic);\n        this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(lessonTopics));\n    }\n\n    protected onUpdateLessonTopicError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not update, please contact admin\", \"error\")\n    }\n\n    resetEditLessonTopicModal() {\n        let lessonTopic = this.lessonTopicsList.filter(item => item.id === this.lessonTopicId)[0];\n        this.lessonTopicForm.setValue({\n            generalTopicName: lessonTopic.generalTopicName,\n            newTopicName: lessonTopic.topicName\n        })\n        this.lessonTopicForm.get('generalTopicName').disable();\n    }\n\n    openTopicMappingModal() {\n        this.pluginService.showModalWindow(\"#addNewTopicMappingModal\");\n    }\n\n    closeTopicMappingModal() {\n        this.pluginService.hideModalWindow(\"#addNewTopicMappingModal\");\n    }\n}\n","module.exports = \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\n    <div class=\\\"filtericon font-20\\\">\\n        <i class=\\\"fa fa-filter\\\"></i>\\n    </div>\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n        <div class=\\\"col-lg-3 mb-3\\\">\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\">\\n            </ng-select>\\n        </div>\\n    </div>\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n        <div class=\\\"col-lg-2\\\">\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"loadSubjectTree()\\\">\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xxl-3 mb-3 py-3\\\">\\n        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\n            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n                <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                <span *ngIf=\\\"enableExpandSubjectNode === false\\\">\\n                    Expand all\\n                </span>\\n                <span *ngIf=\\\"enableExpandSubjectNode === true\\\">\\n                    Collapse all\\n                </span>\\n            </div>\\n        </div>\\n        <div id=\\\"treeView\\\"></div>\\n    </div>\\n    <div class=\\\"col-xxl-9 mb-3 py-3\\\">\\n\\n        <div *ngIf=\\\"nodeType === 'root'\\\">\\n            <p><b>Subject name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Subject description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n\\n        <div *ngIf=\\\"nodeType === 'unit'\\\">\\n            <p><b>Unit name</b></p>\\n            <p>{{nodeName}}</p>\\n            <p><b>Unit description</b></p>\\n            <p>{{nodeDescription}}</p>\\n        </div>\\n\\n        <div *ngIf=\\\"nodeType === 'lesson'\\\">\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center\\\">\\n                <div class=\\\"mb-2\\\">\\n                    <h4 class=\\\"font-24 mb-2\\\">{{nodeName}}</h4>\\n                </div>\\n                <div class=\\\"d-flex align-items-start\\\">\\n                    <a class=\\\"btn btn-primary text-white mb-2\\\" (click)=\\\"addNewGeneralTopicMapping()\\\">\\n                        <i class=\\\"fa fa-cog mr-2\\\"></i> Add new general topic\\n                    </a>\\n                </div>\\n            </div>\\n            <div *ngIf=\\\"lessonTopicsList\\\">\\n                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\" id=\\\"dragTable\\\">\\n                    <thead>\\n                        <tr>\\n                            <th>Select</th>\\n                            <th>Order number</th>\\n                            <th>Topic name</th>\\n                            <th>Primary applicable grade</th>\\n                        </tr>\\n                    </thead>\\n                    <tbody id=\\\"dragBody\\\">\\n                        <tr *ngFor=\\\"let lesson of lessonTopicsList;trackBy: trackId;\\\">\\n                            <td data-column=\\\"Select\\\" title=\\\"{{lesson.id}}\\\">\\n                                <div class=\\\"checkbox\\\">\\n                                    <input type=\\\"checkbox\\\" title=\\\"{{lesson.id}}\\\" id=\\\"{{lesson.id}}\\\"\\n                                        (change)=\\\"checkSelectedTopics($event)\\\" class=\\\"checkAll\\\">\\n                                    <label for=\\\"{{lesson.id}}\\\"></label>\\n                                </div>\\n                            </td>\\n                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\n                                {{lesson.orderNumber}}\\n                            </td>\\n                            <td data-column=\\\"Topic name\\\">\\n                                {{lesson.displayName}}\\n                            </td>\\n                            <td data-column=\\\"Primary applicable grade\\\">\\n                                {{lesson.grade}}\\n                            </td>\\n                        </tr>\\n                    </tbody>\\n                </table>\\n                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"lessonTopicsList.length > 0\\\">\\n                    <button class=\\\"btn btn-danger\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"resetSelectedTopic()\\\">\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\n                    </button>\\n                    <button class=\\\"btn btn-danger mx-2\\\" [disabled]=\\\"tableAction\\\" (click)=\\\"deleteLessonTopics()\\\">\\n                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\n                    </button>\\n                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\" (click)=\\\"updateLessonTopics()\\\">\\n                        <i class=\\\"fa fa-save mr-2\\\"></i> Update order\\n                    </button>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal\\\" id=\\\"addNewPrereqTopicMappingModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\"\\n    aria-labelledby=\\\"addNewPrereqTopicMappingModal\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    Add new prerequisite topic mapping - {{nodeName}}\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeWithOutSavingTopicMapping()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"col-12 filterbg my-4 rounded\\\">\\n                    <div class=\\\"filtericon font-20\\\">\\n                        <i class=\\\"fa fa-filter\\\"></i>\\n                    </div>\\n                    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n                        <div class=\\\"col-lg-3 mb-3\\\">\\n                            <ng-select [items]=\\\"generalSubjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                                bindLabel=\\\"title\\\" placeholder=\\\"Select general subject\\\"\\n                                [(ngModel)]=\\\"selectedGeneralSubject\\\">\\n                            </ng-select>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n                        <div class=\\\"col-lg-2\\\">\\n                            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\n                                (click)=\\\"loadGeneralSubjectTree()\\\">\\n                                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n                            </button>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row\\\">\\n                    <div class=\\\"col-xxl-3\\\">\\n                        <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"generalSubjectTree.length > 1\\\">\\n                            <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleGeneralSubjectTreeNodes()\\\">\\n                                <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === false\\\">\\n                                    Expand all\\n                                </span>\\n                                <span *ngIf=\\\"enableExpandGSubjectNode === true\\\">\\n                                    Collapse all\\n                                </span>\\n                            </div>\\n                        </div>\\n                        <div id=\\\"generalSubjectTreeView\\\"></div>\\n                    </div>\\n                    <div class=\\\"col-xxl-9\\\">\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'root'\\\">\\n                            <p><b>Subject name</b></p>\\n                            <p>{{nodeName}}</p>\\n                            <p><b>Subject description</b></p>\\n                            <p>{{nodeDescription}}</p>\\n                        </div>\\n\\n                        <div *ngIf=\\\"modalNodeType === 'concept'\\\" class=\\\"p-3\\\">\\n                            <div class=\\\"my-2\\\">\\n                                <p><b>Concept name</b> - {{nodeName}}</p>\\n                                <p><b>Concept description - {{nodeDescription}}</b></p>\\n                            </div>\\n                            <div *ngIf=\\\"generalSubTopicsList\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Select</th>\\n                                            <th>Topic name</th>\\n                                            <th>Topic description</th>\\n                                            <th>Primary applicable grade</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let topic of generalSubTopicsList;\\\">\\n                                            <td data-column=\\\"Select\\\">\\n                                                <label for=\\\"{{topic.id}}+123\\\">\\n                                                    <div class=\\\"checkbox\\\">\\n                                                        <input type=\\\"checkbox\\\" name=\\\"{{topic.id}}\\\" id=\\\"{{topic.id}}+123\\\"\\n                                                            (change)=\\\"checkNewlyAddedTopics($event)\\\"\\n                                                            [checked]=\\\"topic.disabled\\\" [disabled]=\\\"topic.disabled\\\">\\n                                                        <label for=\\\"{{topic.id}}+123\\\"></label>\\n                                                    </div>\\n                                                </label>\\n                                            </td>\\n                                            <td data-column=\\\"Topic name\\\">\\n                                                {{topic.data.name}}\\n                                            </td>\\n                                            <td data-column=\\\"Topic description\\\">\\n                                                {{topic.data.description}}\\n                                            </td>\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\n                                                {{topic.data.baseGrade}}\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                            <div class=\\\"d-flex justify-content-end my-2\\\">\\n                                <button [disabled]=\\\"addToListAction\\\" class=\\\"btn btn-info\\\" (click)=\\\"addTopicToList()\\\">\\n                                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add to list\\n                                </button>\\n                            </div>\\n                            <div *ngIf=\\\"selectedGeneralSubTopicsList\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Topic name</th>\\n                                            <th>Topic description</th>\\n                                            <th>Primary applicable grade</th>\\n                                            <th>Action</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let topic of selectedGeneralSubTopicsList;\\\">\\n                                            <td data-column=\\\"Topic name\\\">\\n                                                {{topic.data.name}}\\n                                            </td>\\n                                            <td data-column=\\\"Topic description\\\">\\n                                                {{topic.data.description}}\\n                                            </td>\\n                                            <td data-column=\\\"Primary applicable grade\\\">\\n                                                {{topic.data.baseGrade}}\\n                                            </td>\\n                                            <td data-column=\\\"Action\\\">\\n                                                <div class=\\\"btn btn-outline-danger\\\"\\n                                                    (click)=\\\"removeFromNewTopicList(topic.id)\\\">\\n                                                    <i class=\\\"fa fa-trash\\\"></i>\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                        </div>\\n\\n                        <div class=\\\"p-3\\\" *ngIf=\\\"modalNodeType === 'topic'\\\">\\n                            <p><b>Topic name</b></p>\\n                            <p>{{nodeName}}</p>\\n                            <p><b>Topic description</b></p>\\n                            <p>{{nodeDescription}}</p>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeTopicMappingModal()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\n                </div>\\n                <div class=\\\"btn btn-success\\\" (click)=\\\"saveLessonTopicMapping()\\\">\\n                    <i class=\\\"fa fa-save mr-2\\\"></i> Save\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, OnDestroy, AfterViewInit } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { HttpResponse, HttpErrorResponse, HttpHeaders } from '@angular/common/http';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { ISubject } from '../../shared/model/content/subject.model';\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\nimport { IGrade } from '../../shared/model/common/grade.model';\nimport { Principal } from '../../core';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { IPrerequisiteLessonTopics } from '../../shared/model/content/prerequisite-lesson-topics.model';\nimport { CurriculumService } from '../../curriculum/curriculum.service';\nimport { SubjectService } from '../../subject/subject.service';\nimport { ACTIVE } from '../../shared/constants/common.constants';\nimport { Observable } from 'rxjs';\nimport { IGeneralSubject } from '../../shared/model/content/general-subject.model';\nimport { GeneralSubjectService } from '../../general-subject/general-subject.service';\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./prerequisite-lesson-topic-manage.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class PrerequisiteLessonTopicManageComponent implements OnInit, AfterViewInit {\n    curriculumList: ICurriculum[] = [];\n    gradeList: IGrade[] = [];\n    subjectList: any[] = [];\n    generalSubjectList: any[] = [];\n    subjectTree: ISubject[] = [];\n    generalSubjectTree: IGeneralSubject[] = [];\n    lessonTopicsList: IPrerequisiteLessonTopics[] = [];\n    generalSubTopicsList: any[] = [];\n    selectedGeneralSubTopicsList: any[] = [];\n    topicIds: any[] = [];\n    lessonTopicIds: any[] = [];\n    nodeType: string;\n    modalNodeType: string;\n    nodeName: string;\n    nodeDescription: string;\n    lessonId: number;\n    lessonTopicId: number;\n    selectedCurriculum: any;\n    selectedGrade: any;\n    selectedSubject: any;\n    selectedGeneralSubject: any;\n    enableExpandSubjectNode: boolean;\n    enableExpandGSubjectNode: boolean;\n    checkOrderNumChange: boolean;\n    addToListAction: boolean;\n    tableAction: boolean;\n    updateAction: boolean;\n\n    constructor(\n        public _router: Router,\n        public activatedRoute: ActivatedRoute,\n        public curriculumService: CurriculumService,\n        public subjectService: SubjectService,\n        public lessonTopicService: SyllabusLessonTopicService,\n        protected eventManager: JhiEventManager,\n        protected parseLinks: JhiParseLinks,\n        protected principalService: Principal,\n        public generalSubjectService: GeneralSubjectService,\n        public pluginService: PluginService\n    ) {\n        this.enableExpandSubjectNode = false;\n        this.enableExpandGSubjectNode = false;\n        this.addToListAction = true;\n        this.tableAction = true;\n        this.updateAction = true;\n    }\n\n    ngOnInit() {\n        this.loadCurriculums();\n        this.loadGeneralSubjectList();\n    }\n\n    loadCurriculums() {\n        this.curriculumService.getCurriculumSearch().subscribe(\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignCurriculumList(data: ICurriculum[]) {\n        this.curriculumList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.curriculumList.push(data[i]);\n        }\n    }\n\n    protected onError(errorMessage: string) {\n        this.pluginService.alertMessage(errorMessage, \"error\");\n    }\n\n    ngAfterViewInit() {\n        this.showSyllabusDetails();\n        this.showGeneralSubjectTreeDetails();\n    }\n\n    onCurriculumChange() {\n        let gradesApplicableFrom, gradesApplicableTo;\n        if (this.selectedCurriculum) {\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n        }\n        this.selectedGrade = null;\n        this.selectedSubject = null;\n    }\n\n    onGradeChange() {\n        let curriculumId, gradeId, status;\n        if (this.selectedGrade) {\n            curriculumId = this.selectedCurriculum.id;\n            gradeId = this.selectedGrade.id;\n            status = ACTIVE;\n            this.subjectService\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\n                .subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                );\n        }\n        this.selectedSubject = null;\n    }\n\n    assignSubjectList(data: ISubject[]) {\n        this.subjectList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.subjectList.push(data[i]);\n        }\n    }\n\n    generateGradeList(min, max) {\n        this.gradeList = [];\n        for (var i = min; i <= max; i++) {\n            this.gradeList.push({\n                \"id\": i,\n                \"name\": i\n            });\n        }\n        return this.gradeList;\n    }\n\n    loadSubjectTree() {\n        if (this.selectedSubject) {\n            let subjectId = this.selectedSubject.id;\n            this.subjectTree = [];\n            this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\n            if (subjectId) {\n                this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                )\n            } else {\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\n            }\n        }\n    }\n\n    assignSubjectTree(data: ISubject[]) {\n        this.subjectTree = data;\n        this.pluginService.jsTree(\"#treeView\", this.subjectTree, false);\n        this.enableExpandSubjectNode = false;\n    }\n\n    showSyllabusDetails() {\n        var localThisObj = this;\n        $('#treeView')\n            .on('changed.jstree', function (e, data) {\n                var i, j;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.nodeType = data.node.type;\n                    if (localThisObj.nodeType === \"root\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    }\n                    else if (localThisObj.nodeType === \"unit\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    } else if (localThisObj.nodeType === \"lesson\") {\n                        localThisObj.lessonId = data.node.data.id;\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.objective;\n                        localThisObj.getLessonTopicList(localThisObj.lessonId);\n                    } else {\n\n                    }\n                }\n            })\n    }\n\n    getLessonTopicList(lessonId) {\n        this.lessonTopicService\n            .getLessonTopicListByLessonId(lessonId)\n            .subscribe(\n                (res: HttpResponse<IPrerequisiteLessonTopics>) => this.assignLessonTopicsList(res.body),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            );\n    }\n\n    assignLessonTopicsList(data: IPrerequisiteLessonTopics) {\n        this.lessonTopicsList = [];\n        this.lessonTopicsList = data.lessonPreReqTopics;\n        for (let i = 0; i < this.lessonTopicsList.length; i++) {\n            let topicId = this.lessonTopicsList[i].topicId;\n            let index = i;\n            this.getTopicDetails(topicId, index);\n        }\n        this.sortArrayByOrderNumber(this.lessonTopicsList);\n        this.dragUpdateLessonTopicList();\n        this.tableAction = true;\n        this.updateAction = true;\n        this.topicIds = [];\n    }\n\n    getTopicDetails(topicId, index) {\n        this.lessonTopicService\n            .getTopicDetailsByTopicId(topicId)\n            .subscribe(\n                (res: HttpResponse<ITopicAllDetails>) => this.assignTopicDetailList(res.body, index),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            );\n    }\n\n    assignTopicDetailList(data: ITopicAllDetails, index) {\n        let grade = data.baseGrade;\n        this.lessonTopicsList[index].grade = grade;\n    }\n\n\n    sortArrayByOrderNumber(array: any[]) {\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\n    }\n\n    toggleTreeNodes() {\n        this.enableExpandSubjectNode = !this.enableExpandSubjectNode;\n        if (this.enableExpandSubjectNode) {\n            this.pluginService.openJsTreeAllNodes(\"#treeView\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#treeView\")\n        }\n    }\n\n    checkSelectedTopics(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = Number(event.target.title);\n        if (checked === true) {\n            this.tableAction = false;\n            this.lessonTopicIds.push(selectedId);\n        } else if (checked === false) {\n            index = this.lessonTopicIds.findIndex(item => item === selectedId);\n            this.lessonTopicIds.splice(index, 1)\n        }\n        this.lessonTopicIds = this.removeDuplicateElements(this.lessonTopicIds);\n        if (this.lessonTopicIds.length <= 0) {\n            this.tableAction = true;\n        }\n    }\n\n    removeDuplicateElements(array) {\n        var temp = [];\n        for (var i = 0; i < array.length; i++) {\n            if (temp.indexOf(array[i]) == -1) {\n                temp.push(array[i]);\n            }\n        }\n        return temp;\n    }\n\n    deleteLessonTopics() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete lesson topic mapping ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.lessonTopicIds.length > 0) {\n                        localthisObject.subscribeToDeleteResponse(localthisObject.lessonTopicService.deletePrerequisiteLessonTopicMapping(localthisObject.lessonTopicIds));\n                    }\n                }\n            });\n    }\n\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IPrerequisiteLessonTopics>>) {\n        result.subscribe((res: HttpResponse<IPrerequisiteLessonTopics>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onDeleteError(errRes));\n    }\n\n    protected onDeleteSuccess(res: HttpResponse<IPrerequisiteLessonTopics>) {\n        this.pluginService.alertMessage(\"Lesson topic deleted successfully\", \"success\");\n        this.tableAction = true;\n        this.lessonTopicIds = [];\n        this.getLessonTopicList(this.lessonId);\n    }\n\n    protected onDeleteError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not delete, please contact admin\", \"error\")\n    }\n\n    resetSelectedTopic() {\n        this.lessonTopicIds = [];\n        this.tableAction = true;\n        $(\".checkAll\").prop(\"checked\", false);\n    }\n\n    updateLessonTopicMapping(lessonTopics: IPrerequisiteLessonTopics[]) {\n        this.subscribeToUpdateResponse(this.lessonTopicService.updateLessonTopicMapping(lessonTopics))\n\n    }\n\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<IPrerequisiteLessonTopics[]>>) {\n        result.subscribe((res: HttpResponse<IPrerequisiteLessonTopics[]>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onUpdateError(errRes));\n    }\n\n    protected onUpdateSuccess(res: HttpResponse<IPrerequisiteLessonTopics[]>) {\n        this.pluginService.alertMessage(\"Lesson topic mapping updated successfully\", \"success\");\n        this.getLessonTopicList(this.lessonId);\n    }\n\n    protected onUpdateError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not update, please contact admin\", \"error\")\n    }\n\n    dragUpdateLessonTopicList() {\n        let localThisObj = this;\n        var fixHelperModified = function (e, tr) {\n            var $originals = tr.children();\n            var $helper = tr.clone();\n            $helper.children().each(function (index) {\n                $(this).width($originals.eq(index).width());\n            });\n            return $helper;\n        },\n            updateIndex = function (e, ui) {\n                $(\"td.index\", ui.item.parent()).each(function (i) {\n                    $(this).html(i + 1);\n                });\n                localThisObj.updateLessonTopicOrder();\n            };\n        $(\"#dragTable #dragBody\")\n            .sortable({\n                helper: fixHelperModified,\n                stop: updateIndex\n            })\n        $(\"#dragBody\").sortable({\n            distance: 1,\n            opacity: 0, delay: 10,\n            cursor: \"move\",\n            update: function () { }\n        });\n    }\n\n    updateLessonTopicOrder() {\n        this.updateAction = false;\n        this.checkOrderNumChange = true;\n        var table: HTMLTableElement = document.querySelector('#dragTable');\n        var rows = table.querySelectorAll('tbody tr');\n        Array.from(rows).forEach((row) => {\n            let list = row.querySelectorAll('td');\n            var topicMappingId = Number(list[0].title);\n            var newOrderNum = Number(list[1].textContent);\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\n                if (this.lessonTopicsList[i].id === topicMappingId) {\n                    this.lessonTopicsList[i].orderNumber = newOrderNum;\n                    this.lessonTopicsList[i].id = topicMappingId;\n                    break;\n                }\n            }\n            this.sortArrayByOrderNumber(this.lessonTopicsList)\n        })\n    }\n\n    updateLessonTopics() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to update order ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.checkOrderNumChange) {\n                        localthisObject.subscribeToUpdateResponse(localthisObject.lessonTopicService.updatePrerequisiteLessonTopicMapping(localthisObject.lessonTopicsList));\n                    }\n                }\n            });\n    }\n\n    addNewGeneralTopicMapping() {\n        this.generalSubTopicsList = [];\n        this.selectedGeneralSubTopicsList = [];\n        this.generalSubjectTree = [];\n        this.selectedGeneralSubject = null;\n        this.modalNodeType = \"\";\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n        this.openTopicMappingModal();\n    }\n\n    loadGeneralSubjectList() {\n        this.generalSubjectService.getSubjectSearchList().subscribe(\n            (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignGeneralSubjectList(data: IGeneralSubject[]) {\n        this.generalSubjectList = data;\n    }\n\n    loadGeneralSubjectTree() {\n        this.generalSubjectTree = [];\n        this.modalNodeType = \"\";\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n        if (this.selectedGeneralSubject) {\n            let generalSubjectId = this.selectedGeneralSubject.id;\n            this.generalSubjectService.getSubjectTreeBySubjectId(generalSubjectId).subscribe(\n                (res: HttpResponse<IGeneralSubject[]>) => this.assignGeneralSubjectTree(res.body),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            )\n        }\n    }\n\n    assignGeneralSubjectTree(data: IGeneralSubject[]) {\n        this.generalSubjectTree = data;\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n        this.enableExpandGSubjectNode = false;\n    }\n\n    showGeneralSubjectTreeDetails() {\n        var localThisObj = this;\n        $('#generalSubjectTreeView')\n            .on('changed.jstree', function (e, data) {\n                var i, j, conceptId: string;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.modalNodeType = data.node.type;\n                    if (localThisObj.modalNodeType === \"root\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    }\n                    else if (localThisObj.modalNodeType === \"concept\") {\n                        conceptId = data.node.id;\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                        localThisObj.topicIds = [];\n                        localThisObj.getTopicsList(conceptId);\n                    } else if (localThisObj.modalNodeType === \"topic\") {\n                        localThisObj.nodeName = data.node.data.name;\n                        localThisObj.nodeDescription = data.node.data.description;\n                    } else {\n                    }\n                }\n            })\n    }\n\n    getTopicsList(conceptId) {\n        let conceptChildrenList: any[];\n        conceptChildrenList = this.generalSubjectTree.filter(item => item.parent === conceptId);\n        this.generalSubTopicsList = conceptChildrenList.filter(item => item.type === 'topic');\n        this.disablePreSelectedTopics();\n        this.addToListAction = true;\n    }\n\n    disablePreSelectedTopics() {\n        if (this.lessonTopicsList.length > 0) {\n            for (let i = 0; i < this.lessonTopicsList.length; i++) {\n                for (let j = 0; j < this.generalSubTopicsList.length; j++) {\n                    if (this.lessonTopicsList[i].topicId === this.generalSubTopicsList[j].data.id) {\n                        this.generalSubTopicsList[j].disabled = true;\n                    }\n                }\n            }\n        }\n    }\n\n    checkNewlyAddedTopics(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = event.target.name;\n        if (checked === true) {\n            this.topicIds.push(selectedId);\n            this.addToListAction = false;\n        } else if (checked === false) {\n            index = this.topicIds.findIndex(item => item === selectedId);\n            this.topicIds.splice(index, 1)\n        }\n        this.topicIds = this.removeDuplicateElements(this.topicIds);\n    }\n\n    addTopicToList() {\n        for (let i = 0; i < this.topicIds.length; i++) {\n            this.selectedGeneralSubTopicsList.push(this.generalSubTopicsList.find(item => item.id === this.topicIds[i]));\n        }\n        this.selectedGeneralSubTopicsList = this.removeDuplicateElements(this.selectedGeneralSubTopicsList);\n        this.addToListAction = true;\n    }\n\n    removeFromNewTopicList(id) {\n        var topicIndex;\n        if (this.selectedGeneralSubTopicsList.length > 0) {\n            topicIndex = this.selectedGeneralSubTopicsList.findIndex(item => item.id === id);\n            this.selectedGeneralSubTopicsList.splice(topicIndex, 1);\n        } else {\n            this.selectedGeneralSubTopicsList = [];\n        }\n    }\n\n    toggleGeneralSubjectTreeNodes() {\n        this.enableExpandGSubjectNode = !this.enableExpandGSubjectNode;\n        if (this.enableExpandGSubjectNode) {\n            this.pluginService.openJsTreeAllNodes(\"#generalSubjectTreeView\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#generalSubjectTreeView\")\n        }\n    }\n\n    saveLessonTopicMapping() {\n        let newLessonTopicsList: IPrerequisiteLessonTopics[] = [];\n        for (let i = 0; i < this.selectedGeneralSubTopicsList.length; i++) {\n            newLessonTopicsList.push({\n                topicId: this.selectedGeneralSubTopicsList[i].data.id,\n                displayName: this.selectedGeneralSubTopicsList[i].data.name,\n                lessonId: this.lessonId,\n                orderNumber: this.lessonTopicsList.length + i + 1\n            })\n        }\n        if (newLessonTopicsList.length > 0) {\n            this.subscribeToSaveResponse(this.lessonTopicService.savePrerequisiteLessonTopicMapping(newLessonTopicsList))\n        }\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IPrerequisiteLessonTopics[]>>) {\n        result.subscribe((res: HttpResponse<IPrerequisiteLessonTopics[]>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    protected onSaveSuccess(res: HttpResponse<IPrerequisiteLessonTopics[]>) {\n        this.pluginService.alertMessage(\"Lesson topic mapped successfully\", \"success\");\n        this.closeTopicMappingModal();\n        this.getLessonTopicList(this.lessonId);\n        this.pluginService.jsTree(\"#generalSubjectTreeView\", this.generalSubjectTree, false);\n    }\n\n    protected onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    openTopicMappingModal() {\n        this.pluginService.showModalWindow(\"#addNewPrereqTopicMappingModal\");\n    }\n\n    closeTopicMappingModal() {\n        this.pluginService.hideModalWindow(\"#addNewPrereqTopicMappingModal\");\n    }\n\n    closeWithOutSavingTopicMapping() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to close without saving ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    localthisObject.closeTopicMappingModal();\n                }\n            });\n    }\n}\n","import { NgModule, CUSTOM_ELEMENTS_SCHEMA } from '@angular/core';\nimport { RouterModule } from '@angular/router';\nimport { NgbModule } from '@ng-bootstrap/ng-bootstrap';\nimport { InfiniteScrollModule } from 'ngx-infinite-scroll';\nimport { NgJhipsterModule } from 'ng-jhipster';\nimport { SharedModule } from '../shared';\nimport { ReactiveFormsModule, FormsModule } from '@angular/forms';\nimport { syllabusLessonTopicRoute } from './syllabus-lesson-topic.route';\nimport { LessonTopicManageComponent } from './lesson-topic/lesson-topic-manage.component';\nimport { PrerequisiteLessonTopicManageComponent } from './prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component';\nimport { CurriculumTopicContentManageComponent } from './topic-content/topic-content-manage.component';\nimport { CurriculumTopicQuestionManageComponent } from './topic-question/topic-question-manage.component';\nimport { CurriculumAdditionalResourcesManageComponent } from './addl-resource/addl-resource-manage.component';\nimport { CurriculumTopicQuestionCreateComponent } from './topic-question/topic-question-create.component';\nimport { QuestionBuilderModule } from '../question-builder/question-builder.module';\nimport { CurriculumTopicQuestionDetailsComponent } from './topic-question/topic-question-details.component';\nimport { CurriculumTopicQuestionUpdateComponent } from './topic-question/topic-question-update.component';\nimport { LessonPlanManageComponent } from './lesson-plan/lesson-plan-manage.component';\n\n@NgModule({\n    imports: [\n        QuestionBuilderModule,\n        FormsModule,\n        ReactiveFormsModule,\n        SharedModule,\n        NgJhipsterModule,\n        InfiniteScrollModule,\n        NgbModule,\n        RouterModule.forChild(syllabusLessonTopicRoute)\n    ],\n    declarations: [\n        LessonTopicManageComponent,\n        PrerequisiteLessonTopicManageComponent,\n        LessonPlanManageComponent,\n        CurriculumTopicContentManageComponent,\n        CurriculumTopicQuestionManageComponent,\n        CurriculumTopicQuestionCreateComponent,\n        CurriculumTopicQuestionDetailsComponent,\n        CurriculumTopicQuestionUpdateComponent,\n        CurriculumAdditionalResourcesManageComponent\n    ],\n    schemas: [CUSTOM_ELEMENTS_SCHEMA],\n    exports: [\n        CurriculumTopicQuestionDetailsComponent,\n        CurriculumTopicQuestionUpdateComponent\n    ]\n})\n\nexport class SyllabusLessonTopicModule {\n\n}","import { UserRouteAccessService } from '../core';\nimport { Routes } from '@angular/router';\nimport { LessonTopicManageComponent } from './lesson-topic/lesson-topic-manage.component';\nimport { PrerequisiteLessonTopicManageComponent } from './prerequisite-lesson-topic/prerequisite-lesson-topic-manage.component';\nimport { CurriculumTopicContentManageComponent } from './topic-content/topic-content-manage.component';\nimport { CurriculumTopicQuestionManageComponent } from './topic-question/topic-question-manage.component';\nimport { CurriculumAdditionalResourcesManageComponent } from './addl-resource/addl-resource-manage.component';\nimport { CurriculumTopicQuestionCreateComponent } from './topic-question/topic-question-create.component';\nimport { MatchlistComponent } from '../question-builder/matchlist/matchlist.component';\nimport { MCQChoiceMatrixComponent } from '../question-builder/mcq-choicematrix';\nimport { MCQStandardComponent } from '../question-builder/mcq-standard';\nimport { CurriculumTopicQuestionDetailsComponent } from './topic-question/topic-question-details.component';\nimport { CurriculumTopicQuestionUpdateComponent } from './topic-question/topic-question-update.component';\nimport { DragAndDropComponent } from '../question-builder/cloze/drag-n-drop/drag-n-drop.component';\nimport { LessonPlanManageComponent } from './lesson-plan/lesson-plan-manage.component';\n\nexport const syllabusLessonTopicRoute: Routes = [\n    {\n        path: \"\", redirectTo: \"lesson-topic-manage\", pathMatch: \"full\"\n    },\n    {\n        path: \"lesson-topic-manage\",\n        component: LessonTopicManageComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Manage lesson topics'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: \"prerequisite-lesson-topic-manage\",\n        component: PrerequisiteLessonTopicManageComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Manage prerequisite lesson topics'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: \"topic-content\",\n        component: CurriculumTopicContentManageComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Manage topic content'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: \"topic-question\",\n        component: CurriculumTopicQuestionManageComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Manage topic questions'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: \":id/topic-question-create\",\n        component: CurriculumTopicQuestionCreateComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Create new topic question'\n        },\n        canActivate: [UserRouteAccessService],\n        children: [\n            {\n                path: 'mcqstandard',\n                component: MCQStandardComponent,\n                data: {\n                    type: \"MCQ_SINGLE\",\n                    title: \"Create\"\n                },\n            },\n            {\n                path: \"mcqmultiple\",\n                component: MCQStandardComponent,\n                data: {\n                    type: \"MCQ_MULTIPLE\",\n                    mode: \"Create\"\n                }\n            },\n            {\n                path: \"mcqtruefalse\",\n                component: MCQStandardComponent,\n                data: {\n                    type: \"MCQ_TRUE_FALSE\",\n                    title: \"Create\"\n                }\n            },\n            {\n                path: 'mcqchoicematrix',\n                component: MCQChoiceMatrixComponent,\n                data: {\n                    title: \"Create\",\n                    type: \"MCQ_CHOICE_MATRIX\"\n                }\n            }, {\n                path: \"matchlist\",\n                component: MatchlistComponent,\n                data: {\n                    title: \"Create\",\n                    type: \"MCQ_MATCH_LIST\"\n                }\n            },\n            {\n                path: \"clozedrag\",\n                component: DragAndDropComponent,\n                data: {\n                    title: \"Create\",\n                    type: \"mcq-drag\"\n                }\n            },\n        ],\n    },\n    {\n        path: \":id/topic-question-edit\",\n        component: CurriculumTopicQuestionUpdateComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Edit topic question'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: \":id/topic-question-view\",\n        component: CurriculumTopicQuestionDetailsComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'View topic question'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: \"additional-resources\",\n        component: CurriculumAdditionalResourcesManageComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Manage additional lesson resources'\n        },\n        canActivate: [UserRouteAccessService]\n    },\n    {\n        path: \"lesson-plans\",\n        component: LessonPlanManageComponent,\n        data: {\n            authorities: ['ROLE_USER'],\n            pageTitle: 'Manage lesson plan'\n        },\n        canActivate: [UserRouteAccessService]\n    }\n];\n","import { Injectable } from '@angular/core';\nimport { HttpClient, HttpResponse, HttpHeaders } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { environment } from '../../environments/environment';\nimport { ISubject } from '../shared/model/content/subject.model';\nimport { ICurriculum } from '../shared/model/content/curriculum.model';\nimport { ILessonTopics } from '../shared/model/content/lesson-topics.model';\nimport { IGeneralSubject } from '../shared/model/content/general-subject.model';\nimport { IPrerequisiteLessonTopics } from '../shared/model/content/prerequisite-lesson-topics.model';\nimport { IOrgGeneralTopicContent } from '../shared/model/content/org-general-topic-content.model';\nimport { ITopicAllDetails } from '../shared/model/content/topic-all-details.model';\nimport { IOrgGeneralTopicQuestion } from '../shared/model/content/org-general-topic-question.model';\nimport { IContentPreference } from '../shared/model/content/content-preference.model';\nimport { IQuestionPreference } from '../shared/model/content/question-preference.model';\nimport { IAddlResource } from '../shared/model/content/addl-resource.model';\nimport { IOrgGeneralAddlResource } from '../shared/model/content/org-general-addl-resource.model';\nimport { IAddlResoucePreference } from '../shared/model/content/addl-resource-preference.model';\nimport { IContent } from '../shared/model/content/content.model';\nimport { IQuestion } from '../shared/model/content/question.model';\n\ntype lessonTopicResponseType = HttpResponse<ILessonTopics>;\ntype topicResponseType = HttpResponse<ITopicAllDetails>;\ntype lessonTopicArrayResponseType = HttpResponse<ILessonTopics[]>;\ntype prerequisiteLessonTopicArrayResponseType = HttpResponse<IPrerequisiteLessonTopics[]>;\ntype topicAllDetailsResponseType = HttpResponse<ITopicAllDetails>;\ntype orgGeneralTopicContentResponseType = HttpResponse<IOrgGeneralTopicContent[]>;\ntype questionEntityResponseType = HttpResponse<IQuestion>;\ntype orgGeneralTopicQuestionEntityResponseType = HttpResponse<IOrgGeneralTopicQuestion>;\ntype orgGeneralTopicQuestionResponseType = HttpResponse<IOrgGeneralTopicQuestion[]>;\ntype contentResponseType = HttpResponse<IContent>;\ntype contentPreferenceResponseType = HttpResponse<IContentPreference>;\ntype questionPreferenceResponseType = HttpResponse<IQuestionPreference>;\ntype addlResourceArrayResponseType = HttpResponse<IAddlResource[]>;\ntype orgAddlResourceArrayResponseType = HttpResponse<IOrgGeneralAddlResource[]>;\ntype addlResoucePreferenceResponseType = HttpResponse<IAddlResoucePreference>;\n\nlet headers: HttpHeaders = new HttpHeaders();\nheaders = headers.append('Access-Control-Allow-Origin', '*').append('Access-Control-Allow-Headers', '*');\n\n@Injectable({ providedIn: 'root' })\nexport class SyllabusLessonTopicService {\n\n    public lessonAllDetailsResourceUrl = environment.API_URL + 'services/learning/api/lessons/all-details';\n    public lessonTopicResourceUrl = environment.API_URL + 'services/learning/api/lesson-topics';\n    public prerequisiteLessonTopicResourceUrl = environment.API_URL + 'services/learning/api/lesson-pre-req-topics';\n    public orgGeneralTopicContentSearchResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-contents/search';\n    public orgGeneralTopicContentResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-contents';\n    public orgGeneralTopicQuestionResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-questions';\n    public topicAllDetailsResouceUrl = environment.API_URL + 'services/content/api/general-topics/all-details';\n    public contentPreferenceResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-contents/set-content-preference';\n    public getContentPreferenceResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-contents/get-org-content-preference';\n    public orgGeneralTopicQuestionSearchResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-questions/search';\n    public orgQuestionPreferenceResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-questions/set-org-questions-preference';\n    public questionPreferenceResourceUrl = environment.API_URL + 'services/content/api/questions';\n    public getQuestionPreferenceResourceUrl = environment.API_URL + 'services/content/api/org-general-topic-questions/get-org-questions-preference';\n    public addlResourceUrl = environment.API_URL + 'services/learning/api/lesson-addl-contents';\n    public orgAddlResourceUrl = environment.API_URL + 'services/learning/api/org-lesson-addl-contents';\n    public getAddlResourcePreferenceUrl = environment.API_URL + 'services/learning/api/org-lesson-addl-contents/get-org-content-preference'\n    public setAddlResourcePreferenceUrl = environment.API_URL + 'services/learning/api/org-lesson-addl-contents/set-content-preference'\n    public contentResourceUrl = environment.API_URL + 'services/content/api/contents';\n    public topicResourceUrl = environment.API_URL + 'services/content/api/general-topics';\n\n    constructor(protected http: HttpClient) { }\n\n    getLessonTopicListByLessonId(id: number): Observable<lessonTopicResponseType> {\n        return this.http.get<ILessonTopics>(`${this.lessonAllDetailsResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    getLessonTopicListByLessonTopicId(id: number): Observable<lessonTopicResponseType> {\n        return this.http.get<ILessonTopics>(`${this.lessonTopicResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    getTopicDetailsByTopicId(id: number): Observable<topicResponseType> {\n        return this.http.get<ITopicAllDetails>(`${this.topicResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    updateLessonTopicMapping(lessonTopic: ILessonTopics[]): Observable<lessonTopicArrayResponseType> {\n        return this.http.put<ILessonTopics[]>(this.lessonTopicResourceUrl, lessonTopic, { headers: headers, observe: 'response' });\n    }\n\n    saveLessonTopicMapping(topicMapping: ILessonTopics[]): Observable<lessonTopicArrayResponseType> {\n        return this.http.post<ILessonTopics[]>(this.lessonTopicResourceUrl, topicMapping, { headers: headers, observe: 'response' });\n    }\n\n    deleteLessonTopicMapping(topicIds: any[]): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.lessonTopicResourceUrl}/${\"batch\"}/${topicIds}`, { observe: 'response' });\n    }\n\n    updatePrerequisiteLessonTopicMapping(lessonTopic: IPrerequisiteLessonTopics[]): Observable<prerequisiteLessonTopicArrayResponseType> {\n        return this.http.put<IPrerequisiteLessonTopics[]>(this.prerequisiteLessonTopicResourceUrl, lessonTopic, { headers: headers, observe: 'response' });\n    }\n\n    savePrerequisiteLessonTopicMapping(topicMapping: IPrerequisiteLessonTopics[]): Observable<prerequisiteLessonTopicArrayResponseType> {\n        return this.http.post<IPrerequisiteLessonTopics[]>(this.prerequisiteLessonTopicResourceUrl, topicMapping, { headers: headers, observe: 'response' });\n    }\n\n    deletePrerequisiteLessonTopicMapping(topicIds): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.prerequisiteLessonTopicResourceUrl}/${\"batch\"}/${topicIds}`, { observe: 'response' });\n    }\n\n    getTopicDetails(id: number): Observable<topicAllDetailsResponseType> {\n        return this.http.get<ITopicAllDetails>(`${this.topicAllDetailsResouceUrl}/${id}`, { observe: 'response' });\n    }\n\n    getOrgGeneralTopicContentsByOrgId(topicId: number, organisationId: number): Observable<orgGeneralTopicContentResponseType> {\n        var reqJSON = {\n            \"generalTopicId\": topicId,\n            \"organisationId\": organisationId\n        }\n        return this.http.post<IOrgGeneralTopicContent[]>(this.orgGeneralTopicContentSearchResourceUrl, reqJSON, { observe: 'response' });\n    }\n\n    getOrgGeneralTopicQuestionsByOrgId(topicId: number, organisationId: number): Observable<orgGeneralTopicQuestionResponseType> {\n        var reqJSON = {\n            \"generalTopicId\": topicId,\n            \"organisationId\": organisationId\n        }\n        return this.http.post<IOrgGeneralTopicQuestion[]>(this.orgGeneralTopicQuestionSearchResourceUrl, reqJSON, { observe: 'response' });\n    }\n\n    setContentPreference(isActive: boolean, generalTopicId: number, organisationId: number) {\n        var reqJSON = {\n            \"active\": isActive,\n            \"generalTopicId\": generalTopicId,\n            \"organisationId\": organisationId\n        }\n        return this.http.put<IContentPreference>(this.contentPreferenceResourceUrl, reqJSON, { observe: 'response' });\n    }\n\n    getContentPreference(organisationId: number, generalTopicId: number): Observable<contentPreferenceResponseType> {\n        var reqJSON = {\n            organisationId: organisationId,\n            generalTopicId: generalTopicId\n        }\n        return this.http.post<IContentPreference>(this.getContentPreferenceResourceUrl, reqJSON, { headers: headers, observe: 'response' });\n    }\n\n    setQuestionPreference(isActive: boolean, generalTopicId: number, organisationId: number) {\n        var reqJSON = {\n            \"active\": isActive,\n            \"generalTopicId\": generalTopicId,\n            \"organisationId\": organisationId\n        }\n        return this.http.put<IQuestionPreference>(this.orgQuestionPreferenceResourceUrl, reqJSON, { observe: 'response' });\n    }\n\n    getQuestionPreference(orgId: number, topicId: number): Observable<questionPreferenceResponseType> {\n        var reqJSON = {\n            organisationId: orgId,\n            generalTopicId: topicId\n        }\n        return this.http.post<IQuestionPreference>(this.getQuestionPreferenceResourceUrl, reqJSON, { headers: headers, observe: 'response' });\n    }\n\n    saveOwnTopicContent(ownGeneralTopicContents: IOrgGeneralTopicContent[]): Observable<orgGeneralTopicContentResponseType> {\n        return this.http.post<IOrgGeneralTopicContent[]>(this.orgGeneralTopicContentResourceUrl, ownGeneralTopicContents, { headers: headers, observe: 'response' });\n    }\n\n    updateOwnTopicContents(ownGeneralTopicContents: IOrgGeneralTopicContent[]): Observable<orgGeneralTopicContentResponseType> {\n        return this.http.put<IOrgGeneralTopicContent[]>(this.orgGeneralTopicContentResourceUrl, ownGeneralTopicContents, { headers: headers, observe: 'response' });\n    }\n\n    updateContentSource(ownGeneralTopicContent: IContent): Observable<contentResponseType> {\n        return this.http.put<IContent>(this.contentResourceUrl, ownGeneralTopicContent, { headers: headers, observe: 'response' });\n    }\n\n    deleteOwnTopicContents(contentIds): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.orgGeneralTopicContentResourceUrl}/${\"batch\"}/${contentIds}`, { observe: 'response' });\n    }\n\n    deleteOwnTopicQuestions(questionIds): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.orgGeneralTopicQuestionResourceUrl}/${\"batch\"}/${questionIds}`, { observe: 'response' });\n    }\n\n    saveOwnTopicQuestion(ownGeneralTopicQuestion: IOrgGeneralTopicQuestion): Observable<orgGeneralTopicQuestionEntityResponseType> {\n        return this.http.post<IOrgGeneralTopicQuestion>(this.orgGeneralTopicQuestionResourceUrl, ownGeneralTopicQuestion, { headers: headers, observe: 'response' });\n    }\n\n    getQuestionByQuestionId(id: number): Observable<questionEntityResponseType> {\n        return this.http.get<IQuestion>(`${this.questionPreferenceResourceUrl}/${id}`, { observe: 'response' });\n    }\n\n    updateQuestion(question: IQuestion): Observable<questionEntityResponseType> {\n        return this.http.put<IQuestion>(this.questionPreferenceResourceUrl, question, { headers: headers, observe: 'response' });\n    }\n\n    getAddlResource(lessonId): Observable<addlResourceArrayResponseType> {\n        var reqJSON = {\n            lessonId: lessonId\n        }\n        return this.http.post<IAddlResource[]>(this.addlResourceUrl + '/search', reqJSON, { headers: headers, observe: 'response' });\n    }\n\n    saveAddlResource(addlResource: IAddlResource[]): Observable<addlResourceArrayResponseType> {\n        return this.http.post<IAddlResource[]>(this.addlResourceUrl, addlResource, { headers: headers, observe: 'response' });\n    }\n\n    updateAddlResource(addlResources: IAddlResource[]): Observable<addlResourceArrayResponseType> {\n        return this.http.put<IAddlResource[]>(this.addlResourceUrl, addlResources, { headers: headers, observe: 'response' });\n    }\n\n    deleteAddlResource(resourceIds): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.addlResourceUrl}/${resourceIds}`, { observe: 'response' });\n    }\n\n    getOrgGeneralAddlResourceByOrganisationId(lessonId: number, organisationId: number): Observable<orgAddlResourceArrayResponseType> {\n        var reqJSON = {\n            lessonId: lessonId,\n            organisationId: organisationId\n        }\n        return this.http.post<IOrgGeneralAddlResource[]>(this.orgAddlResourceUrl + '/search', reqJSON, { headers: headers, observe: 'response' });\n    }\n\n    saveOwnAddlResource(ownAddlResource: IOrgGeneralAddlResource[]): Observable<orgAddlResourceArrayResponseType> {\n        return this.http.post<IOrgGeneralAddlResource[]>(this.orgAddlResourceUrl, ownAddlResource, { headers: headers, observe: 'response' });\n    }\n\n    updateOwnAddlResource(ownAddlResources: IOrgGeneralAddlResource[]): Observable<orgAddlResourceArrayResponseType> {\n        return this.http.put<IOrgGeneralAddlResource[]>(this.orgAddlResourceUrl, ownAddlResources, { headers: headers, observe: 'response' });\n    }\n\n    deleteOwnAddlResource(resourceIds): Observable<HttpResponse<any>> {\n        return this.http.delete<any>(`${this.orgAddlResourceUrl}/${resourceIds}`, { observe: 'response' });\n    }\n\n    setAddlResourcePreference(isActive: boolean, lessonId: number, organisationId: number) {\n        var reqJSON = {\n            \"active\": isActive,\n            \"lessonId\": lessonId,\n            \"organisationId\": organisationId\n        }\n        return this.http.put<IAddlResoucePreference>(this.setAddlResourcePreferenceUrl, reqJSON, { observe: 'response' });\n    }\n\n    getAddlResourcePreference(lessonId: number, organisationId: number): Observable<addlResoucePreferenceResponseType> {\n        var reqJSON = {\n            \"lessonId\": lessonId,\n            \"organisationId\": organisationId\n        }\n        return this.http.post<IAddlResoucePreference>(this.getAddlResourcePreferenceUrl, reqJSON, { headers: headers, observe: 'response' });\n    }\n}\n","module.exports = \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\n    <div class=\\\"filtericon font-20\\\">\\n        <i class=\\\"fa fa-filter\\\"></i>\\n    </div>\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n        <div class=\\\"col-lg-3 mb-3\\\">\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\" (change)=\\\"onSubjectChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedSubject\\\">\\n            <ng-select [items]=\\\"lessonList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"text\\\"\\n                placeholder=\\\"Select lesson\\\" [(ngModel)]=\\\"selectedLesson\\\">\\n            </ng-select>\\n        </div>\\n    </div>\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n        <div class=\\\"col-lg-2\\\">\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"getLessonTopicList()\\\">\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-flex justify-content-between align-items-center\\\" *ngIf=\\\"showTopicHeading\\\">\\n    <h5 class=\\\"font-20 mb-2\\\">Lesson topics</h5>\\n    <div class=\\\"btn btn-primary\\\" (click)=\\\"openSubjectTreeModal()\\\">\\n        <i class=\\\"fa fa-eye mr-2\\\"></i>\\n        View subject tree\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xxl-3\\\">\\n        <div id=\\\"topicsList\\\"></div>\\n    </div>\\n    <div class=\\\"col-xxl-9\\\">\\n        <div class=\\\"py-2\\\" *ngIf=\\\"showContentMapping\\\">\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap\\\">\\n                <div class=\\\"filterbg p-3 mb-2 w-100\\\">\\n                    <p class=\\\"font-20\\\">Content preference for {{topicName}}</p>\\n                    <div class=\\\"row m-0 mb-2\\\">\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\n                            <input type=\\\"radio\\\" id=\\\"ContentCE\\\" name=\\\"content\\\" [checked]=\\\"checkContentCE\\\"\\n                                (change)=\\\"checkContentPreference($event)\\\">\\n                            <label for=\\\"ContentCE\\\">Recommended by CE</label>\\n                        </div>\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\n                            <input type=\\\"radio\\\" id=\\\"OwnContent\\\" name=\\\"content\\\" [checked]=\\\"checkOwnContent\\\"\\n                                (change)=\\\"checkContentPreference($event)\\\">\\n                            <label for=\\\"OwnContent\\\">Use\\n                                our own content</label>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"row m-0\\\">\\n                        <div class=\\\"w-100 d-flex justify-content-end\\\">\\n                            <div class=\\\"btn btn-success\\\" (click)=\\\"saveContentPreference()\\\">\\n                                <i class=\\\"fa fa-save mr-2\\\"></i>Save\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"tab w-100\\\">\\n                    <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show active\\\" id=\\\"home-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#home\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"home\\\" aria-selected=\\\"false\\\">Recommended\\n                                by CE </a>\\n                        </li>\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show\\\" id=\\\"profile-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#profile\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"profile\\\" aria-selected=\\\"true\\\">Recommended by organizations</a>\\n                        </li>\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show\\\" id=\\\"portfolio-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#portfolio\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"portfolio\\\" aria-selected=\\\"false\\\"> Own\\n                                content </a>\\n                        </li>\\n                    </ul>\\n                    <div class=\\\"tab-content\\\">\\n                        <div class=\\\"tab-pane fade py-3 active show\\\" id=\\\"home\\\" role=\\\"tabpanel\\\"\\n                            aria-labelledby=\\\"home-tab\\\">\\n                            <div *ngIf=\\\"generalTopicContents\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Order number</th>\\n                                            <th>Title</th>\\n                                            <th>Active Web URL</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr\\n                                            *ngFor=\\\"let topicContent of generalTopicContents;trackBy: trackId;let topicIndex = index\\\">\\n                                            <td data-column=\\\"Order number\\\">\\n                                                {{topicContent.orderNumber}}\\n                                            </td>\\n                                            <td data-column=\\\"Title\\\">\\n                                                {{topicContent.content.title}}\\n                                            </td>\\n                                            <td data-column=\\\"Active Web URL\\\">\\n                                                <a class=\\\"btn btn-link text-ellipsis\\\"\\n                                                    href=\\\"{{topicContent.content.webUrl}}\\\" target=\\\"_blank\\\">\\n                                                    {{topicContent.content.webUrl}}\\n                                                </a>\\n                                            </td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon-size\\\"\\n                                                    (click)=\\\"viewCETopicContent(topicContent.id)\\\">\\n                                                    <i class=\\\"fa fa-eye\\\"></i>\\n                                                </a>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"profile\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"profile-tab\\\">\\n                            <div class=\\\"col-12 filterbg py-2 px-4 rounded my-4\\\">\\n                                <div class=\\\"filtericon font-20\\\">\\n                                    <i class=\\\"fa fa-filter\\\"></i>\\n                                </div>\\n                                <div class=\\\"row col-xxl-4 mb-3\\\">\\n                                    <ng-select [items]=\\\"organisations\\\" class=\\\"w-100\\\"\\n                                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                                        placeholder=\\\"Select organisation\\\" [(ngModel)]=\\\"selectedOrganisation\\\">\\n                                    </ng-select>\\n                                </div>\\n                                <div class=\\\"w-100 d-flex justify-content-end\\\">\\n                                    <div class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\n                                        (click)=\\\"getOrgTopicContentByOrgId()\\\">\\n                                        <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\n                                    </div>\\n                                </div>\\n                            </div>\\n\\n                            <div *ngIf=\\\"orgGeneralTopicContents\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Order number</th>\\n                                            <th>Title</th>\\n                                            <th>Active Web URL</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr\\n                                            *ngFor=\\\"let orgcontent of orgGeneralTopicContents;trackBy: trackId;let topicIndex = index\\\">\\n                                            <td data-column=\\\"Order number\\\">\\n                                                {{orgcontent.orderNumber}}\\n                                            </td>\\n                                            <td data-column=\\\"Title\\\">\\n                                                {{orgcontent.content.title}}\\n                                            </td>\\n                                            <td data-column=\\\"Active Web URL\\\">\\n                                                <a class=\\\"btn btn-link text-ellipsis\\\"\\n                                                    href=\\\"{{orgcontent.content.webUrl}}\\\" target=\\\"_blank\\\">\\n                                                    {{orgcontent.content.webUrl}}\\n                                                </a>\\n                                            </td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon-size\\\"\\n                                                    (click)=\\\"viewOrgTopicContent(orgcontent.id)\\\">\\n                                                    <i class=\\\"fa fa-eye\\\"></i>\\n                                                </a>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"portfolio\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"portfolio-tab\\\">\\n                            <div class=\\\"row mb-2\\\">\\n                                <div class=\\\"col-md-12 d-flex justify-content-end\\\">\\n                                    <div class=\\\"btn btn-primary\\\" (click)=\\\"addOwnTopicContent()\\\">\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add new\\n                                        content\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"ownTopicContents\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\"\\n                                    id=\\\"dragTable\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Select</th>\\n                                            <th>Order number</th>\\n                                            <th>Title</th>\\n                                            <th>Active Web URL</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody id=\\\"dragBody\\\">\\n                                        <tr\\n                                            *ngFor=\\\"let topicContent of ownTopicContents;trackBy: trackId;let topicIndex = index\\\">\\n                                            <td data-column=\\\"Select\\\" title=\\\"{{topicContent.id}}\\\">\\n                                                <div class=\\\"checkbox\\\">\\n                                                    <input type=\\\"checkbox\\\" title=\\\"{{topicContent.id}}\\\"\\n                                                        id=\\\"{{topicContent.id}}+1\\\" class=\\\"checkAll\\\"\\n                                                        (change)=\\\"checkSelectedOwnContents($event)\\\">\\n                                                    <label for=\\\"{{topicContent.id}}+1\\\"></label>\\n                                                </div>\\n                                            </td>\\n                                            <td data-column=\\\"Order number\\\" class=\\\"index\\\">\\n                                                {{topicContent.orderNumber}}\\n                                            </td>\\n                                            <td data-column=\\\"Title\\\">\\n                                                {{topicContent.content.title}}\\n                                            </td>\\n                                            <td data-column=\\\"Active Web URL\\\">\\n                                                <a class=\\\"btn btn-link text-ellipsis\\\"\\n                                                    href=\\\"{{topicContent.content.webUrl}}\\\" target=\\\"_blank\\\">\\n                                                    {{topicContent.content.webUrl}}\\n                                                </a>\\n                                            </td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <div>\\n                                                    <a class=\\\"btn btn-outline-info mr-1 mb-1 btn-icon-size\\\"\\n                                                        (click)=\\\"viewOwnTopicContent(topicContent.id)\\\">\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\n                                                    </a>\\n                                                    <a class=\\\"btn btn-outline-success  mr-1 mb-1 btn-icon-size\\\"\\n                                                        (click)=\\\"editOwnTopicContent(topicContent.id)\\\">\\n                                                        <i class=\\\"fa fa-edit\\\"></i>\\n                                                    </a>\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                                <div class=\\\"mt-3 d-flex w-100 justify-content-end\\\" *ngIf=\\\"ownTopicContents.length > 0\\\">\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\n                                        (click)=\\\"resetSelectedOwnTopicContent()\\\">\\n                                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\n                                    </button>\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\n                                        (click)=\\\"deleteOwnTopicContents()\\\">\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\n                                    </button>\\n                                    <button class=\\\"btn btn-success\\\" [disabled]=\\\"updateAction\\\"\\n                                        (click)=\\\"updateOwnTopicContentsWithOrderNumber()\\\">\\n                                        <i class=\\\"fa fa-save mr-2\\\"></i>Update order\\n                                    </button>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"topicContentModal\\\">\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" [formGroup]=\\\"topicContentForm\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    {{modalTitleName}} content\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeTopicContentModalWithOutSaving()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\n                    <div class=\\\"form-group mb-2\\\">\\n                        <label class=\\\"col-form-label\\\">Title\\n                        </label>\\n                        <input type=\\\"text\\\" placeholder=\\\"Enter content name (min length: 3 and max length: 75)\\\"\\n                            class=\\\"form-control\\\" formControlName=\\\"contentTitle\\\" minlength=\\\"3\\\" maxlength=\\\"75\\\"\\n                            inputRestriction=\\\"alphabetsNumbersWithMinus\\\" />\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\n                            Allowed characters - Alphabets, Numbers and One special character (-)\\n                        </div>\\n                    </div>\\n                    <div class=\\\" form-group mb-2\\\">\\n                        <label class=\\\"col-form-label\\\">Description <span class=\\\"text-muted\\\">(Optional)</span>\\n                        </label>\\n                        <textarea class=\\\"form-control description-form\\\"\\n                            placeholder=\\\"Enter description (min length: 3 and max length: 250)\\\"\\n                            formControlName=\\\"contentDescription\\\"></textarea>\\n                        <div class=\\\"text-muted font-15 my-2\\\">\\n                            Allowed characters - Alphabets, Numbers and Special characters\\n                        </div>\\n                    </div>\\n                    <!-- <div class=\\\"form-group mb-2\\\">\\n                    <label class=\\\"col-form-label\\\">Content type\\n                    </label>\\n                    <ng-select [items]=\\\"contentType\\\" [disabled]=\\\"disableDropdown\\\" [ngModelOptions]=\\\"{standalone: true}\\\"\\n                        bindLabel=\\\"name\\\" placeholder=\\\"Select content type\\\" [(ngModel)]=\\\"selectedContentType\\\"\\n                        [searchable]=\\\"false\\\">\\n                    </ng-select>\\n                </div>\\n                <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentType\\\">\\n                    <label class=\\\"col-form-label\\\">Content source\\n                    </label>\\n                    <ng-select [items]=\\\"contentSource\\\" [disabled]=\\\"disableDropdown\\\"\\n                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\" placeholder=\\\"Select content source\\\"\\n                        [(ngModel)]=\\\"selectedContentSource\\\" [searchable]=\\\"false\\\">\\n                    </ng-select>\\n                </div> -->\\n                    <!-- <div *ngIf=\\\"selectedContentSource\\\"> -->\\n                    <!-- <div *ngIf=\\\"selectedContentSource.name === 'File upload'\\\">\\n                        <div class=\\\"form-group mb-2\\\" *ngIf=\\\"selectedContentSource.name === 'File upload'\\\">\\n                            <label class=\\\"col-form-label\\\">File\\n                            </label>\\n                            <div class=\\\"custom-file\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\n                                <input type=\\\"file\\\" (change)=\\\"onDocumentFileChanges($event)\\\" id=\\\"documentFile\\\" />\\n                                <label class=\\\"custom-file-label\\\" for=\\\"documentFile\\\">\\n                                    <i>\\n                                        {{fileName}}\\n                                    </i></label>\\n                            </div>\\n                            <div class=\\\"custom-file\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\n                                <input type=\\\"file\\\" alife-file-to-base64 (onFileChanged)=\\\"onVideoFileChanges($event)\\\"\\n                                    id=\\\"videoFile\\\" />\\n                                <label class=\\\"custom-file-label\\\" for=\\\"videoFile\\\">\\n                                    <i>\\n                                        {{fileName}}\\n                                    </i></label>\\n                            </div>\\n                            <div class=\\\" d-flex w-100\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                                <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\n                                    Only PDF will allow Max file size - 100 MB\\n                                </div>\\n                                <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\n                                    Max file size - 200 MB\\n                                </div>\\n                            </div>\\n                            <div class=\\\"d-flex w-100 my-2\\\">\\n                                <div *ngIf=\\\"selectedContentType.tag === 'VIDEO'\\\">\\n                                    <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                                        <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadVideoFile()\\\"\\n                                            *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\n                                            <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\n                                        </button>\\n                                    </div>\\n                                </div>\\n                                <div *ngIf=\\\"selectedContentType.tag === 'DOCUMENT'\\\">\\n                                    <div *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                                        <button class=\\\"btn btn-warning mr-2\\\" (click)=\\\"uploadDocumentFile()\\\"\\n                                            *ngIf=\\\"!uploadedFileName && !uploadedFilePath\\\">\\n                                            <i class=\\\"fa fa-upload mr-2\\\"></i>Upload file\\n                                        </button>\\n                                    </div>\\n                                </div>\\n                                <div *ngIf=\\\"showFileAction\\\" class=\\\"d-flex justify-content-between\\\">\\n                                    <a class=\\\"btn btn-info mr-2\\\" (click)=\\\"downloadFile()\\\" *ngIf=\\\"uploadedFileName\\\">\\n                                        <i class=\\\"fa fa-download mr-2\\\"></i>{{uploadedFileName}}\\n                                    </a>\\n                                    <div *ngIf=\\\" modalTitleName !=='View'\\\">\\n                                        <a class=\\\" btn btn-danger\\\" (click)=\\\"deleteUploadedFile()\\\"\\n                                            *ngIf=\\\"uploadedFileName\\\">\\n                                            <i class=\\\"fa fa-trash mr-2\\\"></i>Delete file\\n                                        </a>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div> -->\\n                    <!-- <div *ngIf=\\\"selectedContentSource.name !== 'File upload'\\\"> -->\\n                    <div class=\\\"border p-2 mb-2\\\">\\n                        <div class=\\\"form-group mb-2\\\">\\n                            <label class=\\\"col-form-label\\\">Web URL\\n                            </label>\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl1\\\">\\n                            <div class=\\\"text-muted font-15 my-2\\\" *ngIf=\\\"modalTitleName !== 'View'\\\">\\n                                Allowed characters - Alphabets, Numbers and Special characters\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group mb-2\\\">\\n                            <label class=\\\"col-form-label\\\">Publisher\\n                            </label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher1\\\">\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\n                                Allowed characters - Alphabets\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl1\\\" [checked]=\\\"checkUrl1\\\"\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\n                            <label for=\\\"webUrl1\\\">is Active</label>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"border p-2 mb-2\\\">\\n                        <div class=\\\"form-group mb-2\\\">\\n                            <label class=\\\"col-form-label\\\">Web URL <span class=\\\"text-muted\\\">\\n                                    (Optional)\\n                                </span>\\n                            </label>\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl2\\\">\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\n                                Allowed characters - Alphabets, Numbers and Special characters\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group mb-2\\\">\\n                            <label class=\\\"col-form-label\\\">Publisher\\n                            </label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher2\\\">\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\n                                Allowed characters - Alphabets\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl2\\\" [checked]=\\\"checkUrl2\\\"\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\n                            <label for=\\\"webUrl2\\\">is Active</label>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"border p-2 mb-2\\\">\\n                        <div class=\\\"form-group mb-2\\\">\\n                            <label class=\\\"col-form-label\\\">Web URL <span class=\\\"text-muted\\\">\\n                                    (Optional)\\n                                </span>\\n                            </label>\\n                            <input type=\\\"url\\\" class=\\\"form-control\\\"\\n                                placeholder=\\\"Enter web url (minlength: 3 and maxlength: 2048)\\\" minlength=\\\"3\\\"\\n                                maxlength=\\\"2048\\\" formControlName=\\\"webUrl3\\\">\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\n                                Allowed characters - Alphabets, Numbers and Special characters\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group mb-2\\\">\\n                            <label class=\\\"col-form-label\\\">Publisher\\n                            </label>\\n                            <input type=\\\"text\\\" class=\\\"form-control\\\"\\n                                placeholder=\\\"Enter publisher (minlength: 3 and maxlength: 50)\\\"\\n                                inputRestriction=\\\"alphabetsWithSpace\\\" formControlName=\\\"publisher3\\\">\\n                            <div class=\\\"text-muted font-15 my-2\\\">\\n                                Allowed characters - Alphabets\\n                            </div>\\n                        </div>\\n                        <div class=\\\"form-group mb-2 radio d-flex\\\">\\n                            <input type=\\\"radio\\\" name=\\\"activeUrl\\\" id=\\\"webUrl3\\\" [checked]=\\\"checkUrl3\\\"\\n                                (click)=\\\"onActiveWebUrlSelection($event)\\\" [disabled]=\\\"disableUrl\\\">\\n                            <label for=\\\"webUrl3\\\">is Active</label>\\n                        </div>\\n                    </div>\\n                    <!-- </div> -->\\n                    <!-- </div> -->\\n                </div>\\n                <div *ngIf=\\\"modalTitleName === 'View'\\\">\\n                    <div class=\\\"d-flex justify-content-between w-100\\\">\\n                        <p><b>Title </b></p>\\n                        <p>{{contentDetails.content.title}}</p>\\n                    </div>\\n                    <div class=\\\"d-flex justify-content-between w-100\\\" *ngIf=\\\"contentDetails.content.description\\\">\\n                        <p><b>Description</b></p>\\n                        <p>{{contentDetails.content.description}}</p>\\n                    </div>\\n                    <div *ngIf=\\\"contentDetails.content.url1\\\">\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Web URL 1</b></p>\\n                            <p>{{contentDetails.content.url1}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Publisher 1</b></p>\\n                            <p>{{contentDetails.content.publisher1}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Active 1</b></p>\\n                            <div>\\n                                <div class=\\\"radio\\\">\\n                                    <input type=\\\"radio\\\" id=\\\"url1\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl1\\\"\\n                                        [disabled]=\\\"true\\\">\\n                                    <label for=\\\"url1\\\"></label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"contentDetails.content.url2\\\">\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Web URL 2</b></p>\\n                            <p>{{contentDetails.content.url2}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Publisher 2</b></p>\\n                            <p>{{contentDetails.content.publisher2}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Active 2</b></p>\\n                            <div>\\n                                <div class=\\\"radio\\\">\\n                                    <input type=\\\"radio\\\" id=\\\"url2\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl2\\\"\\n                                        [disabled]=\\\"true\\\">\\n                                    <label for=\\\"url2\\\"></label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"contentDetails.content.url3\\\">\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Web URL 3</b></p>\\n                            <p>{{contentDetails.content.url3}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Publisher 3</b></p>\\n                            <p>{{contentDetails.content.publisher3}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Active 3</b></p>\\n                            <div>\\n                                <div class=\\\"radio\\\">\\n                                    <input type=\\\"radio\\\" id=\\\"url3\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl3\\\"\\n                                        [disabled]=\\\"true\\\">\\n                                    <label for=\\\"url3\\\"></label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div *ngIf=\\\"modalTitleName === 'ViewOrg'\\\">\\n                    <div class=\\\"d-flex justify-content-between w-100\\\">\\n                        <p><b>Title </b></p>\\n                        <p>{{contentDetails.content.title}}</p>\\n                    </div>\\n                    <div class=\\\"d-flex justify-content-between w-100\\\" *ngIf=\\\"contentDetails.content.description\\\">\\n                        <p><b>Description</b></p>\\n                        <p>{{contentDetails.content.description}}</p>\\n                    </div>\\n                    <div *ngIf=\\\"contentDetails.content.url1\\\">\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Web URL 1</b></p>\\n                            <p>{{contentDetails.content.url1}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Publisher 1</b></p>\\n                            <p>{{contentDetails.content.publisher1}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Active 1</b></p>\\n                            <div>\\n                                <div class=\\\"radio\\\">\\n                                    <input type=\\\"radio\\\" id=\\\"url1\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl1\\\"\\n                                        [disabled]=\\\"true\\\">\\n                                    <label for=\\\"url1\\\"></label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"contentDetails.content.url2\\\">\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Web URL 2</b></p>\\n                            <p>{{contentDetails.content.url2}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Publisher 2</b></p>\\n                            <p>{{contentDetails.content.publisher2}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Active 2</b></p>\\n                            <div>\\n                                <div class=\\\"radio\\\">\\n                                    <input type=\\\"radio\\\" id=\\\"url2\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl2\\\"\\n                                        [disabled]=\\\"true\\\">\\n                                    <label for=\\\"url2\\\"></label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                    <div *ngIf=\\\"contentDetails.content.url3\\\">\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Web URL 3</b></p>\\n                            <p>{{contentDetails.content.url3}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Publisher 3</b></p>\\n                            <p>{{contentDetails.content.publisher3}}</p>\\n                        </div>\\n                        <div class=\\\"d-flex justify-content-between w-100\\\">\\n                            <p><b>Active 3</b></p>\\n                            <div>\\n                                <div class=\\\"radio\\\">\\n                                    <input type=\\\"radio\\\" id=\\\"url3\\\" name=\\\"checkActiveURL\\\" [checked]=\\\"checkUrl3\\\"\\n                                        [disabled]=\\\"true\\\">\\n                                    <label for=\\\"url3\\\"></label>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <div *ngIf=\\\"modalTitleName === 'Add' || modalTitleName === 'Edit'\\\">\\n                    <div class=\\\"btn btn-danger\\\" (click)=\\\"cancelTopicContent()\\\">\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\n                        Reset\\n                    </div>\\n                </div>\\n\\n                <div *ngIf=\\\"modalTitleName === 'Add'\\\">\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"saveTopicContent()\\\" [disabled]=\\\"validateForm\\\">\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\n                        Save\\n                    </button>\\n                </div>\\n\\n                <div *ngIf=\\\"modalTitleName === 'Edit'\\\">\\n                    <button class=\\\"btn btn-success\\\" (click)=\\\"updateTopicContents()\\\" [disabled]=\\\"validateForm\\\">\\n                        <i class=\\\"fa fa-save mr-2\\\"></i>\\n                        Save\\n                    </button>\\n                </div>\\n\\n                <div *ngIf=\\\"modalTitleName === 'View'|| modalTitleName === 'ViewOrg' \\\">\\n                    <button class=\\\"btn btn-danger\\\" (click)=\\\"closeTopicContentModal()\\\">\\n                        <i class=\\\"fa fa-times mr-2\\\"></i>\\n                        Close\\n                    </button>\\n                </div>\\n\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"viewSubjectTreeModal\\\">\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    View subject tree\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\n                    <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n                        <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                        <span *ngIf=\\\"enableExpandNode === false\\\">\\n                            Expand all\\n                        </span>\\n                        <span *ngIf=\\\"enableExpandNode === true\\\">\\n                            Collapse all\\n                        </span>\\n                    </div>\\n                </div>\\n                <div id=\\\"viewTree\\\"></div>\\n            </div>\\n            <div class=\\\"modal-footer d-flex justify-content-end align-items-start\\\">\\n                <button class=\\\"btn btn-danger\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i>\\n                    Close\\n                </button>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, AfterViewInit, AfterViewChecked, ChangeDetectorRef } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { ISubject } from '../../shared/model/content/subject.model';\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\nimport { IGrade } from '../../shared/model/common/grade.model';\nimport { Principal } from '../../core';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { ILessonTopics } from '../../shared/model/content/lesson-topics.model';\nimport { IGeneralTopicContent } from '../../shared/model/content/general-topic-content.model';\nimport { IOrgGeneralTopicContent } from '../../shared/model/content/org-general-topic-content.model';\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\nimport { IOrganisation } from '../../shared/model/common/organisation.model';\nimport { FormGroup, FormBuilder, FormControl, Validators } from '@angular/forms';\nimport { Observable } from 'rxjs';\nimport { IContentPreference } from '../../shared/model/content/content-preference.model';\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\nimport { IContent, ContentType } from '../../shared/model/content/content.model';\nimport { CommonService } from '../../shared/common/common.service';\nimport { SubjectService } from '../../subject/subject.service';\nimport { OrganisationService } from '../../organisation/organisation.service';\nimport { CurriculumService } from '../../curriculum/curriculum.service';\nimport { ACTIVE } from '../../shared/constants/common.constants';\nimport { FileManagementService } from '../../shared/file-management/file-management.service';\nimport { saveAs } from 'file-saver'\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./topic-content-manage.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class CurriculumTopicContentManageComponent implements OnInit, AfterViewInit, AfterViewChecked {\n    topicContentForm: FormGroup;\n    curriculumList: ICurriculum[] = [];\n    gradeList: IGrade[] = [];\n    subjectList: IGrade[] = [];\n    subjectTree: ISubject[] = [];\n    lessonList: ISubject[] = [];\n    organisations: IOrganisation[] = [];\n    contentDetails: any = {};\n    generalTopicContents: IGeneralTopicContent[] = [];\n    ownTopicContents: IOrgGeneralTopicContent[] = [];\n    orgGeneralTopicContents: IOrgGeneralTopicContent[] = [];\n    contentIds: any[] = [];\n    originDetails: any[] = [];\n    hostedDetails: any[] = [];\n    contentType: any[] = [];\n    contentSource: any[] = [];\n    generalTopicId: number;\n    organisationId: number;\n    contentId: number;\n    nodeType: string;\n    topicName: string;\n    modalTitleName: string;\n    fileName: string;\n    uploadedFileName: string;\n    showFileAction: boolean;\n    showContentMapping: boolean;\n    showTopicHeading: boolean;\n    contentPreferenceStatus: boolean;\n    validateForm: boolean;\n    checkOrderNumChange: boolean;\n    checkOwnContent: boolean;\n    checkContentCE: boolean;\n    disableDropdown: boolean;\n    enableExpandNode: boolean;\n    activeUrl: string;\n    checkUrl1: boolean;\n    checkUrl2: boolean;\n    checkUrl3: boolean;\n    disableUrl: boolean;\n    updateAction: boolean;\n    tableAction: boolean;\n    selectedCurriculum: any;\n    selectedGrade: any;\n    selectedSubject: any;\n    selectedLesson: any;\n    selectedOrganisation: any;\n    selectedContentSource: any;\n    selectedContentType: any;\n    uploadedFilePath: any;\n    fileType: any;\n    selectedFile: any = null;\n\n    constructor(\n        public _router: Router,\n        public activatedRoute: ActivatedRoute,\n        public subjectService: SubjectService,\n        public curriculumService: CurriculumService,\n        public organisationService: OrganisationService,\n        public topicContentService: SyllabusLessonTopicService,\n        protected eventManager: JhiEventManager,\n        protected parseLinks: JhiParseLinks,\n        protected principalService: Principal,\n        protected formBuilder: FormBuilder,\n        public pluginService: PluginService,\n        public userLoginService: UserLoginInfoService,\n        public commonService: CommonService,\n        private changeDetectRef: ChangeDetectorRef,\n        public fileService: FileManagementService\n    ) {\n        this.checkContentCE = false;\n        this.contentPreferenceStatus = false;\n        this.enableExpandNode = false;\n        this.validateForm = true;\n        this.tableAction = true;\n        this.updateAction = true;\n        this.checkUrl1 = true;\n    }\n\n    ngOnInit() {\n        this.loadCurriculums();\n        this.createTopicContentForm();\n        this.getContentType();\n        this.getContentSource();\n    }\n\n    createTopicContentForm() {\n        this.topicContentForm = this.formBuilder.group({\n            contentTitle: new FormControl(\"\", [Validators.required, Validators.minLength(3), Validators.maxLength(75)]),\n            contentDescription: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(250)]),\n            webUrl1: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\n            publisher1: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)]),\n            webUrl2: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\n            publisher2: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)]),\n            webUrl3: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(2048)]),\n            publisher3: new FormControl(\"\", [Validators.minLength(3), Validators.maxLength(50)])\n        })\n    }\n\n    get contentFormControl() { return this.topicContentForm.controls; }\n\n    //TODO: load org specific curriculums if user belongs to a org ELSE IF the user is CognitoED content admin/system \n    //admin load all the standard curriculum\n    loadCurriculums() {\n        this.curriculumService.getCurriculumSearch().subscribe(\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignCurriculumList(data: ICurriculum[]) {\n        this.curriculumList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.curriculumList.push(data[i]);\n        }\n    }\n\n    protected onError(errorMessage: string) {\n        this.pluginService.alertMessage(errorMessage, \"error\");\n    }\n\n    getContentType() {\n        this.commonService.getContentTypeList().subscribe((typeData: any) => {\n            this.contentType = typeData;\n        });\n    }\n\n    getContentSource() {\n        this.commonService.getContentSourceList().subscribe((sourceData: any) => {\n            this.contentSource = sourceData;\n        });\n    }\n\n    ngAfterViewInit() {\n        this.nodeOnSelection();\n    }\n\n    onCurriculumChange() {\n        let gradesApplicableFrom, gradesApplicableTo;\n        if (this.selectedCurriculum) {\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n        }\n        this.selectedGrade = null;\n        this.selectedSubject = null;\n        this.selectedLesson = null;\n    }\n\n    onGradeChange() {\n        let curriculumId, gradeId, status;\n        if (this.selectedGrade) {\n            curriculumId = this.selectedCurriculum.id;\n            gradeId = this.selectedGrade.id;\n            status = ACTIVE;\n            this.subjectService\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\n                .subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                );\n        }\n        this.selectedSubject = null;\n        this.selectedLesson = null;\n    }\n\n    assignSubjectList(data: ISubject[]) {\n        $(\"#subject\").val(\"\").trigger('change');\n        this.subjectList = [];\n        this.subjectTree = [];\n        this.pluginService.jsTree(\"#viewTree\", this.subjectTree, false);\n        for (let i = 0; i < data.length; i++) {\n            this.subjectList.push(data[i]);\n        }\n    }\n\n    onSubjectChange() {\n        if (this.selectedSubject) {\n            let subjectId = this.selectedSubject.id;\n            this.loadSubjectTree(subjectId);\n        }\n        this.selectedLesson = null;\n    }\n\n    onActiveWebUrlSelection(event) {\n        if (event.target.checked === true) {\n            this.activeUrl = event.target.id;\n            if (this.activeUrl === \"webUrl1\") {\n                this.checkUrl1 = true;\n                this.checkUrl2 = false;\n                this.checkUrl3 = false;\n            } else if (this.activeUrl === \"webUrl2\") {\n                this.checkUrl2 = true;\n                this.checkUrl3 = false;\n                this.checkUrl1 = false;\n            } else if (this.activeUrl === \"webUrl3\") {\n                this.checkUrl3 = true;\n                this.checkUrl1 = false;\n                this.checkUrl2 = false;\n            }\n        }\n    }\n\n    onVideoFileChanges(event) {\n        let splitType;\n        this.selectedFile = event[0];\n        splitType = this.selectedFile.type.split('/');\n        this.fileType = splitType[0];\n        this.fileName = this.selectedFile.name;\n        if ((this.fileType === \"video\") && (this.selectedFile.size > 209715200)) {\n            this.pluginService.alertMessage(\"Please upload file size lesser than 200 MB\", \"error\");\n        }\n    }\n\n    uploadVideoFile() {\n        if (this.fileName !== \"No file chosen\") {\n            if (this.fileType === \"video\") {\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\n                    if (res.status === 200) {\n                        this.uploadedFileName = Object.keys(res.body)[0];\n                        this.uploadedFilePath = Object.values(res.body)[0];\n                        this.fileName = this.uploadedFileName;\n                        if (this.uploadedFileName && this.uploadedFilePath) {\n                            let block, base64Data, dataSrc;\n                            dataSrc = this.selectedFile.base64;\n                            block = dataSrc.split(\";\");\n                            base64Data = block[1].split(\",\")[1];\n                            this.fileService.uploadVideoFile(this.uploadedFilePath, base64Data).subscribe((event) => {\n                                if (event instanceof HttpResponse) {\n                                    this.showFileAction = true;\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\n                                }\n                            });\n                        }\n                    }\n                });\n            } else {\n                this.pluginService.alertMessage(\"Invalid file, it support only Video formats\", \"error\")\n            }\n        } else {\n            this.pluginService.alertMessage(\"Please choose file and upload it\", \"error\")\n        }\n    }\n\n    onDocumentFileChanges(event) {\n        this.selectedFile = event.target.files;\n        this.fileName = this.selectedFile[0].name;\n        if ((this.selectedFile[0].type === \"application/pdf\") && (this.selectedFile[0].size > 104857600)) {\n            this.pluginService.alertMessage(\"Please upload file size lesser than 100 MB\", \"error\");\n        }\n    }\n\n    uploadDocumentFile() {\n        if (this.fileName !== \"No file chosen\") {\n            if (this.selectedFile[0].type === \"application/pdf\") {\n                let file = this.selectedFile.item(0);\n                this.fileService.getpresignedurls(this.fileName).subscribe(res => {\n                    if (res.status === 200) {\n                        this.uploadedFileName = Object.keys(res.body)[0];\n                        this.uploadedFilePath = Object.values(res.body)[0];\n                        this.fileName = this.uploadedFileName;\n                        if (this.uploadedFileName && this.uploadedFilePath) {\n                            this.fileService.uploadPDFFile(this.uploadedFilePath, file).subscribe((event) => {\n                                if (event instanceof HttpResponse) {\n                                    this.showFileAction = true;\n                                    this.pluginService.alertMessage(\"File uploaded successfully\", \"success\");\n                                }\n                            });\n                        }\n                    }\n                });\n            } else {\n                this.pluginService.alertMessage(\"Invalid file, it support only PDF\", \"error\");\n            }\n        } else {\n            this.pluginService.alertMessage(\"Please choose file and upload it\", \"error\")\n        }\n    }\n\n    downloadFile() {\n        if (this.uploadedFileName) {\n            this.subscribeToDownloadResponse(this.fileService.downloadFiles(this.uploadedFileName));\n        }\n    }\n\n    protected subscribeToDownloadResponse(result: Observable<HttpResponse<any>>) {\n        result.subscribe((res: HttpResponse<any>) => this.onDownloadSuccess(res), (errRes: HttpErrorResponse) => this.onDownloadError(errRes));\n    }\n\n    onDownloadSuccess(resp) {\n        if (resp.body) {\n            let downloadFilePath = Object.values(resp.body)[0];\n            saveAs(downloadFilePath);\n        }\n    }\n\n    onDownloadError(error) {\n        this.pluginService.alertMessage(\"Error in downloading file\", \"error\");\n    }\n\n    checkContentType() {\n        this.closeTopicContentModal();\n        if (this.selectedContentSource) {\n            if (this.selectedContentSource.tag === 'FILE_UPLOAD') {\n                if (this.uploadedFilePath) {\n                    this.deleteUploadedFile();\n                }\n            }\n        }\n    }\n\n    deleteUploadedFile() {\n        this.subscribeToDeleteFiletResponse(this.fileService.deleteUploadedFile(this.uploadedFileName));\n    }\n\n    protected subscribeToDeleteFiletResponse(resp: Observable<HttpResponse<any>>) {\n        resp.subscribe((res: HttpResponse<any>) => this.onDeleteFileSuccess(res), (res: HttpErrorResponse) => this.onDeleteError(res));\n    }\n\n    onDeleteFileSuccess(resp) {\n        this.fileName = \"No file chosen\";\n        this.uploadedFileName = \"\";\n        this.uploadedFilePath = \"\";\n        this.pluginService.alertMessage(\"File deleted successfully\", \"success\");\n    }\n\n\n    generateGradeList(min, max) {\n        this.gradeList = [];\n        for (var i = min; i <= max; i++) {\n            this.gradeList.push({\n                \"id\": i,\n                \"name\": i\n            });\n        }\n        return this.gradeList;\n    }\n\n    loadSubjectTree(subjectId) {\n        this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\n            (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignSubjectTree(data: ISubject[]) {\n        this.lessonList = [];\n        $(\"#lesson\").val(\"\").trigger('change');\n        this.subjectTree = data;\n        this.lessonList = this.subjectTree.filter(item => item.type === 'lesson');\n        this.pluginService.jsTree(\"#viewTree\", this.subjectTree, false);\n    }\n\n    getLessonTopicList() {\n        if (this.selectedLesson) {\n            let lessonId = this.selectedLesson.data.id;\n            if (lessonId) {\n                this.topicContentService\n                    .getLessonTopicListByLessonId(lessonId)\n                    .subscribe(\n                        (res: HttpResponse<ILessonTopics>) => this.assignLessonTopicsList(res.body),\n                        (res: HttpErrorResponse) => this.onError(res.message)\n                    );\n            } else {\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\n            }\n        }\n    }\n\n    assignLessonTopicsList(data: ILessonTopics) {\n        let topicsList: ILessonTopics[] = [], treeTopicsList: ISubject[] = [];\n        topicsList = data.lessonTopics;\n        for (let i = 0; i < topicsList.length; i++) {\n            treeTopicsList.push({\n                text: topicsList[i].topicName,\n                generalTopicId: topicsList[i].generalTopicId,\n                id: topicsList[i].id,\n            })\n        }\n        this.enableExpandNode = false;\n        this.pluginService.jsTree(\"#topicsList\", treeTopicsList, false);\n        this.showContentMapping = false;\n        this.showTopicHeading = true;\n    }\n\n    trimValue(value) {\n        if (value === null || value === undefined) {\n            return value;\n        } else {\n            return value.trim();\n        }\n    }\n\n    ngAfterViewChecked() {\n        this.validateTopicContentForm();\n        this.changeDetectRef.detectChanges();\n    }\n\n    validateTopicContentForm() {\n        let contentName, webURL1, webURL2, webURL3;\n        contentName = this.trimValue(this.topicContentForm.value.contentTitle);\n        webURL1 = this.trimValue(this.topicContentForm.value.webUrl1);\n        webURL2 = this.trimValue(this.topicContentForm.value.webUrl2);\n        webURL3 = this.trimValue(this.topicContentForm.value.webUrl3);\n        if (contentName === \"\" || contentName === undefined || contentName === null) {\n            this.validateForm = true;\n        }\n        if ((this.uploadedFilePath === \"\" || this.uploadedFilePath === undefined || this.uploadedFilePath === null)) {\n            this.validateForm = true;\n        }\n        if (this.topicContentForm.valid) {\n            this.validateForm = false;\n        }\n        if (this.topicContentForm.invalid) {\n            this.validateForm = true;\n        }\n        if (this.checkUrl1 === true) {\n            if ((webURL1 === \"\" || webURL1 === undefined || webURL1 === null)) {\n                this.validateForm = true;\n            }\n        }\n        if (this.checkUrl2 === true) {\n            if ((webURL2 === \"\" || webURL2 === undefined || webURL2 === null)) {\n                this.validateForm = true;\n            }\n        }\n        if (this.checkUrl3 === true) {\n            if ((webURL3 === \"\" || webURL3 === undefined || webURL3 === null)) {\n                this.validateForm = true;\n            }\n        }\n    }\n\n    nodeOnSelection() {\n        var localThisObj = this;\n        $('#topicsList')\n            .on('changed.jstree', function (e, data) {\n                var i, j;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.generalTopicId = data.node.original.generalTopicId;\n                    localThisObj.topicName = data.node.original.text;\n                    localThisObj.generalTopicContents = [];\n                    localThisObj.orgGeneralTopicContents = [];\n                    localThisObj.ownTopicContents = [];\n                    localThisObj.getTopicContentList(localThisObj.generalTopicId);\n                    localThisObj.getOrgGeneralTopicContentByOrganisationId(localThisObj.generalTopicId);\n                    localThisObj.getOrganisationList();\n                    localThisObj.getContentPreference(localThisObj.generalTopicId);\n                    localThisObj.showContentMapping = true;\n                    localThisObj.selectedOrganisation = null;\n                    localThisObj.updateAction = true;\n                    localThisObj.tableAction = true;\n                }\n            })\n    }\n\n    getTopicContentList(generalTopicId) {\n        this.topicContentService.getTopicDetails(generalTopicId).subscribe(\n            (res: HttpResponse<ITopicAllDetails>) => this.assignResponseToTopicList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignResponseToTopicList(data: ITopicAllDetails) {\n        this.generalTopicContents = [];\n        this.ownTopicContents = [];\n        this.generalTopicContents = data.generalTopicContents;\n        this.sortArrayByOrderNumber(this.generalTopicContents);\n        this.ownTopicContents = data.orgGeneralTopicContents;\n        this.sortArrayByOrderNumber(this.ownTopicContents);\n        if (this.ownTopicContents.length > 0 || this.generalTopicContents.length > 0) {\n            this.dragTableContent();\n        }\n    }\n\n    getOrgGeneralTopicContentByOrganisationId(generalTopicId) {\n        //User login Information for organisationId \n        this.organisationId = this.userLoginService.organisationId;\n        this.topicContentService.getOrgGeneralTopicContentsByOrgId(generalTopicId, this.organisationId).subscribe(\n            (res: HttpResponse<IOrgGeneralTopicContent[]>) => this.assignResponseToOrgTopicList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignResponseToOrgTopicList(data: IOrgGeneralTopicContent[]) {\n        this.orgGeneralTopicContents = [];\n        this.orgGeneralTopicContents = data;\n        this.sortArrayByOrderNumber(this.orgGeneralTopicContents);\n    }\n\n    getOrgTopicContentByOrgId() {\n        let organisationId = this.selectedOrganisation.id;\n        this.topicContentService.getOrgGeneralTopicContentsByOrgId(this.generalTopicId, organisationId).subscribe(\n            (res: HttpResponse<IOrgGeneralTopicContent[]>) => this.assignResponseToOrgTopicContentListByOrgId(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignResponseToOrgTopicContentListByOrgId(data: IOrgGeneralTopicContent[]) {\n        this.orgGeneralTopicContents = [];\n        this.orgGeneralTopicContents = data;\n    }\n\n    checkContentPreference(event) {\n        let check = event.target.checked;\n        let name = event.target.id;\n        if (check === true && name === \"ContentCE\") {\n            this.contentPreferenceStatus = false;\n        } else if (check === true && name === \"OwnContent\") {\n            this.contentPreferenceStatus = true;\n        }\n    }\n\n    saveContentPreference() {\n        if (this.contentPreferenceStatus === false) {\n            if (this.generalTopicContents.length <= 0) {\n                this.pluginService.alertMessage(\"Before set content preference atleast one general topic content is mandatory\", \"error\");\n            } else {\n                this.setContentPreference();\n            }\n        } else if (this.contentPreferenceStatus === true) {\n            if (this.ownTopicContents.length <= 0) {\n                this.pluginService.alertMessage(\"Please add atleast one own topic content and do preference\", \"error\");\n            } else {\n                this.setContentPreference();\n            }\n        }\n    }\n\n    setContentPreference() {\n        this.topicContentService.setContentPreference(this.contentPreferenceStatus, this.generalTopicId, this.organisationId).subscribe(\n            (res: HttpResponse<IContentPreference>) => this.onSuccess(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    onSuccess(data) {\n        this.pluginService.alertMessage(\"Content preference saved successfully\", \"success\");\n    }\n\n    getContentPreference(generalTopicId) {\n        //User login Information for organisationId \n        let orgId = this.userLoginService.organisationId;\n        this.topicContentService.getContentPreference(orgId, generalTopicId).subscribe(\n            (res: HttpResponse<IContentPreference>) => this.onGetPreferenceSuccess(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    onGetPreferenceSuccess(acitveStatus: IContentPreference) {\n        if (acitveStatus === \"\" || acitveStatus === null || acitveStatus === false) {\n            this.checkContentCE = true;\n            this.checkOwnContent = false;\n        } else if (acitveStatus === true) {\n            this.checkContentCE = false;\n            this.checkOwnContent = true;\n        }\n    }\n\n    openSubjectTreeModal() {\n        this.pluginService.showModalWindow(\"#viewSubjectTreeModal\");\n    }\n\n    closeSubjectTreeModal() {\n        this.pluginService.hideModalWindow(\"#viewSubjectTreeModal\")\n    }\n\n    getOrganisationList() {\n        this.organisationService.getOrganisations().subscribe(\n            (res: HttpResponse<IOrganisation[]>) => this.assignOrgList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignOrgList(data: IOrganisation[]) {\n        this.organisations = data;\n    }\n\n    addOwnTopicContent() {\n        this.modalTitleName = \"Add\";\n        this.openTopicContentModal();\n        this.resetFormValues();\n        this.validateForm = false;\n        this.disableDropdown = false;\n        this.selectedContentSource = null;\n        this.selectedContentType = null;\n    }\n\n    viewCETopicContent(contentId) {\n        let contentDetails: IOrgGeneralTopicContent[] = [], contentDetail: IOrgGeneralTopicContent = {};\n        contentDetails = this.generalTopicContents.filter(item => item.id === contentId);\n        contentDetail = contentDetails[0];\n        this.modalTitleName = \"View\";\n        this.getContentDetails(contentDetail);\n        this.openTopicContentModal();\n    }\n\n    patchCEContentFormfields(contentDetails) {\n        this.contentId = contentDetails.id;\n        this.topicContentForm.patchValue({\n            contentTitle: contentDetails.content.title,\n            contentDescription: contentDetails.content.description,\n            webUrl1: contentDetails.content.url1,\n            publisher1: contentDetails.publisher1,\n            webUrl2: contentDetails.content.url2,\n            publisher2: contentDetails.content.publisher2,\n            webUrl3: contentDetails.content.url3,\n            publisher3: contentDetails.content.publisher3\n        });\n        this.selectedContentType = this.contentType.filter(item => item.tag === contentDetails.content.contentType)[0];\n        this.selectedContentSource = this.contentSource.filter(item => item.tag === contentDetails.content.contentSource)[0];\n        if (contentDetails.content.webUrl == contentDetails.content.url1) {\n            this.checkUrl1 = true;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        } else if (contentDetails.content.webUrl == contentDetails.content.url2) {\n            this.checkUrl2 = true;\n            this.checkUrl3 = false;\n            this.checkUrl1 = false;\n        } else if (contentDetails.content.webUrl == contentDetails.content.url3) {\n            this.checkUrl3 = true;\n            this.checkUrl2 = false;\n            this.checkUrl1 = false;\n        } else {\n            this.checkUrl1 = false;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        }\n    }\n\n    viewOrgTopicContent(contentId) {\n        let contentDetails: IOrgGeneralTopicContent[] = [], contentDetail: IOrgGeneralTopicContent = {};\n        contentDetails = this.orgGeneralTopicContents.filter(item => item.id === contentId);\n        contentDetail = contentDetails[0];\n        this.modalTitleName = \"ViewOrg\";\n\n        this.getOwnContentDetails(contentDetail);\n        this.openTopicContentModal();\n    }\n\n    editOwnTopicContent(contentId) {\n        let contentDetails: IOrgGeneralTopicContent[] = [], contentDetail: IOrgGeneralTopicContent = {};\n        contentDetails = this.ownTopicContents.filter(item => item.id === contentId);\n        contentDetail = contentDetails[0];\n        this.modalTitleName = \"Edit\";\n        this.patchContentFormfields(contentDetail);\n        this.openTopicContentModal();\n    }\n\n    viewOwnTopicContent(contentId) {\n        let contentDetails: IOrgGeneralTopicContent[] = [], topicContent: IOrgGeneralTopicContent = {};\n        let contentDetail = {};\n        contentDetail = topicContent.content;\n        contentDetails = this.ownTopicContents.filter(item => item.id === contentId);\n        contentDetail = contentDetails[0];\n        this.modalTitleName = \"ViewOrg\";\n        this.getOwnContentDetails(contentDetail);\n        this.openTopicContentModal();\n    }\n\n    getContentDetails(contentDetail) {\n        this.contentDetails = contentDetail;\n        if (this.contentDetails.content.webUrl == this.contentDetails.content.url1) {\n            this.checkUrl1 = true;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url2) {\n            this.checkUrl2 = true;\n            this.checkUrl3 = false;\n            this.checkUrl1 = false;\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url3) {\n            this.checkUrl3 = true;\n            this.checkUrl2 = false;\n            this.checkUrl1 = false;\n        } else {\n            this.checkUrl1 = false;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        }\n    }\n\n    getOwnContentDetails(contentDetail) {\n        this.contentDetails = contentDetail;\n        if (this.contentDetails.content.webUrl == this.contentDetails.content.url1) {\n            this.checkUrl1 = true;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url2) {\n            this.checkUrl2 = true;\n            this.checkUrl3 = false;\n            this.checkUrl1 = false;\n        } else if (this.contentDetails.content.webUrl == this.contentDetails.content.url3) {\n            this.checkUrl3 = true;\n            this.checkUrl2 = false;\n            this.checkUrl1 = false;\n        } else {\n            this.checkUrl1 = false;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        }\n    }\n\n    patchContentFormfields(contentDetails) {\n        this.contentId = contentDetails.content.id;\n        this.topicContentForm.patchValue({\n            contentTitle: contentDetails.content.title,\n            contentDescription: contentDetails.content.description,\n            webUrl1: contentDetails.content.url1,\n            publisher1: contentDetails.content.publisher1,\n            webUrl2: contentDetails.content.url2,\n            publisher2: contentDetails.content.publisher2,\n            webUrl3: contentDetails.content.url3,\n            publisher3: contentDetails.content.publisher3\n        })\n        // this.selectedContentType = this.contentType.filter(item => item.tag === contentDetails.contentType)[0];\n        // this.selectedContentSource = this.contentSource.filter(item => item.tag === contentDetails.contentSource)[0];\n        // if (this.selectedContentSource) {\n        //     if (this.selectedContentSource.tag === \"WEB_URL\") {\n        if (contentDetails.webUrl == contentDetails.url1) {\n            this.checkUrl1 = true;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        } else if (contentDetails.webUrl == contentDetails.url2) {\n            this.checkUrl2 = true;\n            this.checkUrl3 = false;\n            this.checkUrl1 = false;\n        } else if (contentDetails.webUrl == contentDetails.url3) {\n            this.checkUrl3 = true;\n            this.checkUrl2 = false;\n            this.checkUrl1 = false;\n        } else {\n            this.checkUrl1 = false;\n            this.checkUrl2 = false;\n            this.checkUrl3 = false;\n        }\n        // } else if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\n        //     this.uploadedFileName = contentDetails.fileName;\n        //     this.fileName = contentDetails.fileName;\n        //     this.uploadedFilePath = contentDetails.filePath;\n        // }\n        // }\n    }\n\n    saveTopicContent() {\n        if (this.topicContentForm.valid) {\n            let ownGeneralTopicContents: IOrgGeneralTopicContent[] = [], topiccontent: IOrgGeneralTopicContent = {}, contentDetail = topiccontent.content; contentDetail = {};\n            contentDetail.title = this.trimValue(this.topicContentForm.value.contentTitle);\n            contentDetail.description = this.trimValue(this.topicContentForm.value.contentDescription);\n            contentDetail.url1 = this.trimValue(this.topicContentForm.value.webUrl1);\n            contentDetail.url2 = this.trimValue(this.topicContentForm.value.webUrl2);\n            contentDetail.url3 = this.trimValue(this.topicContentForm.value.webUrl3);\n            contentDetail.publisher1 = this.trimValue(this.topicContentForm.value.publisher1);\n            contentDetail.publisher2 = this.trimValue(this.topicContentForm.value.publisher2);\n            contentDetail.publisher3 = this.trimValue(this.topicContentForm.value.publisher3);\n            contentDetail.contentType = \"VIDEO\";\n            contentDetail.contentSource = \"WEB_URL\";\n            //Below codes are Video and document file upload\n            // contentDetail.contentType = this.selectedContentType.tag;\n            // contentDetail.contentSource = this.selectedContentSource.tag;\n            // if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\n            //     contentDetail.fileName = this.uploadedFileName;\n            //     contentDetail.filePath = this.uploadedFilePath;\n            // } else if (this.selectedContentSource.tag === \"WEB_URL\") {\n            //Active web url assigning condition\n            if (this.checkUrl1 === true) {\n                contentDetail.webUrl = contentDetail.url1;\n                contentDetail.publisher = contentDetail.publisher1;\n            } else if (this.checkUrl2 === true) {\n                contentDetail.webUrl = contentDetail.url2;\n                contentDetail.publisher = contentDetail.publisher2;\n            } else if (this.checkUrl3 === true) {\n                contentDetail.webUrl = contentDetail.url3;\n                contentDetail.publisher = contentDetail.publisher3;\n            } else {\n                //If user not at all changed active url, defaultly it takes first url as active\n                contentDetail.webUrl = contentDetail.url1;\n                contentDetail.publisher = contentDetail.publisher1;\n            }\n            // }\n            ownGeneralTopicContents.push({\n                organisationId: this.userLoginService.organisationId,\n                generalTopicId: this.generalTopicId,\n                content: contentDetail,\n                orderNumber: this.ownTopicContents.length + 1\n            })\n            this.saveTopicContents(ownGeneralTopicContents);\n        }\n        if (this.topicContentForm.invalid) {\n            this.validateForm = true;\n        }\n    }\n\n    saveTopicContents(ownGeneralTopicContents) {\n        this.subscribeToSaveResponse(this.topicContentService.saveOwnTopicContent(ownGeneralTopicContents));\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IOrgGeneralTopicContent[]>>) {\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicContent[]>) => this.onSaveSuccess(res), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    protected onSaveSuccess(res: HttpResponse<IGeneralTopicContent[]>) {\n        this.pluginService.alertMessage(\"Topic content created successfully\", \"success\")\n        this.resetFormValues();\n        this.closeTopicContentModal();\n        this.getTopicContentList(this.generalTopicId);\n    }\n\n    protected onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    updateTopicContents() {\n        if (this.topicContentForm.valid) {\n            let contentDetail: IContent = {};\n            contentDetail = {};\n            contentDetail.id = this.contentId;\n            contentDetail.title = this.trimValue(this.topicContentForm.value.contentTitle);\n            contentDetail.description = this.trimValue(this.topicContentForm.value.contentDescription);\n            contentDetail.url1 = this.trimValue(this.topicContentForm.value.webUrl1);\n            contentDetail.url2 = this.trimValue(this.topicContentForm.value.webUrl2);\n            contentDetail.url3 = this.trimValue(this.topicContentForm.value.webUrl3);\n            contentDetail.publisher1 = this.trimValue(this.topicContentForm.value.publisher1);\n            contentDetail.publisher2 = this.trimValue(this.topicContentForm.value.publisher2);\n            contentDetail.publisher3 = this.trimValue(this.topicContentForm.value.publisher3);\n            contentDetail.contentType = \"VIDEO\";\n            contentDetail.contentSource = \"WEB_URL\";\n            //Below codes are Video and document file upload\n            // contentDetail.contentType = this.selectedContentType.tag;\n            // contentDetail.contentSource = this.selectedContentSource.tag;\n            // if (this.selectedContentSource) {\n            //     //Active web url assigning condition\n            //     if (this.selectedContentSource.tag === \"WEB_URL\") {\n            if (this.checkUrl1 === true) {\n                contentDetail.webUrl = contentDetail.url1;\n                contentDetail.publisher = contentDetail.publisher1;\n            } else if (this.checkUrl2 === true) {\n                contentDetail.webUrl = contentDetail.url2;\n                contentDetail.publisher = contentDetail.publisher2;\n            } else if (this.checkUrl3 === true) {\n                contentDetail.webUrl = contentDetail.url3;\n                contentDetail.publisher = contentDetail.publisher3;\n            } else {\n                //If user not at all changed active url, defaultly it takes first url as active\n                contentDetail.webUrl = contentDetail.url1;\n                contentDetail.publisher = contentDetail.publisher1;\n            }\n            // } else if (this.selectedContentSource.tag === \"FILE_UPLOAD\") {\n            //     contentDetail.fileName = this.uploadedFileName;\n            //     contentDetail.filePath = this.uploadedFilePath;\n            // }\n            // }\n            this.subscribeToUpdateResponse(this.topicContentService.updateContentSource(contentDetail));\n        }\n        if (this.topicContentForm.invalid) {\n            this.validateForm = true;\n        }\n    }\n\n    protected subscribeToUpdateResponse(result: Observable<HttpResponse<IContent>>) {\n        result.subscribe((res: HttpResponse<IContent>) => this.onUpdateSuccess(res), (errRes: HttpErrorResponse) => this.onUpdateError(errRes));\n    }\n\n    protected onUpdateSuccess(res: HttpResponse<IContent>) {\n        this.pluginService.alertMessage(\"Topic content updated successfully\", \"success\")\n        this.resetFormValues();\n        this.closeTopicContentModal();\n        this.getTopicContentList(this.generalTopicId);\n    }\n\n    protected onUpdateError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    openTopicContentModal() {\n        this.pluginService.showModalWindow(\"#topicContentModal\");\n    }\n\n    closeTopicContentModal() {\n        this.pluginService.hideModalWindow(\"#topicContentModal\")\n    }\n\n    resetFormValues() {\n        this.topicContentForm.reset();\n    }\n\n    dragTableContent() {\n        let localThisObj = this;\n        var fixHelperModified = function (e, tr) {\n            var $originals = tr.children();\n            var $helper = tr.clone();\n            $helper.children().each(function (index) {\n                $(this).width($originals.eq(index).width());\n            });\n            return $helper;\n        },\n            updateIndex = function (e, ui) {\n                $(\"td.index\", ui.item.parent()).each(function (i) {\n                    $(this).html(i + 1);\n                });\n                localThisObj.updateTopicContentOrder();\n            };\n        $(\"#dragTable #dragBody\")\n            .sortable({\n                helper: fixHelperModified,\n                stop: updateIndex\n            })\n        $(\"#dragBody\").sortable({\n            distance: 1,\n            opacity: 0, delay: 10,\n            cursor: \"move\",\n            update: function () { }\n        });\n    }\n\n    updateTopicContentOrder() {\n        this.updateAction = false;\n        this.checkOrderNumChange = true;\n        var table: HTMLTableElement = document.querySelector('#dragTable');\n        var rows = table.querySelectorAll('tbody tr');\n        Array.from(rows).forEach((row) => {\n            let list = row.querySelectorAll('td');\n            var contentId = Number(list[0].title);\n            var newOrderNum = Number(list[1].textContent);\n            for (let i = 0; i < this.ownTopicContents.length; i++) {\n                if (this.ownTopicContents[i].id === contentId) {\n                    this.ownTopicContents[i].orderNumber = newOrderNum;\n                    break;\n                }\n            }\n            this.sortArrayByOrderNumber(this.ownTopicContents);\n        })\n    }\n\n    updateOwnTopicContentsWithOrderNumber() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to update order ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.checkOrderNumChange === true) {\n                        localthisObject.subscribeToUpdateTopicContentResponse(localthisObject.topicContentService.updateOwnTopicContents(localthisObject.ownTopicContents));\n                    }\n                }\n            });\n    }\n\n    protected subscribeToUpdateTopicContentResponse(result: Observable<HttpResponse<IOrgGeneralTopicContent[]>>) {\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicContent[]>) => this.onUpdateTopicContentSuccess(res), (errRes: HttpErrorResponse) => this.onUpdateTopicContentError(errRes));\n    }\n\n    protected onUpdateTopicContentSuccess(res: HttpResponse<IOrgGeneralTopicContent[]>) {\n        this.pluginService.alertMessage(\"Topic content order updated successfully\", \"success\");\n        this.getTopicContentList(this.generalTopicId);\n        this.updateAction = true;\n        this.resetFormValues();\n    }\n\n    protected onUpdateTopicContentError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    resetSelectedOwnTopicContent() {\n        this.contentIds = [];\n        this.tableAction = true;\n        $(\".checkAll\").prop(\"checked\", false);\n    }\n\n    checkSelectedOwnContents(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = Number(event.target.title);\n        if (checked === true) {\n            this.tableAction = false;\n            this.contentIds.push(selectedId);\n        } else if (checked === false) {\n            index = this.contentIds.findIndex(item => item === selectedId);\n            this.contentIds.splice(index, 1)\n        }\n        this.contentIds = this.removeDuplicateElements(this.contentIds);\n        if (this.contentIds.length <= 0) {\n            this.tableAction = true;\n        }\n    }\n\n    removeDuplicateElements(array) {\n        var temp = [];\n        for (var i = 0; i < array.length; i++) {\n            if (temp.indexOf(array[i]) == -1) {\n                temp.push(array[i]);\n            }\n        }\n        return temp;\n    }\n\n    sortArrayByOrderNumber(array: any[]) {\n        array.sort((a, b) => (a.orderNumber > b.orderNumber) ? 1 : -1);\n    }\n\n    deleteOwnTopicContents() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete content ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.contentIds.length > 0) {\n                        localthisObject.subscribeToDeleteResponse(localthisObject.topicContentService.deleteOwnTopicContents(localthisObject.contentIds));\n                    }\n                }\n            });\n    }\n\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IOrgGeneralTopicContent>>) {\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicContent>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onDeleteError(errRes));\n    }\n\n    protected onDeleteSuccess(res: HttpResponse<IOrgGeneralTopicContent>) {\n        this.pluginService.alertMessage(\"Topic content deleted successfully\", \"success\");\n        this.tableAction = true;\n        this.contentIds = [];\n        this.getTopicContentList(this.generalTopicId);\n    }\n\n    protected onDeleteError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not delete, please contact admin\", \"error\")\n    }\n\n    toggleTreeNodes() {\n        this.enableExpandNode = !this.enableExpandNode;\n        if (this.enableExpandNode) {\n            this.pluginService.openJsTreeAllNodes(\"#viewTree\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#viewTree\")\n        }\n    }\n\n    closeTopicContentModalWithOutSaving() {\n        if (this.modalTitleName === \"View\" || this.modalTitleName === \"ViewOrg\") {\n            this.closeTopicContentModal();\n        } else if (this.modalTitleName === \"Add\" || this.modalTitleName === \"Edit\") {\n            var localthisObject = this;\n            swal({\n                title: \"Are you sure to close without saving ?\",\n                type: \"warning\",\n                showCancelButton: true,\n                confirmButtonText: \"Yes\",\n                confirmButtonColor: \"#32b432\",\n                cancelButtonText: \"No\",\n                closeOnConfirm: true,\n                closeOnCancel: true\n            },\n                function (isConfirm) {\n                    if (isConfirm === true) {\n                        localthisObject.closeTopicContentModal();\n                    }\n                });\n        }\n    }\n}\n","module.exports = \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n    </div>\\n</div>\\n\\n<div id=\\\"stepperTab\\\">\\n    <ul id=\\\"progressbar\\\">\\n        <li class=\\\"active\\\">\\n            <span class=\\\"bar\\\">\\n            </span>\\n        </li>\\n        <li>\\n            <span class=\\\"bar\\\">\\n            </span>\\n        </li>\\n        <li>\\n            <span class=\\\"bar\\\">\\n            </span>\\n        </li>\\n        <li>\\n        </li>\\n    </ul>\\n\\n    <fieldset>\\n        <div class=\\\"row pb-4\\\">\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\n                <p class=\\\"font-20 text-warning\\\">Step 1 - Select question type</p>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-xxl-12\\\">\\n                <pick-question-type></pick-question-type>\\n            </div>\\n        </div>\\n\\n        <button class=\\\"next btn btn-success float-right\\\" [disabled]=\\\"validateQuestionType\\\">\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n        </button>\\n\\n    </fieldset>\\n\\n    <fieldset>\\n        <div class=\\\"row mb-2\\\">\\n            <div class=\\\"col-xxl-12 mb-2 alert-warning p-3\\\">\\n                <p class=\\\"font-20 text-warning\\\">Step 2 - Build question</p>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-xxl-12 mx-3\\\">\\n                <div class=\\\"form-group mb-2 row d-flex justify-content-between flex-wrap mb-2\\\">\\n                    <label class=\\\"font-16 mb-3\\\">Select question category</label>\\n                    <div class=\\\"d-flex w-100 row\\\">\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let category of questionCategory\\\">\\n                            <input type=\\\"radio\\\" id=\\\"{{category.name}}\\\" name=\\\"assessmentCategory\\\"\\n                                (click)=\\\"onSelectQuestionCategory(category.tag)\\\" [checked]=\\\"category.checked\\\">\\n                            <label for=\\\"{{category.name}}\\\">{{category.name}}</label>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group  row d-flex justify-content-between flex-wrap mb-2\\\">\\n                    <label class=\\\"font-16 mb-3\\\">Select question complexity level</label>\\n                    <div class=\\\"d-flex w-100 row\\\">\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let level of questionComplexityLevel\\\">\\n                            <input type=\\\"radio\\\" id=\\\"{{level.name}}\\\" name=\\\"complexityLevel\\\" [checked]=\\\"level.checked\\\"\\n                                (click)=\\\"onSelectComplexityLevel(level.value)\\\">\\n                            <label for=\\\"{{level.name}}\\\">{{level.name}}</label>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"w-100\\\">\\n            <router-outlet></router-outlet>\\n        </div>\\n\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\" [disabled]=\\\"validateQuestion\\\">\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n        </button>\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\n        </div>\\n    </fieldset>\\n\\n    <fieldset>\\n        <div class=\\\"row pb-4\\\">\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\n                <p class=\\\"font-20 text-warning\\\">Step 3 - Add solution content (Optional)</p>\\n            </div>\\n        </div>\\n        \\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-xxl-12 mb-2\\\">\\n                <label for=\\\"\\\">Solution content</label>\\n                <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"solutionContent\\\"\\n                    #questionInput=\\\"ngModel\\\" placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"\\n                    [required]=\\\"true\\\">\\n                </ckeditor>\\n            </div>\\n        </div>\\n\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\" (click)=\\\"loadPreviewQuestion()\\\">\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n        </button>\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\n        </div>\\n    </fieldset>\\n\\n    <fieldset>\\n        <div class=\\\"row pb-4\\\">\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\n                <p class=\\\"font-20 text-warning\\\">Step 4 - Summary</p>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"w-100\\\">\\n            <div\\n                *ngIf='questionType === \\\"MCQ_SINGLE\\\" || questionType === \\\"MCQ_MULTIPLE\\\" || questionType === \\\"MCQ_TRUE_FALSE\\\"'>\\n                <div class=\\\"row mb-3\\\">\\n                    <div class=\\\"col-xxl-12\\\">\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\n                            </span>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"row mb-3 p-3\\\">\\n                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\n                        *ngFor=\\\"let choice of questionResource.Choices;let i = index\\\">\\n                        <div [ngClass]=\\\"{'radio': type === 'radio','checkbox': type === 'checkbox'}\\\">\\n                            <input type=\\\"{{type}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" disabled readonly>\\n                            <label for=\\\"{{choice.ChoiceId}}\\\">\\n                                <span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span>\\n                            </label>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"mb-3 font-18\\\">\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\n                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                            *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                            <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\n                            {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n                    </div>\\n                </div>\\n            </div>\\n            <div *ngIf='questionType === \\\"MCQ_CHOICE_MATRIX\\\"'>\\n                <div class=\\\"row mb-3\\\">\\n                    <div class=\\\"col-xxl-12\\\">\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\n                            </span>\\n                        </div>\\n                    </div>\\n                </div>\\n                <table class=\\\"border-collapse my-2 font-18 p-3\\\" style=\\\"pointer-events: none\\\">\\n                    <tr class=\\\"bg-lightgray\\\">\\n                        <td></td>\\n                        <td *ngFor=\\\"let option of questionResource.Options\\\">\\n                            <span [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\n                        </td>\\n                    </tr>\\n                    <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of questionResource.Choices\\\">\\n                        <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\n                        <td *ngFor=\\\"let option of questionResource.Options\\\">\\n                            <div class=\\\"radio\\\">\\n                                <input type=\\\"radio\\\" disabled readonly [id]=\\\"option.OptionId+choice.ChoiceId\\\"\\n                                    name=\\\"{{ choice.ChoiceId }}\\\">\\n                                <label for=\\\"{{option.OptionId+choice.ChoiceId}}\\\"></label>\\n                            </div>\\n                        </td>\\n                    </tr>\\n                </table>\\n                <div class=\\\"mb-3 font-18\\\">\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\n                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                            *ngFor=\\\"let data of answers;let checkIndex =index\\\">\\n                            <span [MathJax]=\\\"data.choiceName | sanitizeHtml\\\"></span> -\\n                            <span [MathJax]=\\\"data.optionName | sanitizeHtml\\\"></span>\\n                            {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n                    </div>\\n                </div>\\n            </div>\\n            <div *ngIf='questionType === \\\"MCQ_MATCH_LIST\\\"'>\\n                <div class=\\\"row mb-3\\\">\\n                    <div class=\\\"col-xxl-12\\\">\\n                        <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\n                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\n                            </span>\\n                        </div>\\n                    </div>\\n                </div>\\n                <ng-container *ngFor=\\\"let answer of answers\\\">\\n                    <div class=\\\"choice-container\\\">\\n                        <div class=\\\"item\\\">\\n                            <div class=\\\"choice--group\\\">\\n                                <div class=\\\"choice--label\\\">\\n                                    <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\n                                </div>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"line-circle\\\">\\n                        </div>\\n                        <div class=\\\"item\\\">\\n                            <div class=\\\"drag--container\\\">\\n                                <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\n                                    [MathJax]=\\\"answer.optionName | sanitizeHtml\\\">\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </ng-container>\\n                <div class=\\\"mb-3 font-18\\\">\\n                    <div class=\\\"border-success p-3 alert-success\\\">\\n                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                            *ngFor=\\\"let data of answers;let checkIndex =index\\\">\\n                            <span [MathJax]=\\\"data.choiceName | sanitizeHtml\\\"></span> -\\n                            <span [MathJax]=\\\"data.optionName | sanitizeHtml\\\"></span>\\n                            {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div *ngIf=\\\"showSaveQuestion\\\">\\n            <button class=\\\"btn btn-success float-right ml-2\\\" (click)=\\\"saveQuestion()\\\" [disabled]=\\\"showAddQuestion\\\">\\n                <i class=\\\"fa fa-save mr-2\\\"></i>\\n                Save question\\n            </button>\\n        </div>\\n\\n        <div *ngIf=\\\"showAddQuestion\\\">\\n            <button class=\\\"btn btn-info float-right\\\" (click)=\\\"addQuestion()\\\">\\n                <i class=\\\"fa fa-plus-circle mr-2\\\"></i>\\n                Add one more question\\n            </button>\\n        </div>\\n\\n        <div class=\\\"previous btn btn-danger float-right mr-2\\\" (click)=\\\"resetPreviewQuestions()\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\n        </div>\\n    </fieldset>\\n</div>\"","import { Component, OnInit, ChangeDetectorRef, AfterViewChecked } from \"@angular/core\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { Observable } from 'rxjs';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\nimport { IOrgGeneralTopicQuestion } from '../../shared/model/content/org-general-topic-question.model';\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\nimport { CommonService } from '../../shared/common/common.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./topic-question-create.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class CurriculumTopicQuestionCreateComponent implements OnInit, AfterViewChecked {\n    questionResource: any = {};\n    questionCategory: any[] = [];\n    questionComplexityLevel: any[] = [];\n    answers: any[] = [];\n    contentSource: any[] = [];\n    questionType: string;\n    type: string;\n    category: string;\n    selectedContentSource: string;\n    complexityLevel: number;\n    generalTopicId: number;\n    organisationId: number;\n    validateQuestionType: boolean;\n    validateQuestion: boolean;\n    showSaveQuestion: boolean;\n    showAddQuestion: boolean;\n    solutionContent: any;\n    editorSolutionConfig: any;\n\n    constructor(\n        public activatedRoute: ActivatedRoute,\n        public router: Router,\n        public pluginService: PluginService,\n        public questionBuilderService: QuestionBuilderService,\n        public questionService: SyllabusLessonTopicService,\n        public formBuilder: FormBuilder,\n        public userLoginService: UserLoginInfoService,\n        public commonService: CommonService,\n        public changedetector: ChangeDetectorRef\n    ) {\n        this.editorSolutionConfig = this.pluginService.getCKEditorQuestionConfig();\n        this.showSaveQuestion = false;\n        this.showAddQuestion = false;\n        this.validateQuestionType = true;\n    }\n\n    ngOnInit() {\n        this.pluginService.sideMenuToggle();\n        this.pluginService.newStepperJs();\n        this.generalTopicId = Number(this.activatedRoute.snapshot.paramMap.get('id'));\n        this.getContentSource();\n        this.getQuestionCategory();\n        this.getQuestionComplexityLevel();\n    }\n\n    getContentSource() {\n        this.commonService.getContentSourceList().subscribe((data: any) => {\n            this.contentSource = data;\n        });\n    }\n\n    getQuestionCategory() {\n        this.commonService.getQuestionCategoryList().subscribe((data: any) => {\n            this.questionCategory = data;\n        });\n    }\n\n    getQuestionComplexityLevel() {\n        this.commonService.getQuestionComplexityLevelList().subscribe((data: any) => {\n            this.questionComplexityLevel = data;\n        });\n    }\n\n    ngAfterViewChecked() {\n        this.validateQuestionTypeSelectedOrNot();\n        this.changedetector.detectChanges();\n    }\n\n    validateQuestionTypeSelectedOrNot() {\n        let currentRoute, splitUrl: any[] = [], lastItem;\n        currentRoute = this.router.url;\n        splitUrl = currentRoute.split(\"/\");\n        lastItem = splitUrl.pop();\n        if (lastItem === 'topic-question-create') {\n            this.validateQuestionType = true;\n        } else {\n            this.validateQuestionType = false;\n        }\n    }\n\n    loadPreviewQuestion() {\n        let duplicateChoices: any[] = [], choiceText, question: any, choices: any[] = [], choiceId, answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\n        this.questionResource = [];\n        this.questionResource.Choices = [];\n        this.questionResource.Options = [];\n        this.questionResource.Answers = [];\n        this.questionResource = [];\n        this.questionResource = this.questionBuilderService.getQuestionResource;\n        this.questionType = this.questionResource.QuestionType;\n        answers = this.questionResource.Answers;\n        this.onChangeOptionType(this.questionType);\n        question = this.questionResource.Question;\n        if (question === \"\" || question === \"undefined\") {\n            //\"Question is missing, please fill question detail\";\n            this.validateQuestion = true;\n        } else if (question.length > 2) {\n            if (answers.length > 0) {\n                if (this.questionType === \"MCQ_SINGLE\" || this.questionType === \"MCQ_MULTIPLE\" || this.questionType === \"MCQ_TRUE_FALSE\") {\n                    this.answers = [];\n                    duplicateChoices = this.questionResource.Choices;\n                    if (duplicateChoices.length > 0) {\n                        choices = [];\n                        for (let i = 0; i < duplicateChoices.length; i++) {\n                            choiceId = duplicateChoices[i].ChoiceId\n                            choiceText = duplicateChoices[i].ChoiceText\n                            choices.push({\n                                \"choiceId\": choiceId,\n                                \"choiceText\": choiceText\n                            });\n                        }\n                        for (let j = 0; j < answers.length; j++) {\n                            let answerText = choices.find(item => item.choiceId === answers[j]).choiceText;\n                            this.answers.push(answerText);\n                            answerText = \"\"\n                        }\n                        this.validateQuestion = false;\n                    } else {\n                        //\"Choices are missing, Please fill the choices\";\n                        this.validateQuestion = true;\n                    }\n\n                } else if (this.questionType === \"MCQ_CHOICE_MATRIX\") {\n                    this.answers = [];\n                    matrixChoices = [];\n                    matrixOptions = [];\n                    matrixChoices = this.questionResource.Choices;\n                    matrixOptions = this.questionResource.Options;\n                    if (matrixChoices.length > 0 && matrixOptions.length > 0) {\n                        if (answers.length > 0) {\n                            this.answers = [];\n                            for (let k = 0; k < answers.length; k++) {\n                                this.answers.push({\n                                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\n                                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\n                                })\n                            }\n                        }\n                        this.validateQuestion = false;\n                    } else {\n                        //\"Choices and options are missing, please fill the details\";\n                        this.validateQuestion = true;\n                    }\n\n                } else if (this.questionType === \"MCQ_MATCH_LIST\") {\n                    matrixChoices = [];\n                    matrixOptions = [];\n                    matrixChoices = this.questionResource.Choices;\n                    matrixOptions = this.questionResource.Options;\n                    if (matrixChoices.length > 0 && matrixOptions.length > 0) {\n                        if (answers.length > 0) {\n                            this.answers = [];\n                            for (let k = 0; k < answers.length; k++) {\n                                this.answers.push({\n                                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\n                                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\n                                })\n                            }\n                        }\n                        this.validateQuestion = false;\n                    } else {\n                        //\"Left side and right side options are missing, please fill the details\";\n                        this.validateQuestion = true;\n                    }\n                }\n                this.showSaveQuestion = true;\n            }\n            else {\n                //\"Answer is missing, please select a answer\";\n                this.validateQuestion = true;\n            }\n        }\n    }\n\n    onContentSource(sourceName) {\n        this.selectedContentSource = sourceName;\n    }\n\n    onSelectQuestionCategory(value) {\n        this.category = value;\n    }\n\n    onSelectComplexityLevel(value) {\n        this.complexityLevel = value;\n    }\n\n    onChangeOptionType(questionType) {\n        if (questionType === \"MCQ_SINGLE\" || questionType === \"MCQ_TRUE_FALSE\") {\n            this.type = \"radio\";\n        } else if (questionType === \"MCQ_MULTIPLE\") {\n            this.type = \"checkbox\";\n        } else {\n            this.type = \"\";\n        }\n    }\n\n    resetPreviewQuestions() {\n        this.questionResource = [];\n        this.answers = [];\n    }\n\n    saveQuestion() {\n        let questionResource: IOrgGeneralTopicQuestion = {}, questionDetails, updatedQuestionResource;\n        questionResource.question = {};\n        //User login Information for organisationId \n        if (this.category) {\n            questionResource.question.category = this.category;\n        } else {\n            questionResource.question.category = this.questionCategory[0].tag;\n        }\n        if (this.complexityLevel) {\n            questionResource.question.complexityLevel = this.complexityLevel;\n        } else {\n            questionResource.question.complexityLevel = 1;\n        }\n        this.organisationId = this.userLoginService.organisationId;\n        updatedQuestionResource = this.questionBuilderService.getQuestionResource;\n        questionResource.question.marks = updatedQuestionResource.TotalMarks;\n        questionDetails = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedQuestionResource));\n        questionResource.question.contentJson = questionDetails;\n        questionResource.generalTopicId = this.generalTopicId;\n        questionResource.question.generalTopicId = this.generalTopicId;\n        questionResource.organisationId = this.organisationId;\n        questionResource.question.solutionJson = this.questionBuilderService.convertJsonToString(JSON.stringify(this.solutionContent));\n        this.subscribeToSaveResponse(this.questionService.saveOwnTopicQuestion(questionResource));\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IOrgGeneralTopicQuestion>>) {\n        result.subscribe((resp: HttpResponse<IOrgGeneralTopicQuestion>) => this.onSaveSuccess(resp), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    protected onSaveSuccess(res: HttpResponse<IOrgGeneralTopicQuestion>) {\n        this.pluginService.alertMessage(\"Own topic question created successfully\", \"success\");\n        this.showAddQuestion = true;\n        this.showSaveQuestion = false;\n    }\n\n    protected onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    onBack() {\n        var localObj = this;\n        swal({\n            title: \"Are you sure to go previous page ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm) {\n                    localObj.router.navigateByUrl('/lesson-topic/topic-question');\n                    localObj.pluginService.sideMenuToggle();\n                }\n            });\n    }\n\n    addQuestion() {\n        window.location.reload();\n        this.questionType = \"\";\n        this.showSaveQuestion = true;\n    }\n}","module.exports = \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n    </div>\\n    <a class=\\\"btn btn-success\\\" (click)=\\\"editQuestionRoute()\\\">\\n        <i class=\\\"fa fa-edit mr-2\\\"></i> Edit question\\n    </a>\\n</div>\\n<div *ngIf='questionType === \\\"MCQ_SINGLE\\\" || questionType === \\\"MCQ_MULTIPLE\\\" || questionType === \\\"MCQ_TRUE_FALSE\\\"'>\\n    <div class=\\\"row mb-3\\\">\\n        <div class=\\\"col-xxl-12\\\">\\n            <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\n                <span class=\\\"text-info\\\">Question&nbsp;:&nbsp;</span>\\n                <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n    <div class=\\\"row mb-3 p-3\\\">\\n        <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\n            *ngFor=\\\"let choice of questionResource.Choices;let i = index\\\">\\n            <div [ngClass]=\\\"{'radio': type === 'radio','checkbox': type === 'checkbox'}\\\">\\n                <input type=\\\"{{type}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" [answers]=\\\"questionResource.Answers\\\"\\n                    [choiceid]=\\\"choice.ChoiceId\\\" disabled readonly>\\n                <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\n            </div>\\n            <label for=\\\"{{choice.ChoiceId}}\\\">\\n                <span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span>\\n            </label>\\n        </div>\\n    </div>\\n    <div class=\\\"mb-3 font-18\\\">\\n        <div class=\\\"border-success p-3 alert-success\\\">\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n        </div>\\n    </div>\\n</div>\\n<div *ngIf='questionType === \\\"MCQ_CHOICE_MATRIX\\\"'>\\n    <div class=\\\"row mb-3\\\">\\n        <div class=\\\"col-xxl-12\\\">\\n            <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\n                <span class=\\\"text-info\\\">Question&nbsp;:&nbsp;</span>\\n                <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n    <table class=\\\"border-collapse my-2 font-18 p-3\\\" style=\\\"pointer-events: none\\\">\\n        <tr class=\\\"bg-lightgray\\\">\\n            <td></td>\\n            <td *ngFor=\\\"let option of questionResource.Options\\\">\\n                <span [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\n            </td>\\n        </tr>\\n        <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of questionResource.Choices\\\">\\n            <td><span [MathJax]=\\\"choice.ChoiceText\\\"></span></td>\\n            <td *ngFor=\\\"let option of questionResource.Options\\\">\\n                <div class=\\\"radio\\\">\\n                    <input type=\\\"radio\\\" disabled readonly [id]=\\\"option.OptionId+choice.ChoiceId\\\"\\n                        [choicematrix]=\\\"questionResource.Answers\\\" [optionid]=\\\"option.OptionId\\\"\\n                        [choiceid]=\\\"choice.ChoiceId\\\" name=\\\"{{ choice.ChoiceId }}\\\">\\n                    <label for=\\\"{{option.OptionId+choice.ChoiceId}}\\\"></label>\\n                </div>\\n            </td>\\n        </tr>\\n    </table>\\n    <div class=\\\"mb-3 font-18\\\">\\n        <div class=\\\"border-success p-3 alert-success\\\">\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> -\\n                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n        </div>\\n    </div>\\n</div>\\n<div *ngIf='questionType === \\\"MCQ_MATCH_LIST\\\"'>\\n    <div class=\\\"row mb-3\\\">\\n        <div class=\\\"col-xxl-12\\\">\\n            <div class=\\\"border-info p-3 alert-info font-18\\\" style=\\\"line-height: 24px;\\\">\\n                <span class=\\\"text-info\\\">Question&nbsp;:&nbsp;</span>\\n                <span class=\\\"text-dark\\\" [MathJax]=\\\"questionResource.Question | sanitizeHtml\\\">\\n                </span>\\n            </div>\\n        </div>\\n    </div>\\n    <ng-container *ngFor=\\\"let answer of answers\\\">\\n        <div class=\\\"choice-container\\\">\\n            <div class=\\\"item\\\">\\n                <div class=\\\"choice--group\\\">\\n                    <div class=\\\"choice--label\\\">\\n                        <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"line-circle\\\">\\n            </div>\\n            <div class=\\\"item\\\">\\n                <div class=\\\"drag--container\\\">\\n                    <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\n                        [MathJax]=\\\"answer.optionName | sanitizeHtml\\\">\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </ng-container>\\n    <div class=\\\"mb-3 font-18\\\">\\n        <div class=\\\"border-success p-3 alert-success\\\">\\n            <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> -\\n                <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\n                {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder } from '@angular/forms';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\nimport { IQuestion } from '../../shared/model/content/question.model';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./topic-question-details.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class CurriculumTopicQuestionDetailsComponent implements OnInit {\n    questionResource: any = {};\n    matchList: any[] = [];\n    answers: any[] = [];\n    questionType: string;\n    questionId: number;\n    type: string;\n    currentRoute: string;\n\n    constructor(\n        public activatedRoute: ActivatedRoute,\n        public router: Router,\n        public pluginService: PluginService,\n        public questionBuilderService: QuestionBuilderService,\n        public questionService: SyllabusLessonTopicService,\n        public formBuilder: FormBuilder,\n        public userLoginService: UserLoginInfoService\n    ) {\n        this.getCurrentRouteInfo()\n    }\n\n    getCurrentRouteInfo() {\n        let splitArray: any[] = [], currentUrl;\n        currentUrl = this.router.url\n        splitArray = currentUrl.split('/');\n        this.currentRoute = splitArray.pop();\n    }\n\n    ngOnInit() {\n        this.pluginService.sideMenuToggle();\n        this.activatedRoute.params.subscribe(params => {\n            this.questionId = params['id'];\n            this.getQuestionDetail(this.questionId);\n        });\n    }\n\n    getQuestionDetail(questionId) {\n        this.questionService\n            .getQuestionByQuestionId(questionId)\n            .subscribe(\n                (res: HttpResponse<IQuestion>) => this.assignQuestionResource(res.body),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            );\n    }\n\n    assignQuestionResource(data: IQuestion) {\n        let questionResource = {};\n        questionResource = data;\n        this.loadPreviewQuestion(questionResource);\n    }\n\n    onError(resp) {\n        this.pluginService.alertMessage(\"Could not get question detail please contact admin\", \"error\");\n    }\n\n    loadPreviewQuestion(questionResource) {\n        let duplicateChoices: any[] = [], choiceText, choiceId, choices: any[] = [], question: any, answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\n        this.questionResource = [];\n        this.questionResource = this.questionBuilderService.convertStringToJson(questionResource.contentJson);\n        this.questionType = this.questionResource.QuestionType;\n        this.onChangeOptionType(this.questionType);\n        question = this.questionResource.Question;\n        if (this.questionType === \"MCQ_SINGLE\" || this.questionType === \"MCQ_MULTIPLE\" || this.questionType === \"MCQ_TRUE_FALSE\") {\n            duplicateChoices = this.questionResource.Choices;\n            answers = this.questionResource.Answers;\n            for (let i = 0; i < duplicateChoices.length; i++) {\n                choiceId = duplicateChoices[i].ChoiceId\n                choiceText = duplicateChoices[i].ChoiceText\n                choices.push({\n                    \"choiceId\": choiceId,\n                    \"choiceText\": choiceText\n                });\n            }\n            for (let j = 0; j < answers.length; j++) {\n                let answerText = choices.find(item => item.choiceId === answers[j]).choiceText;\n                this.answers.push(answerText);\n                answerText = \"\"\n            }\n        } else if (this.questionType === \"MCQ_CHOICE_MATRIX\") {\n            this.answers = [];\n            answers = this.questionResource.Answers;\n            matrixChoices = this.questionResource.Choices;\n            matrixOptions = this.questionResource.Options;\n            for (let k = 0; k < answers.length; k++) {\n                this.answers.push({\n                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\n                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\n                })\n            }\n        } else if (this.questionType === \"MCQ_MATCH_LIST\") {\n            this.answers = [];\n            matrixChoices = [];\n            matrixOptions = [];\n            answers = this.questionResource.Answers;\n            matrixChoices = this.questionResource.Choices;\n            matrixOptions = this.questionResource.Options;\n            for (let k = 0; k < answers.length; k++) {\n                this.answers.push({\n                    choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\n                    optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\n                })\n            }\n        }\n    }\n\n    onChangeOptionType(questionType) {\n        if (questionType === \"MCQ_SINGLE\" || questionType === \"MCQ_TRUE_FALSE\") {\n            this.type = \"radio\";\n        } else if (questionType === \"MCQ_MULTIPLE\") {\n            this.type = \"checkbox\";\n        } else {\n            this.type = \"\";\n        }\n    }\n\n    resetPreviewQuestions() {\n        this.questionResource = [];\n        this.answers = [];\n    }\n\n    editQuestionRoute() {\n        if (this.currentRoute === \"topic-question-view\") {\n            this.router.navigate(['/lesson-topic', this.questionId, 'topic-question-edit']);\n        } else if (this.currentRoute === \"general-topic-question-view\") {\n            this.router.navigate(['/general-concept-and-topic', this.questionId, 'general-topic-question-edit']);\n        }\n    }\n\n    onBack() {\n        var localObj = this;\n        swal({\n            title: \"Are you sure to go previous page ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm) {\n                    localObj.previousUrl();\n                    localObj.pluginService.sideMenuToggle();\n                }\n            });\n    }\n\n    public previousUrl() {\n        if (this.currentRoute === \"topic-question-view\") {\n            this.router.navigateByUrl('/lesson-topic/topic-question');\n        } else if (this.currentRoute === \"general-topic-question-view\") {\n            this.router.navigateByUrl('/general-concept-and-topic/general-topic-question');\n        } else {\n            this.router.navigateByUrl('../')\n        }\n    }\n}","module.exports = \"<div class=\\\"col-12 filterbg my-4 rounded\\\">\\n    <div class=\\\"filtericon font-20\\\">\\n        <i class=\\\"fa fa-filter\\\"></i>\\n    </div>\\n    <div class=\\\"row d-flex justify-content-start align-items-center\\\">\\n        <div class=\\\"col-lg-3 mb-3\\\">\\n            <ng-select [items]=\\\"curriculumList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"acronym\\\"\\n                placeholder=\\\"Select curriculum\\\" [(ngModel)]=\\\"selectedCurriculum\\\" (change)=\\\"onCurriculumChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedCurriculum\\\">\\n            <ng-select [items]=\\\"gradeList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                placeholder=\\\"Select grade\\\" [(ngModel)]=\\\"selectedGrade\\\" (change)=\\\"onGradeChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedGrade\\\">\\n            <ng-select [items]=\\\"subjectList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"subject\\\"\\n                placeholder=\\\"Select subject\\\" [(ngModel)]=\\\"selectedSubject\\\" (change)=\\\"onSubjectChange()\\\">\\n            </ng-select>\\n        </div>\\n        <div class=\\\"col-lg-3 mb-3\\\" *ngIf=\\\"selectedSubject\\\">\\n            <ng-select [items]=\\\"lessonList\\\" [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"text\\\"\\n                placeholder=\\\"Select lesson\\\" [(ngModel)]=\\\"selectedLesson\\\">\\n            </ng-select>\\n        </div>\\n    </div>\\n    <div class=\\\"d-flex justify-content-end pb-3 row\\\">\\n        <div class=\\\"col-lg-2\\\">\\n            <button class=\\\"btn btn-success float-right waves-effect waves-light\\\" (click)=\\\"getLessonTopicList()\\\">\\n                <i class=\\\"fa fa-filter mr-1\\\"></i>Apply\\n            </button>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"w-100 d-flex justify-content-between align-items-center\\\" *ngIf=\\\"showTopicHeading\\\">\\n    <h5 class=\\\"font-20 mb-2\\\">Lesson topics</h5>\\n    <div class=\\\"btn btn-primary\\\" (click)=\\\"openSubjectTreeModal()\\\">\\n        <i class=\\\"fa fa-eye mr-2\\\"></i>\\n        View subject tree\\n    </div>\\n</div>\\n\\n<div class=\\\"row\\\">\\n    <div class=\\\"col-xxl-3\\\">\\n        <div id=\\\"topicsList\\\"></div>\\n    </div>\\n    <div class=\\\"col-xxl-9 mb-3\\\">\\n        <div class=\\\"py-2\\\" *ngIf=\\\"showQuestionMapping\\\">\\n            <div class=\\\"d-flex w-100 justify-content-between align-items-center mb-2 flex-wrap\\\">\\n                <div class=\\\"filterbg p-3 mb-2 w-100\\\">\\n                    <p class=\\\"font-20\\\">Content preference for {{topicName}}</p>\\n                    <div class=\\\"row m-0 mb-2\\\">\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\n                            <input type=\\\"radio\\\" class=\\\"form-check-input\\\" id=\\\"QuestionCE\\\" name=\\\"question\\\"\\n                                [checked]=\\\"checkQuestionCE\\\" (change)=\\\"checkQuestionPreference($event)\\\">\\n                            <label for=\\\"QuestionCE\\\">Recommended by CE</label>\\n                        </div>\\n                        <div class=\\\"col-md-6 radio px-0\\\">\\n                            <input type=\\\"radio\\\" class=\\\"form-check-input\\\" id=\\\"OwnQuestion\\\" name=\\\"question\\\"\\n                                [checked]=\\\"checkOwnQuestion\\\" (change)=\\\"checkQuestionPreference($event)\\\">\\n                            <label for=\\\"OwnQuestion\\\">Use\\n                                our own question</label>\\n                        </div>\\n                    </div>\\n                    <div class=\\\"row mx-0\\\">\\n                        <div class=\\\"w-100 d-flex justify-content-end\\\" (click)=\\\"saveQuestionPreference()\\\">\\n                            <div class=\\\"btn btn-success\\\">\\n                                <i class=\\\"fa fa-save mr-2\\\"></i>Save\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"tab w-100\\\">\\n                    <ul class=\\\"nav nav-tabs\\\" role=\\\"tablist\\\">\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show active\\\" id=\\\"home-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#home\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"home\\\" aria-selected=\\\"false\\\">Recommended\\n                                by CE </a>\\n                        </li>\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show\\\" id=\\\"profile-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#profile\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"profile\\\" aria-selected=\\\"true\\\">Recommended by\\n                                organizations</a>\\n                        </li>\\n                        <li class=\\\"nav-item\\\">\\n                            <a class=\\\"nav-link show\\\" id=\\\"portfolio-tab\\\" data-toggle=\\\"tab\\\" href=\\\"#portfolio\\\" role=\\\"tab\\\"\\n                                aria-controls=\\\"portfolio\\\" aria-selected=\\\"false\\\"> Own\\n                                question </a>\\n                        </li>\\n                    </ul>\\n                    <div class=\\\"tab-content\\\">\\n                        <div class=\\\"tab-pane fade py-3 active show\\\" id=\\\"home\\\" role=\\\"tabpanel\\\"\\n                            aria-labelledby=\\\"home-tab\\\">\\n                            <div class=\\\"row\\\" *ngIf=\\\"generalTopicQuestions.length > 0\\\">\\n                                <div class=\\\"col-xxl-12 flex-wrap d-flex justify-content-lg-end\\\">\\n                                    <div class=\\\"btn btn-info mb-2 mr-2\\\"\\n                                        (click)=\\\"openGeneralTopicPreviewQuestionModal()\\\">\\n                                        <i class=\\\"fa fa-list-alt mr-2\\\"></i> Preview questions\\n                                    </div>\\n                                    <div class=\\\"btn btn-success mb-2\\\" (click)=\\\"openGeneralTopicSimulateQuestionModal()\\\">\\n                                        <i class=\\\"fa fa-cogs mr-2\\\"></i> Simulate questions\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"generalTopicQuestions\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Question category</th>\\n                                            <th>Question type</th>\\n                                            <th>Complexity level</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let question of generalTopicQuestions ;trackBy: trackId\\\">\\n                                            <td data-column=\\\"Question category\\\">{{question.questionCategory}}</td>\\n                                            <td data-column=\\\"Question type\\\">{{question.questionType}}</td>\\n                                            <td data-column=\\\"Complexity level\\\">{{question.complexityLevel}}</td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <a target=\\\"_blank\\\" class=\\\"btn btn-outline-info  mr-1 mb-1 btn-icon-size\\\"\\n                                                    [routerLink]=\\\"['/lesson-topic', question.id, 'topic-question-view' ]\\\">\\n                                                    <i class=\\\"fa fa-eye\\\"></i>\\n                                                </a>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"profile\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"profile-tab\\\">\\n                            <div class=\\\"w-100 filterbg py-2 px-4 rounded my-4\\\">\\n                                <div class=\\\"filtericon font-20\\\">\\n                                    <i class=\\\"fa fa-filter\\\"></i>\\n                                </div>\\n                                <div class=\\\"row col-xxl-4 mb-3\\\">\\n                                    <ng-select [items]=\\\"organisations\\\" class=\\\"w-100\\\"\\n                                        [ngModelOptions]=\\\"{standalone: true}\\\" bindLabel=\\\"name\\\"\\n                                        placeholder=\\\"Select organisation\\\" [(ngModel)]=\\\"selectedOrganisation\\\">\\n                                    </ng-select>\\n                                </div>\\n                                <div class=\\\"w-100 d-flex justify-content-end\\\">\\n                                    <div class=\\\"btn btn-success float-right waves-effect waves-light\\\"\\n                                        (click)=\\\"getOrgTopicQuestiontByOrgId()\\\">\\n                                        <i class=\\\"fa fa-filter mr-2\\\"></i>Apply\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"row\\\" *ngIf=\\\"orgGeneralTopicQuestions.length > 0\\\">\\n                                <div class=\\\"col-xxl-12 d-flex flex-wrap justify-content-lg-end\\\">\\n                                    <div class=\\\"btn btn-info mb-2 mr-2\\\" (click)=\\\"openOrgTopicPreviewQuestionModal()\\\">\\n                                        <i class=\\\"fa fa-list-alt mr-2\\\"></i> Preview questions\\n                                    </div>\\n                                    <div class=\\\"btn btn-success mb-2\\\" (click)=\\\"openOrgTopicSimulateQuestionModal()\\\">\\n                                        <i class=\\\"fa fa-cogs mr-2\\\"></i> Simulate questions\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"orgGeneralTopicQuestions\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Question category</th>\\n                                            <th>Question type</th>\\n                                            <th>Complexity level</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let orgquestion of orgGeneralTopicQuestions ;trackBy: trackId\\\">\\n                                            <td data-column=\\\"Question category\\\">{{orgquestion.questionCategory}}</td>\\n                                            <td data-column=\\\"Question type\\\">{{orgquestion.questionType}}</td>\\n                                            <td data-column=\\\"Complexity level\\\">{{orgquestion.complexityLevel}}</td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <a target=\\\"_blank\\\" class=\\\"btn btn-outline-info  mr-1 mb-1 btn-icon-size\\\"\\n                                                    [routerLink]=\\\"['/lesson-topic', orgquestion.id, 'topic-question-view' ]\\\">\\n                                                    <i class=\\\"fa fa-eye\\\"></i>\\n                                                </a>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                            </div>\\n                        </div>\\n                        <div class=\\\"tab-pane fade py-3\\\" id=\\\"portfolio\\\" role=\\\"tabpanel\\\" aria-labelledby=\\\"portfolio-tab\\\">\\n                            <div class=\\\"row\\\">\\n                                <div\\n                                    class=\\\"col-xxl-12 flex-wrap d-flex justify-content-lg-end justify-content-md-between\\\">\\n                                    <div class=\\\"btn btn-info mr-2 mb-2\\\" (click)=\\\"openOwnTopicPreviewQuestionModal()\\\"\\n                                        *ngIf=\\\"ownTopicQuestions.length > 0\\\">\\n                                        <i class=\\\"fa fa-list-alt mr-2\\\"></i> Preview questions\\n                                    </div>\\n                                    <div class=\\\"btn btn-success mr-2 mb-2\\\" (click)=\\\"openOwnTopicSimulateQuestionModal()\\\"\\n                                        *ngIf=\\\"ownTopicQuestions.length > 0\\\">\\n                                        <i class=\\\"fa fa-cogs mr-2\\\"></i> Simulate questions\\n                                    </div>\\n                                    <a target=\\\"_blank\\\" class=\\\"btn btn-primary mb-2 mr-2\\\"\\n                                        [routerLink]=\\\"['/lesson-topic',generalTopicId,'topic-question-create']\\\">\\n                                        <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Create new question\\n                                    </a>\\n                                    <div class=\\\"btn btn-warning mb-2\\\" (click)=\\\"loadUpdatedTopicQuestion()\\\">\\n                                        <i class=\\\"fa fa-refresh mr-2\\\"></i> Refresh\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"ownTopicQuestions\\\">\\n                                <table class=\\\"table table-hover table-striped table-bordered nowrap w-100\\\">\\n                                    <thead>\\n                                        <tr>\\n                                            <th>Select</th>\\n                                            <th>Question category</th>\\n                                            <th>Question type</th>\\n                                            <th>Complexity level</th>\\n                                            <th>Actions</th>\\n                                        </tr>\\n                                    </thead>\\n                                    <tbody>\\n                                        <tr *ngFor=\\\"let ownquestion of ownTopicQuestions ;trackBy: trackId\\\">\\n                                            <td data-column=\\\"Select\\\">\\n                                                <div class=\\\"checkbox\\\">\\n                                                    <input type=\\\"checkbox\\\" id=\\\"{{ownquestion.id}}\\\" class=\\\"checkAll\\\"\\n                                                        (change)=\\\"checkSelectedOwnQuestions($event)\\\">\\n                                                    <label for=\\\"{{ownquestion.id}}\\\"></label>\\n                                                </div>\\n                                            </td>\\n                                            <td data-column=\\\"Question category\\\">{{ownquestion.questionCategory}}</td>\\n                                            <td data-column=\\\"Question type\\\">{{ownquestion.questionType}}</td>\\n                                            <td data-column=\\\"Complexity level\\\">{{ownquestion.complexityLevel}}</td>\\n                                            <td data-column=\\\"Actions\\\">\\n                                                <div>\\n                                                    <a target=\\\"_blank\\\"\\n                                                        class=\\\"btn btn-outline-info  mr-1 mb-1 btn-icon-size\\\"\\n                                                        [routerLink]=\\\"['/lesson-topic', ownquestion.questionId, 'topic-question-view' ]\\\">\\n                                                        <i class=\\\"fa fa-eye\\\"></i>\\n                                                    </a>\\n                                                    <a target=\\\"_blank\\\"\\n                                                        class=\\\"btn btn-outline-success  mr-1 mb-1 btn-icon-size\\\"\\n                                                        [routerLink]=\\\"['/lesson-topic', ownquestion.questionId, 'topic-question-edit' ]\\\">\\n                                                        <i class=\\\"fa fa-edit\\\"></i>\\n                                                    </a>\\n                                                </div>\\n                                            </td>\\n                                        </tr>\\n                                    </tbody>\\n                                </table>\\n                                <div class=\\\"w-100 d-flex justify-content-end mt-4\\\" *ngIf=\\\"ownTopicQuestions.length > 0\\\">\\n                                    <button class=\\\"btn btn-danger mr-2\\\" [disabled]=\\\"tableAction\\\"\\n                                        (click)=\\\"resetSelectedOwnTopicQuestions()\\\">\\n                                        <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\n                                    </button>\\n                                    <button class=\\\"btn btn-danger\\\" (click)=\\\"deleteTopicQuestions()\\\"\\n                                        [disabled]=\\\"tableAction\\\">\\n                                        <i class=\\\"fa fa-trash mr-2\\\"></i>Delete\\n                                    </button>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal slideInRight\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\" id=\\\"viewSubjectTreeModal\\\">\\n    <div class=\\\"modal-dialog modal-full-height modal-right modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    View subject tree\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div class=\\\"d-flex justify-content-start mb-2\\\" *ngIf=\\\"subjectTree.length > 1\\\">\\n                    <div class=\\\"btn btn-primary mr-2\\\" (click)=\\\"toggleTreeNodes()\\\">\\n                        <i class=\\\"fa fa-clone mr-2\\\"></i>\\n                        <span *ngIf=\\\"enableExpandNode === false\\\">\\n                            Expand all\\n                        </span>\\n                        <span *ngIf=\\\"enableExpandNode === true\\\">\\n                            Collapse all\\n                        </span>\\n                    </div>\\n                </div>\\n                <div id=\\\"viewSubjectTree\\\"></div>\\n            </div>\\n            <div class=\\\"modal-footer d-flex justify-content-end align-items-start\\\">\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeSubjectTreeModal()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i>\\n                    Close\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal\\\" id=\\\"simulateTopicQuestionModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\"\\n    aria-labelledby=\\\"simulateTopicQuestionModal\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    Simulate question - {{topicName}}\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closeSimulateQuestionModal()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div id=\\\"questionSimulateIndicators\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\"\\n                    data-interval=\\\"false\\\">\\n                    <div class=\\\"carousel-inner\\\">\\n                        <div class=\\\"carousel-item\\\" [ngClass]=\\\"{'active': questionIndex === 0}\\\"\\n                            *ngFor=\\\"let questiondata of topicQuestions;let questionIndex = index;\\\">\\n                            <div\\n                                *ngIf=\\\"questiondata.questionType === 'MCQ_SINGLE' || questiondata.questionType === 'MCQ_MULTIPLE' || questiondata.questionType === 'MCQ_TRUE_FALSE'\\\">\\n                                <div class=\\\"row mb-3\\\">\\n                                    <div class=\\\"col-xxl-12\\\">\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\n                                            style=\\\"line-height: 24px;\\\">\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex+1}}.&nbsp;</span>\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\n                                            </span>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row mb-3 p-3 text-capitalize\\\">\\n                                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\n                                        *ngFor=\\\"let choice of questiondata.choices;let i = index\\\">\\n                                        <div class=\\\"radio\\\" *ngIf=\\\"questiondata.questionType !== 'MCQ_MULTIPLE'\\\">\\n                                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\"\\n                                                (change)=\\\"onSelectMCQSingleAnswer(questiondata.id,choice.ChoiceId)\\\">\\n                                            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\n                                        </div>\\n                                        <div class=\\\"checkbox\\\" *ngIf=\\\"questiondata.questionType === 'MCQ_MULTIPLE'\\\">\\n                                            <input type=\\\"checkbox\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answers\\\"\\n                                                (click)=\\\"onSelectMCQMultipleAnswer(questiondata.id,choice.ChoiceId,$event)\\\">\\n                                            <label for=\\\" {{choice.ChoiceId}}\\\"></label>\\n                                        </div>\\n                                        <label [MathJax]=\\\"choice.ChoiceText  | sanitizeHtml\\\"></label>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_MATCH_LIST'\\\">\\n                                <div class=\\\"row mb-3\\\">\\n                                    <div class=\\\"col-xxl-12\\\">\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\n                                            style=\\\"line-height: 24px;\\\">\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex}}.&nbsp;</span>\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\n                                            </span>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div cdkDropListGroup>\\n                                    <div class=\\\"example-container d-flex justify-content-between flex-nowrap mb-2\\\">\\n                                        <div class=\\\"mcq-left mr-2\\\">\\n                                            <div class=\\\"match-list\\\" data-value=\\\"questiondata.choices\\\">\\n                                                <div class=\\\"list-box\\\" *ngFor=\\\"let item of questiondata.choices\\\"\\n                                                    [MathJax]=\\\"item.ChoiceText  | sanitizeHtml\\\"></div>\\n                                            </div>\\n                                        </div>\\n                                        <!-- <div class=\\\"line-circle w-auto\\\" *ngFor=\\\"let item of viewModel.Choices\\\" id=\\\"{{item}}\\\"></div> -->\\n                                        <div class=\\\"mcq-right ml-2\\\">\\n                                            <div cdkDropList [cdkDropListData]=\\\"questiondata.options\\\" class=\\\"match-list\\\"\\n                                                (cdkDropListDropped)=\\\"updatedDropList(questiondata.id, $event)\\\">\\n                                                <div class=\\\"list-box\\\" *ngFor=\\\"let item of questiondata.options\\\" cdkDrag\\n                                                    [MathJax]=\\\"item.OptionText  | sanitizeHtml\\\">\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_CHOICE_MATRIX'\\\">\\n                                <div class=\\\"row mb-3\\\">\\n                                    <div class=\\\"col-xxl-12\\\">\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\n                                            style=\\\"line-height: 24px;\\\">\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex}}.&nbsp;</span>\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\n                                            </span>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <table class=\\\"table-matrix my-2 text-capitalize\\\">\\n                                    <tr class=\\\"bg-lightgray\\\">\\n                                        <td></td>\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\n                                            <span class=\\\"text-dark\\\"\\n                                                [MathJax]=\\\"option.OptionText  | sanitizeHtml\\\"></span>\\n                                        </td>\\n                                    </tr>\\n                                    <tr style=\\\"background: none !important;\\\"\\n                                        *ngFor=\\\"let choice of questiondata.choices\\\">\\n                                        <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\n                                            <div class=\\\"radio\\\">\\n                                                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\n                                                    name=\\\"{{ choice.ChoiceId }}\\\"\\n                                                    (click)=\\\"onSelectChoiceMatrixAnswer(questiondata.id,choice.ChoiceId, option.OptionId)\\\">\\n                                                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\n                                            </div>\\n                                        </td>\\n                                    </tr>\\n                                </table>\\n                            </div>\\n                            <div class=\\\"w-100 d-flex justify-content-end align-self-center my-2\\\">\\n                                <div class=\\\"btn btn-danger mb-2\\\" href=\\\"#questionSimulateIndicators\\\" role=\\\"button\\\"\\n                                    data-slide=\\\"prev\\\" *ngIf=\\\"questionIndex !== 0\\\" (click)=\\\"previousQuestion()\\\">\\n                                    <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\n                                </div>\\n                                <div class=\\\"btn btn-info mx-2 mb-2\\\" (click)=\\\"checkAnswerStatus(questiondata.id)\\\">\\n                                    <i class=\\\"fa fa-check mr-2\\\"></i>Check answer\\n                                </div>\\n                                <div class=\\\"btn btn-success mb-2\\\" href=\\\"#questionSimulateIndicators\\\" role=\\\"button\\\"\\n                                    data-slide=\\\"next\\\" *ngIf=\\\"questionIndex !== topicQuestions.length - 1\\\"\\n                                    (click)=\\\"nextQuestion()\\\">\\n                                    Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closeSimulateQuestionModal()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\\n\\n<div class=\\\"modal\\\" id=\\\"previewTopicQuestionModal\\\" tabindex=\\\"-1\\\" role=\\\"dialog\\\"\\n    aria-labelledby=\\\"previewTopicQuestionModal\\\" aria-hidden=\\\"true\\\">\\n    <div class=\\\"modal-dialog modal-notify\\\" role=\\\"document\\\">\\n        <div class=\\\"modal-content\\\">\\n            <div class=\\\"modal-header bg-warning d-flex align-items-center\\\">\\n                <h5 class=\\\"modal-title text-white\\\">\\n                    Preview question - {{topicName}}\\n                </h5>\\n                <div class=\\\"close btn btn-xl\\\" (click)=\\\"closePreviewQuestionModal()\\\">\\n                    <i class=\\\"fa fa-times\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-body\\\">\\n                <div id=\\\"questionPreviewIndicators\\\" class=\\\"carousel slide carousel-fade\\\" data-ride=\\\"carousel\\\"\\n                    data-interval=\\\"false\\\">\\n                    <div class=\\\"carousel-inner\\\">\\n                        <div class=\\\"carousel-item\\\" [ngClass]=\\\"{'active': questionIndex === 0}\\\"\\n                            *ngFor=\\\"let questiondata of topicQuestions;let questionIndex = index;\\\">\\n                            <div\\n                                *ngIf=\\\"questiondata.questionType === 'MCQ_SINGLE' || questiondata.questionType === 'MCQ_MULTIPLE' || questiondata.questionType === 'MCQ_TRUE_FALSE'\\\">\\n                                <div class=\\\"row mb-3\\\">\\n                                    <div class=\\\"col-xxl-12\\\">\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\n                                            style=\\\"line-height: 24px;\\\">\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex+1}}.&nbsp;</span>\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\n                                            </span>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"row mb-3 p-3 text-capitalize\\\">\\n                                    <div class=\\\"col-lg-6 col-md-12 d-flex justify-content-start mb-2\\\"\\n                                        *ngFor=\\\"let choice of questiondata.choices;let i = index\\\">\\n                                        <div class=\\\"radio\\\" *ngIf=\\\"questiondata.questionType !== 'MCQ_MULTIPLE'\\\">\\n                                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\"\\n                                                [answers]=\\\"questiondata.answers\\\" disabled readonly>\\n                                            <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\n                                        </div>\\n                                        <div class=\\\"checkbox\\\" *ngIf=\\\"questiondata.questionType === 'MCQ_MULTIPLE'\\\">\\n                                            <input type=\\\"checkbox\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answers\\\" disabled\\n                                                readonly [answers]=\\\"questiondata.answers\\\">\\n                                            <label for=\\\" {{choice.ChoiceId}}\\\"></label>\\n                                        </div>\\n                                        <label for=\\\"{{choice.ChoiceId}}\\\"\\n                                            [MathJax]=\\\"choice.ChoiceText  | sanitizeHtml\\\"></label>\\n                                    </div>\\n                                </div>\\n                                <div class=\\\"mb-3 font-18\\\">\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\n                                            <span [MathJax]=\\\"answer || sanitizeHtml\\\"></span>\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_MATCH_LIST'\\\">\\n                                <div class=\\\"row mb-3\\\">\\n                                    <div class=\\\"col-xxl-12\\\">\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\n                                            style=\\\"line-height: 24px;\\\">\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex}}.&nbsp;</span>\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\n                                            </span>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <ng-container *ngFor=\\\"let answer of questiondata.answers;\\\">\\n                                    <div class=\\\"choice-container\\\">\\n                                        <div class=\\\"item\\\">\\n                                            <div class=\\\"choice--group\\\">\\n                                                <div class=\\\"choice--label\\\">\\n                                                    <span [MathJax]=\\\"answer.choiceName  | sanitizeHtml\\\"></span>\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                        <div class=\\\"line-circle\\\">\\n                                        </div>\\n                                        <div class=\\\"item\\\">\\n                                            <div class=\\\"drag--container\\\">\\n                                                <div class=\\\"choice--editor option--container zone\\\" class=\\\"option--item\\\"\\n                                                    [MathJax]=\\\"answer.optionName  | sanitizeHtml\\\">\\n                                                </div>\\n                                            </div>\\n                                        </div>\\n                                    </div>\\n                                </ng-container>\\n                                <div class=\\\"mb-3 font-18\\\">\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span\\n                                            class=\\\"text-dark d-flex flex-nowrap\\\"\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\n                                            <span [MathJax]=\\\"answer.choiceName || sanitizeHtml\\\"></span> <span>-</span>\\n                                            <span [MathJax]=\\\"answer.optionName || sanitizeHtml\\\"></span>\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div *ngIf=\\\"questiondata.questionType === 'MCQ_CHOICE_MATRIX'\\\">\\n                                <div class=\\\"row mb-3\\\">\\n                                    <div class=\\\"col-xxl-12\\\">\\n                                        <div class=\\\"border-info p-3 alert-info font-18 d-flex\\\"\\n                                            style=\\\"line-height: 24px;\\\">\\n                                            <span class=\\\"text-info\\\">Q&nbsp;-&nbsp;{{questionIndex}}.&nbsp;</span>\\n                                            <span class=\\\"text-dark\\\" [MathJax]=\\\"questiondata.question  | sanitizeHtml\\\">\\n                                            </span>\\n                                        </div>\\n                                    </div>\\n                                </div>\\n                                <table class=\\\"table-matrix my-2 text-capitalize\\\">\\n                                    <tr class=\\\"bg-lightgray\\\">\\n                                        <td></td>\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\n                                            <span class=\\\"text-dark\\\"\\n                                                [MathJax]=\\\"option.OptionText  | sanitizeHtml\\\"></span>\\n                                        </td>\\n                                    </tr>\\n                                    <tr style=\\\"background: none !important;\\\"\\n                                        *ngFor=\\\"let choice of questiondata.choices\\\">\\n                                        <td><span [MathJax]=\\\"choice.ChoiceText  | sanitizeHtml\\\"></span></td>\\n                                        <td *ngFor=\\\"let option of questiondata.options\\\">\\n                                            <div class=\\\"radio\\\">\\n                                                <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\n                                                    name=\\\"{{ choice.ChoiceId }}\\\" disabled readonly>\\n                                                <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\n                                            </div>\\n                                        </td>\\n                                    </tr>\\n                                </table>\\n                                <div class=\\\"mb-3 font-18\\\">\\n                                    <div class=\\\"border-success p-3 alert-success\\\">\\n                                        <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span\\n                                            class=\\\"text-dark d-flex flex-nowrap\\\"\\n                                            *ngFor=\\\"let answer of questiondata.answers;let checkIndex =index\\\">\\n                                            <span [MathJax]=\\\"answer.choiceName || sanitizeHtml\\\"></span> <span>-</span>\\n                                            <span [MathJax]=\\\"answer.optionName || sanitizeHtml\\\"></span>\\n                                            {{checkIndex  === questiondata.answers.length - 1? ' ' : ','}}</span>\\n                                    </div>\\n                                </div>\\n                            </div>\\n                            <div class=\\\"w-100 d-flex justify-content-end align-self-center my-2\\\">\\n                                <div class=\\\"btn btn-danger mb-2\\\" href=\\\"#questionPreviewIndicators\\\" role=\\\"button\\\"\\n                                    data-slide=\\\"prev\\\" *ngIf=\\\"questionIndex !== 0\\\">\\n                                    <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\n                                </div>\\n                                <div class=\\\"btn btn-success ml-2  mb-2\\\" href=\\\"#questionPreviewIndicators\\\" role=\\\"button\\\"\\n                                    data-slide=\\\"next\\\" *ngIf=\\\"questionIndex !== topicQuestions.length - 1\\\">\\n                                    Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n                                </div>\\n                            </div>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"modal-footer\\\">\\n                <div class=\\\"btn btn-danger\\\" (click)=\\\"closePreviewQuestionModal()\\\">\\n                    <i class=\\\"fa fa-times mr-2\\\"></i> Close\\n                </div>\\n            </div>\\n        </div>\\n    </div>\\n</div>\"","import { Component, OnInit, AfterViewInit } from \"@angular/core\";\nimport { Router, ActivatedRoute } from '@angular/router';\nimport { JhiEventManager, JhiParseLinks } from 'ng-jhipster';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { ISubject } from '../../shared/model/content/subject.model';\nimport { ICurriculum } from '../../shared/model/content/curriculum.model';\nimport { IGrade } from '../../shared/model/common/grade.model';\nimport { Principal } from '../../core';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { ILessonTopics } from '../../shared/model/content/lesson-topics.model';\nimport { IOrganisation } from '../../shared/model/common/organisation.model';\nimport { IGeneralTopicQuestion } from '../../shared/model/content/general-topic.question.model';\nimport { IOrgGeneralTopicQuestion } from '../../shared/model/content/org-general-topic-question.model';\nimport { ITopicAllDetails } from '../../shared/model/content/topic-all-details.model';\nimport { Observable } from 'rxjs';\nimport { IQuestionPreference } from '../../shared/model/content/question-preference.model';\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\nimport { SubjectService } from '../../subject/subject.service';\nimport { OrganisationService } from '../../organisation/organisation.service';\nimport { CurriculumService } from '../../curriculum/curriculum.service';\nimport { ACTIVE } from '../../shared/constants/common.constants';\nimport { MatchList } from '../../question-builder/matchlist/matchlist.component';\nimport { CdkDragDrop, moveItemInArray } from '@angular/cdk/drag-drop';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./topic-question-manage.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class CurriculumTopicQuestionManageComponent implements OnInit, AfterViewInit {\n    questionIds: any[] = [];\n    curriculumList: ICurriculum[] = [];\n    gradeList: IGrade[] = [];\n    subjectList: IGrade[] = [];\n    subjectTree: ISubject[] = [];\n    lessonList: ISubject[] = [];\n    organisations: IOrganisation[] = [];\n    generalTopicQuestions: any[] = [];\n    ownTopicQuestions: any[] = [];\n    orgGeneralTopicQuestions: any[] = [];\n    topicQuestions: any[] = [];\n    ownTopicQuestionResources: any[] = [];\n    orgTopicQuestionResources: any[] = [];\n    generalTopicQuestionResources: any[] = [];\n    selectedAnswer: any[] = [];\n    nodeType: string;\n    topicName: string;\n    modalTitleName: string;\n    generalTopicId: number;\n    organisationId: number;\n    contentId: number;\n    showQuestionMapping: boolean;\n    showTopicHeading: boolean;\n    questionPreferenceStatus: boolean;\n    checkOrderNumChange: boolean;\n    checkQuestionCE: boolean;\n    checkOwnQuestion: boolean;\n    enableExpandNode: boolean;\n    tableAction: boolean;\n    selectedCurriculum: any;\n    selectedGrade: any;\n    selectedSubject: any;\n    selectedLesson: any;\n    selectedOrganisation: any;\n\n    constructor(\n        public _router: Router,\n        public activatedRoute: ActivatedRoute,\n        public curriculumService: CurriculumService,\n        public organisationService: OrganisationService,\n        public subjectService: SubjectService,\n        public topicQuestionService: SyllabusLessonTopicService,\n        protected eventManager: JhiEventManager,\n        protected parseLinks: JhiParseLinks,\n        protected principalService: Principal,\n        public pluginService: PluginService,\n        public userLoginService: UserLoginInfoService,\n        public questionBuilderService: QuestionBuilderService) {\n        this.enableExpandNode = false;\n        this.tableAction = true;\n    }\n\n    ngOnInit() {\n        this.checkQuestionCE = false;\n        this.enableExpandNode = false;\n        this.questionPreferenceStatus = false;\n        this.loadCurriculums();\n    }\n\n    loadCurriculums() {\n        this.curriculumService.getCurriculumSearch().subscribe(\n            (res: HttpResponse<ICurriculum[]>) => this.assignCurriculumList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignCurriculumList(data: ICurriculum[]) {\n        this.curriculumList = [];\n        for (let i = 0; i < data.length; i++) {\n            this.curriculumList.push(data[i]);\n        }\n    }\n\n    protected onError(errorMessage: string) {\n        this.pluginService.alertMessage(errorMessage, \"error\");\n    }\n\n    ngAfterViewInit() {\n        this.nodeOnSelected();\n    }\n\n    onCurriculumChange() {\n        let gradesApplicableFrom, gradesApplicableTo;\n        if (this.selectedCurriculum) {\n            gradesApplicableFrom = this.selectedCurriculum.gradesApplicableFrom;\n            gradesApplicableTo = this.selectedCurriculum.gradesApplicableTo;\n            this.generateGradeList(gradesApplicableFrom, gradesApplicableTo);\n        }\n        this.selectedGrade = null;\n        this.selectedSubject = null;\n        this.selectedLesson = null;\n    }\n\n    onGradeChange() {\n        let curriculumId, gradeId, status;\n        if (this.selectedGrade) {\n            curriculumId = this.selectedCurriculum.id;\n            gradeId = this.selectedGrade.id;\n            status = ACTIVE;\n            this.subjectService\n                .getSubjectByCurriculumIdAndGradeId(curriculumId, gradeId, status)\n                .subscribe(\n                    (res: HttpResponse<ISubject[]>) => this.assignSubjectList(res.body),\n                    (res: HttpErrorResponse) => this.onError(res.message)\n                );\n        }\n        this.selectedSubject = null;\n        this.selectedLesson = null;\n    }\n\n    onSubjectChange() {\n        if (this.selectedSubject) {\n            let subjectId = this.selectedSubject.id;\n            this.loadSubjectTree(subjectId);\n        }\n        this.selectedLesson = null;\n    }\n\n    assignSubjectList(data: ISubject[]) {\n        this.subjectList = [];\n        this.subjectTree = [];\n        this.pluginService.jsTree(\"#viewSubjectTree\", this.subjectTree, false);\n        for (let i = 0; i < data.length; i++) {\n            this.subjectList.push(data[i]);\n        }\n    }\n\n    generateGradeList(min, max) {\n        this.gradeList = [];\n        for (var i = min; i <= max; i++) {\n            this.gradeList.push({\n                \"id\": i,\n                \"name\": i\n            });\n        }\n        return this.gradeList;\n    }\n\n    loadSubjectTree(subjectId) {\n        this.subjectService.getSubjectTreeBySubjectId(subjectId).subscribe(\n            (res: HttpResponse<ISubject[]>) => this.assignSubjectTree(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    assignSubjectTree(data: ISubject[]) {\n        this.lessonList = [];\n        $(\"#lesson\").val(\"\").trigger('change');\n        this.subjectTree = data;\n        this.lessonList = this.subjectTree.filter(item => item.type === 'lesson');\n        this.pluginService.jsTree(\"#viewSubjectTree\", this.subjectTree, false);\n    }\n\n    getLessonTopicList() {\n        if (this.selectedLesson) {\n            let lessonId = this.selectedLesson.data.id;\n            if (lessonId) {\n                this.topicQuestionService\n                    .getLessonTopicListByLessonId(lessonId)\n                    .subscribe(\n                        (res: HttpResponse<ILessonTopics>) => this.assignLessonTopicsList(res.body),\n                        (res: HttpErrorResponse) => this.onError(res.message)\n                    );\n            } else {\n                this.pluginService.alertMessage(\"Please select a filter and then apply\", \"error\")\n            }\n        }\n    }\n\n    assignLessonTopicsList(data: ILessonTopics) {\n        let topicsList: ILessonTopics[] = [], treeTopicsList: ISubject[] = [];\n        topicsList = data.lessonTopics;\n        for (let i = 0; i < topicsList.length; i++) {\n            treeTopicsList.push({\n                text: topicsList[i].topicName,\n                generalTopicId: topicsList[i].generalTopicId,\n                id: topicsList[i].id,\n            })\n        }\n        this.pluginService.jsTree(\"#topicsList\", treeTopicsList, false);\n        this.showQuestionMapping = false;\n        this.showTopicHeading = true;\n        this.enableExpandNode = false;\n    }\n\n    nodeOnSelected() {\n        var localThisObj = this;\n        $('#topicsList')\n            .on('changed.jstree', function (e, data) {\n                var i, j;\n                for (i = 0, j = data.selected.length; i < j; i++) {\n                    localThisObj.generalTopicId = data.node.original.generalTopicId;\n                    localThisObj.topicName = data.node.original.text;\n                    localThisObj.generalTopicQuestions = [];\n                    localThisObj.orgGeneralTopicQuestions = [];\n                    localThisObj.ownTopicQuestions = [];\n                    localThisObj.getTopicQuestionList(localThisObj.generalTopicId);\n                    localThisObj.getOrgGeneralTopicQuestionByOrganisationId(localThisObj.generalTopicId);\n                    localThisObj.getOrganisationList();\n                    localThisObj.getQuestionPreference(localThisObj.generalTopicId)\n                    localThisObj.showQuestionMapping = true;\n                    localThisObj.tableAction = true;\n                }\n            })\n    }\n\n    getTopicQuestionList(generalTopicId) {\n        this.topicQuestionService.getTopicDetails(generalTopicId).subscribe(\n            (res: HttpResponse<ITopicAllDetails>) => this.assignResponseToTopicQuestionList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignResponseToTopicQuestionList(data: ITopicAllDetails) {\n        let questionDetails: any[] = [], question, complexityLevel, questionType;\n        this.generalTopicQuestions = [];\n        this.ownTopicQuestions = [];\n        this.generalTopicQuestionResources = [];\n        this.ownTopicQuestionResources = [];\n        this.generalTopicQuestionResources = data.questions;\n        this.ownTopicQuestionResources = data.orgGeneralTopicQuestions;\n        for (let i = 0; i < this.generalTopicQuestionResources.length; i++) {\n            questionDetails = [];\n            questionDetails.push(this.questionBuilderService.convertStringToJson(this.generalTopicQuestionResources[i].contentJson));\n            for (let j = 0; j < questionDetails.length; j++) {\n                question = questionDetails[j].Question;\n                if (this.generalTopicQuestionResources[i].complexityLevel === 1) {\n                    complexityLevel = \"Low\";\n                } else if (this.generalTopicQuestionResources[i].complexityLevel === 2) {\n                    complexityLevel = \"Medium\";\n                } else if (this.generalTopicQuestionResources[i].complexityLevel === 3) {\n                    complexityLevel = \"High\";\n                } else {\n                    complexityLevel = \"\";\n                }\n                if (questionDetails[j].QuestionType === \"MCQ_SINGLE\") {\n                    questionType = \"MCQ single answer\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_MULTIPLE\") {\n                    questionType = \"MCQ multiple answers\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_CHOICE_MATRIX\") {\n                    questionType = \"Choice matrix\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_TRUE_FALSE\") {\n                    questionType = \"MCQ true or false\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_MATCH_LIST\") {\n                    questionType = \"MCQ match list\";\n                } else {\n                    questionType = \"\"\n                }\n                this.generalTopicQuestions.push({\n                    id: this.generalTopicQuestionResources[i].id,\n                    questionCategory: this.titleCapitalize(this.generalTopicQuestionResources[i].category),\n                    complexityLevel: complexityLevel,\n                    questionText: question,\n                    questionType: questionType,\n                    generalTopicId: this.generalTopicQuestionResources[i].generalTopicId\n                })\n            }\n        }\n        for (let i = 0; i < this.ownTopicQuestionResources.length; i++) {\n            questionDetails = [];\n            questionDetails.push(this.questionBuilderService.convertStringToJson(this.ownTopicQuestionResources[i].question.contentJson));\n            for (let j = 0; j < questionDetails.length; j++) {\n                question = questionDetails[j].Question;\n                if (this.ownTopicQuestionResources[i].question.complexityLevel === 1) {\n                    complexityLevel = \"Low\";\n                } else if (this.ownTopicQuestionResources[i].question.complexityLevel === 2) {\n                    complexityLevel = \"Medium\";\n                } else if (this.ownTopicQuestionResources[i].question.complexityLevel === 3) {\n                    complexityLevel = \"High\";\n                } else {\n                    complexityLevel = \"\";\n                }\n                if (questionDetails[j].QuestionType === \"MCQ_SINGLE\") {\n                    questionType = \"MCQ single answer\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_MULTIPLE\") {\n                    questionType = \"MCQ multiple answers\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_CHOICE_MATRIX\") {\n                    questionType = \"Choice matrix\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_TRUE_FALSE\") {\n                    questionType = \"MCQ true or false\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_MATCH_LIST\") {\n                    questionType = \"MCQ match list\";\n                } else {\n                    questionType = \"\"\n                }\n                this.ownTopicQuestions.push({\n                    id: this.ownTopicQuestionResources[i].id,\n                    questionCategory: this.titleCapitalize(this.ownTopicQuestionResources[i].question.category),\n                    complexityLevel: complexityLevel,\n                    questionText: question,\n                    questionType: questionType,\n                    generalTopicId: this.ownTopicQuestionResources[i].generalTopicId,\n                    questionId: this.ownTopicQuestionResources[i].question.id\n                })\n            }\n        }\n    }\n\n    getOrgGeneralTopicQuestionByOrganisationId(generalTopicId) {\n        //User login Information for organisationId \n        this.organisationId = this.userLoginService.organisationId;\n        this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(generalTopicId, this.organisationId).subscribe(\n            (res: HttpResponse<IOrgGeneralTopicQuestion[]>) => this.assignResponseToOrgTopicQuestionList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignResponseToOrgTopicQuestionList(data: IOrgGeneralTopicQuestion[]) {\n        let questionDetails: any[] = [], question, complexityLevel, questionType;\n        this.orgGeneralTopicQuestions = [];\n        this.orgTopicQuestionResources = [];\n        this.orgTopicQuestionResources = data;\n        for (let i = 0; i < this.orgTopicQuestionResources.length; i++) {\n            questionDetails = [];\n            questionDetails.push(this.questionBuilderService.convertStringToJson(this.orgTopicQuestionResources[i].question.contentJson));\n            for (let j = 0; j < questionDetails.length; j++) {\n                question = questionDetails[j].Question;\n                if (this.orgTopicQuestionResources[i].question.complexityLevel === 1) {\n                    complexityLevel = \"Low\";\n                } else if (this.orgTopicQuestionResources[i].question.complexityLevel === 2) {\n                    complexityLevel = \"Medium\";\n                } else if (this.orgTopicQuestionResources[i].question.complexityLevel === 3) {\n                    complexityLevel = \"High\";\n                } else {\n                    complexityLevel = \"\";\n                }\n                if (questionDetails[j].QuestionType === \"MCQ_SINGLE\") {\n                    questionType = \"MCQ single answer\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_MULTIPLE\") {\n                    questionType = \"MCQ multiple answers\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_CHOICE_MATRIX\") {\n                    questionType = \"Choice matrix\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_TRUE_FALSE\") {\n                    questionType = \"MCQ true or false\";\n                } else if (questionDetails[j].QuestionType === \"MCQ_MATCH_LIST\") {\n                    questionType = \"MCQ match list\";\n                } else {\n                    questionType = \"\"\n                }\n                this.orgGeneralTopicQuestions.push({\n                    id: this.orgTopicQuestionResources[i].question.id,\n                    question: question,\n                    questionCategory: this.titleCapitalize(this.orgTopicQuestionResources[i].question.category),\n                    complexityLevel: complexityLevel,\n                    questionType: questionType,\n                    generalTopicId: this.orgTopicQuestionResources[i].generalTopicId\n                })\n            }\n        }\n    }\n\n    titleCapitalize(word: string) {\n        if (!word) return word;\n        return word[0].toUpperCase() + word.substr(1).toLowerCase();\n    }\n\n\n    getOrgTopicQuestiontByOrgId() {\n        let organisationId = this.selectedOrganisation.id;\n        this.topicQuestionService.getOrgGeneralTopicQuestionsByOrgId(this.generalTopicId, organisationId).subscribe(\n            (res: HttpResponse<IOrgGeneralTopicQuestion[]>) => this.assignResponseToOrgTopicQuestionListByOrgId(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignResponseToOrgTopicQuestionListByOrgId(data: IOrgGeneralTopicQuestion[]) {\n        let questionDetails: any[] = [], question;\n        this.orgGeneralTopicQuestions = [];\n        this.orgTopicQuestionResources = [];\n        this.orgTopicQuestionResources = data;\n        for (let i = 0; i < this.orgTopicQuestionResources.length; i++) {\n            questionDetails = [];\n            questionDetails.push(this.questionBuilderService.convertStringToJson(this.orgTopicQuestionResources[i].question.contentJson));\n            for (let j = 0; j < questionDetails.length; j++) {\n                question = questionDetails[j].Question;\n                this.orgGeneralTopicQuestions.push({\n                    id: this.orgTopicQuestionResources[i].question.id,\n                    question: question,\n                    questionType: questionDetails[j].QuestionType,\n                    generalTopicId: this.orgTopicQuestionResources[i].generalTopicId\n                })\n            }\n        }\n    }\n\n    getOrganisationList() {\n        this.organisationService.getOrganisations().subscribe(\n            (res: HttpResponse<IOrganisation[]>) => this.assignOrgList(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    protected assignOrgList(data: IOrganisation[]) {\n        this.organisations = data;\n    }\n\n    openSubjectTreeModal() {\n        this.pluginService.showModalWindow(\"#viewSubjectTreeModal\");\n    }\n\n    closeSubjectTreeModal() {\n        this.pluginService.hideModalWindow(\"#viewSubjectTreeModal\")\n    }\n\n    checkSelectedOwnQuestions(event) {\n        let selectedId, checked, index;\n        checked = event.target.checked;\n        selectedId = event.target.id;\n        if (checked === true) {\n            this.tableAction = false;\n            this.questionIds.push(selectedId);\n        } else if (checked === false) {\n            index = this.questionIds.findIndex(item => item === selectedId);\n            this.questionIds.splice(index, 1)\n        }\n        this.questionIds = this.removeDuplicateElements(this.questionIds);\n        if (this.questionIds.length <= 0) {\n            this.tableAction = true;\n        }\n    }\n\n    removeDuplicateElements(array) {\n        var temp = [];\n        for (var i = 0; i < array.length; i++) {\n            if (temp.indexOf(array[i]) == -1) {\n                temp.push(array[i]);\n            }\n        }\n        return temp;\n    }\n\n    deleteTopicQuestions() {\n        var localthisObject = this;\n        swal({\n            title: \"Are you sure to delete questions ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm === true) {\n                    if (localthisObject.questionIds.length > 0) {\n                        localthisObject.subscribeToDeleteResponse(localthisObject.topicQuestionService.deleteOwnTopicQuestions(localthisObject.questionIds));\n                    }\n                }\n            });\n    }\n\n    protected subscribeToDeleteResponse(result: Observable<HttpResponse<IOrgGeneralTopicQuestion>>) {\n        result.subscribe((res: HttpResponse<IOrgGeneralTopicQuestion>) => this.onDeleteSuccess(res), (errRes: HttpErrorResponse) => this.onDeleteError(errRes));\n    }\n\n    protected onDeleteSuccess(res: HttpResponse<IOrgGeneralTopicQuestion>) {\n        this.pluginService.alertMessage(\"Topic question deleted successfully\", \"success\");\n        this.ownTopicQuestions = [];\n        this.questionIds = [];\n        this.getTopicQuestionList(this.generalTopicId);\n        this.tableAction = true;\n    }\n\n    protected onDeleteError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not delete, please contact admin\", \"error\")\n    }\n\n    resetSelectedOwnTopicQuestions() {\n        this.questionIds = [];\n        $(\".checkAll\").prop(\"checked\", false);\n        this.tableAction = true;\n    }\n\n    checkQuestionPreference(event) {\n        let check = event.target.checked;\n        let name = event.target.id;\n        if (check === true && name === \"QuestionCE\") {\n            this.questionPreferenceStatus = false;\n        } else if (check === true && name === \"OwnQuestion\") {\n            this.questionPreferenceStatus = true;\n        }\n    }\n\n    getQuestionPreference(generalTopicId) {\n        //User login Information for organisationId \n        let orgId = this.userLoginService.organisationId;\n        this.topicQuestionService.getQuestionPreference(orgId, generalTopicId).subscribe(\n            (res: HttpResponse<IQuestionPreference>) => this.onGetPreferenceSuccess(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    onGetPreferenceSuccess(acitveStatus: IQuestionPreference) {\n        if (acitveStatus === \"\" || acitveStatus === null || acitveStatus === false) {\n            this.checkQuestionCE = true;\n            this.checkOwnQuestion = false;\n        } else if (acitveStatus === true) {\n            this.checkQuestionCE = false;\n            this.checkOwnQuestion = true;\n        }\n    }\n\n    saveQuestionPreference() {\n        if (this.questionPreferenceStatus === false) {\n            if (this.generalTopicQuestions.length <= 0) {\n                this.pluginService.alertMessage(\"Before set question preference atleast one general topic question is mandatory\", \"error\");\n            } else {\n                this.setQuestionPreference();\n            }\n        } else if (this.questionPreferenceStatus === true) {\n            if (this.ownTopicQuestions.length <= 0) {\n                this.pluginService.alertMessage(\"Please add atleast one own topic question and do preference\", \"error\");\n            } else {\n                this.setQuestionPreference();\n            }\n        }\n    }\n\n    setQuestionPreference() {\n        this.topicQuestionService.setQuestionPreference(this.questionPreferenceStatus, this.generalTopicId, this.organisationId).subscribe(\n            (res: HttpResponse<IQuestionPreference>) => this.onSuccess(res.body),\n            (res: HttpErrorResponse) => this.onError(res.message)\n        )\n    }\n\n    onSuccess(data) {\n        this.pluginService.alertMessage(\"Question preference saved successfully\", \"success\");\n    }\n\n    toggleTreeNodes() {\n        this.enableExpandNode = !this.enableExpandNode;\n        if (this.enableExpandNode) {\n            this.pluginService.openJsTreeAllNodes(\"#viewSubjectTree\");\n        } else {\n            this.pluginService.closeJsTreeAllNodes(\"#viewSubjectTree\")\n        }\n    }\n\n    loadUpdatedTopicQuestion() {\n        this.getTopicQuestionList(this.generalTopicId);\n        this.getOrgGeneralTopicQuestionByOrganisationId(this.generalTopicId);\n    }\n\n    openGeneralTopicSimulateQuestionModal() {\n        this.pluginService.showModalWindow(\"#simulateTopicQuestionModal\");\n        this.simulateGeneralTopicQuestionList(this.generalTopicQuestionResources);\n    }\n\n    openOrgTopicSimulateQuestionModal() {\n        this.pluginService.showModalWindow(\"#simulateTopicQuestionModal\");\n        this.simulateOwnTopicQuestionList(this.orgTopicQuestionResources);\n    }\n\n    openOwnTopicSimulateQuestionModal() {\n        this.pluginService.showModalWindow(\"#simulateTopicQuestionModal\");\n        this.simulateOwnTopicQuestionList(this.ownTopicQuestionResources);\n    }\n\n    closeSimulateQuestionModal() {\n        this.pluginService.hideModalWindow(\"#simulateTopicQuestionModal\");\n    }\n\n    openGeneralTopicPreviewQuestionModal() {\n        this.pluginService.showModalWindow(\"#previewTopicQuestionModal\");\n        this.previewGeneralTopicQuestionList(this.generalTopicQuestionResources);\n    }\n\n    openOrgTopicPreviewQuestionModal() {\n        this.pluginService.showModalWindow(\"#previewTopicQuestionModal\");\n        this.previewOwnTopicQuestionList(this.orgTopicQuestionResources);\n    }\n\n    openOwnTopicPreviewQuestionModal() {\n        this.pluginService.showModalWindow(\"#previewTopicQuestionModal\");\n        this.previewOwnTopicQuestionList(this.ownTopicQuestionResources);\n    }\n\n    closePreviewQuestionModal() {\n        this.pluginService.hideModalWindow(\"#previewTopicQuestionModal\");\n    }\n\n    protected previewGeneralTopicQuestionList(questionResources: any[]) {\n        let questionDetails: any, options: any[] = [], answers: any[] = [], choices: any[] = [];\n        this.topicQuestions = [];\n        for (let i = 0; i < questionResources.length; i++) {\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].contentJson);\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\n                answers = []; choices = [];\n                options = questionDetails.Options;\n                choices = questionDetails.Choices;\n                for (let k = 0; k < questionDetails.Answers.length; k++) {\n                    answers.push({\n                        choiceName: choices.find(item => item.ChoiceId === questionDetails.Answers[k].ChoiceId).ChoiceText,\n                        optionName: options.find(item => item.OptionId === questionDetails.Answers[k].OptionId).OptionText\n                    })\n                }\n            } else if (questionDetails.QuestionType === \"MCQ_SINGLE\" || questionDetails.QuestionType === \"MCQ_MULTIPLE\" || questionDetails.QuestionType === \"MCQ_TRUE_FALSE\") {\n                options = []; answers = [];\n                for (let j = 0; j < questionDetails.Answers.length; j++) {\n                    let answerText = questionDetails.Choices.find(item => item.ChoiceId === questionDetails.Answers[j]).ChoiceText;\n                    answers.push(answerText);\n                    answerText = \"\"\n                }\n            }\n            this.topicQuestions.push({\n                id: questionResources[i].id,\n                question: questionDetails.Question,\n                questionType: questionDetails.QuestionType,\n                generalTopicId: questionResources[i].generalTopicId,\n                questionId: questionResources[i].id,\n                choices: questionDetails.Choices,\n                options: options,\n                answers: answers\n            })\n        }\n    }\n\n    protected simulateGeneralTopicQuestionList(questionResources: any[]) {\n        let questionDetails: MatchList, options: any[] = [], choices: any[] = [];\n        this.topicQuestions = [];\n        for (let i = 0; i < questionResources.length; i++) {\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].contentJson);\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\n                options = this.shuffleArray(questionDetails.Options);\n                choices = questionDetails.Choices;\n            } else {\n                options = [];\n                choices = this.shuffleArray(questionDetails.Choices)\n            }\n            this.topicQuestions.push({\n                id: questionResources[i].id,\n                question: questionDetails.Question,\n                questionType: questionDetails.QuestionType,\n                generalTopicId: questionResources[i].generalTopicId,\n                questionId: questionResources[i].id,\n                choices: choices,\n                options: options,\n                answers: questionDetails.Answers,\n                checkAnswer: \"\"\n            })\n        }\n    }\n\n    protected previewOwnTopicQuestionList(questionResources: any[]) {\n        let questionDetails: any, options: any[] = [], answers: any[] = [], choices: any[] = [];\n        this.topicQuestions = [];\n        for (let i = 0; i < questionResources.length; i++) {\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].question.contentJson);\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\n                answers = []; choices = [];\n                options = questionDetails.Options;\n                choices = questionDetails.Choices;\n                for (let k = 0; k < questionDetails.Answers.length; k++) {\n                    answers.push({\n                        choiceName: choices.find(item => item.ChoiceId === questionDetails.Answers[k].ChoiceId).ChoiceText,\n                        optionName: options.find(item => item.OptionId === questionDetails.Answers[k].OptionId).OptionText\n                    })\n                }\n            } else if (questionDetails.QuestionType === \"MCQ_SINGLE\" || questionDetails.QuestionType === \"MCQ_MULTIPLE\" || questionDetails.QuestionType === \"MCQ_TRUE_FALSE\") {\n                options = []; answers = [];\n                for (let j = 0; j < questionDetails.Answers.length; j++) {\n                    let answerText = questionDetails.Choices.find(item => item.ChoiceId === questionDetails.Answers[j]).ChoiceText;\n                    answers.push(answerText);\n                    answerText = \"\"\n                }\n            }\n            this.topicQuestions.push({\n                id: questionResources[i].id,\n                questionType: questionDetails.QuestionType,\n                generalTopicId: questionResources[i].generalTopicId,\n                questionId: questionResources[i].question.id,\n                choices: questionDetails.Choices,\n                options: options,\n                answers: answers\n            })\n        }\n    }\n\n    protected simulateOwnTopicQuestionList(questionResources: any[]) {\n        let questionDetails: MatchList, options: any[] = [], choices: any[] = [];\n        this.topicQuestions = [];\n        for (let i = 0; i < questionResources.length; i++) {\n            questionDetails = this.questionBuilderService.convertStringToJson(questionResources[i].question.contentJson);\n            if (questionDetails.QuestionType === \"MCQ_MATCH_LIST\" || questionDetails.QuestionType === \"MCQ_CHOICE_MATRIX\") {\n                options = this.shuffleArray(questionDetails.Options);\n                choices = questionDetails.Choices;\n            } else {\n                options = [];\n                choices = this.shuffleArray(questionDetails.Choices)\n            }\n            this.topicQuestions.push({\n                id: questionResources[i].id,\n                question: questionDetails.Question,\n                questionType: questionDetails.QuestionType,\n                generalTopicId: questionResources[i].generalTopicId,\n                questionId: questionResources[i].question.id,\n                choices: choices,\n                options: options,\n                answers: questionDetails.Answers,\n                checkAnswer: \"\"\n            })\n        }\n    }\n\n    shuffleArray(array) {\n        array.sort(() => Math.random() - 0.5);\n        return array\n    }\n\n    public onSelectMCQSingleAnswer(questionId, choiceId) {\n        let topicIndex: number;\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\n        for (let i = 0; i < this.topicQuestions[topicIndex].answers.length; i++) {\n            if (this.topicQuestions[topicIndex].answers[i] === choiceId) {\n                this.topicQuestions[topicIndex].checkAnswer = \"Correct\"\n            } else {\n                this.topicQuestions[topicIndex].checkAnswer = \"Wrong\"\n            }\n        }\n    }\n\n    public onSelectMCQMultipleAnswer(questionId, choiceId, event) {\n        let topicIndex: number, checked: boolean, choiceIndex: number;\n        checked = event.target.checked;\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\n        if (checked === true) {\n            this.selectedAnswer.push(choiceId);\n        } else {\n            choiceIndex = this.selectedAnswer.findIndex(item => item === choiceId);\n            this.selectedAnswer.splice(choiceIndex, 1);\n        }\n        this.checkMultipleAnswer(topicIndex);\n    }\n\n    checkMultipleAnswer(index) {\n        let answers: any[] = this.topicQuestions[index].answers.sort();\n        let selectedAnswers: any[] = this.selectedAnswer.sort();\n        let duplicateAnswers: any[] = [];\n        for (let i = 0; i < answers.length; i++) {\n            for (let j = 0; j < selectedAnswers.length; j++) {\n                if (answers[i] === selectedAnswers[j]) {\n                    duplicateAnswers.push(selectedAnswers[j]);\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\n                } else {\n                    this.topicQuestions[index].checkAnswer = \"Wrong\"\n                }\n            }\n        }\n        if (duplicateAnswers.length > 0) {\n            if (duplicateAnswers.length === answers.length) {\n                if (JSON.stringify(duplicateAnswers.sort()) === JSON.stringify(selectedAnswers)) {\n                    this.topicQuestions[index].checkAnswer = \"Correct\"\n                } else {\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\n                }\n            } else {\n                this.topicQuestions[index].checkAnswer = \"Partial\"\n            }\n        }\n    }\n\n    public onSelectChoiceMatrixAnswer(questionId, choiceId, optionId) {\n        let topicIndex: number, index: number;\n        topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\n        if (this.selectedAnswer.length === 0) {\n            this.selectedAnswer = [];\n        }\n        this.selectedAnswer.push({\n            ChoiceId: choiceId,\n            OptionId: optionId\n        });\n        if (this.selectedAnswer.length > 1) {\n            for (let i = 0; i < this.selectedAnswer.length; i++) {\n                for (let j = i + 1; j < this.selectedAnswer.length; j++) {\n                    if (this.selectedAnswer[i].ChoiceId === this.selectedAnswer[j].ChoiceId) {\n                        index = this.selectedAnswer.findIndex(item => item.ChoiceId === this.selectedAnswer[i].ChoiceId);\n                        this.selectedAnswer.splice(index, 1);\n                    }\n                }\n            }\n        }\n        this.checkMatrixAndMatchListAnswers(topicIndex);\n    }\n\n    checkAnswerStatus(questionId) {\n        let topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\n        if (this.topicQuestions[topicIndex].checkAnswer === \"Correct\") {\n            this.pluginService.alertMessage(\"Good keep going...Correct answer\", \"success\");\n        } else if (this.topicQuestions[topicIndex].checkAnswer === \"Partial\") {\n            this.pluginService.alertMessage(\"This is partially correct\", \"warning\");\n        } else if (this.topicQuestions[topicIndex].checkAnswer === \"Wrong\") {\n            this.pluginService.alertMessage(\"Oops..! this is wrong\", \"error\");\n        } else {\n            this.pluginService.alertMessage(\"Please select a answer and check it\", \"error\");\n        }\n    }\n\n    updatedDropList(questionId, event: CdkDragDrop<string[]>) {\n        let topicIndex = this.topicQuestions.findIndex(item => item.id === questionId);\n        if (event.previousContainer === event.container) {\n            moveItemInArray(\n                event.container.data,\n                event.previousIndex,\n                event.currentIndex\n            );\n            this.selectedAnswer = [];\n            for (let i = 0; i < this.topicQuestions[topicIndex].choices.length; i++) {\n                for (let j = 0; j < this.topicQuestions[topicIndex].options.length; j++) {\n                    if (i === j) {\n                        this.selectedAnswer.push({\n                            ChoiceId: this.topicQuestions[topicIndex].choices[i].ChoiceId,\n                            OptionId: this.topicQuestions[topicIndex].options[j].OptionId\n                        });\n                    }\n                }\n            }\n            this.checkMatrixAndMatchListAnswers(topicIndex);\n        }\n    }\n\n    checkMatrixAndMatchListAnswers(index) {\n        let sortArr1, sortArr2, duplicateAnswers: any[] = [];\n        for (let i = 0; i < this.topicQuestions[index].answers.length; i++) {\n            for (let j = 0; j < this.selectedAnswer.length; j++) {\n                if (this.topicQuestions[index].answers[i].ChoiceId === this.selectedAnswer[j].ChoiceId) {\n                    if (this.topicQuestions[index].answers[i].OptionId === this.selectedAnswer[j].OptionId) {\n                        duplicateAnswers.push({\n                            ChoiceId: this.selectedAnswer[j].ChoiceId,\n                            OptionId: this.selectedAnswer[j].OptionId\n                        })\n                    }\n                } else {\n                    this.topicQuestions[index].checkAnswer = \"Wrong\"\n                }\n            }\n        }\n        if (duplicateAnswers.length > 0) {\n            sortArr1 = (obj1, obj2) => { return obj1.ChoiceId - obj2.ChoiceId; }\n            const sortedArray1: any[] = duplicateAnswers.sort(sortArr1);\n            sortArr2 = (obj1, obj2) => { return obj1.ChoiceId - obj2.ChoiceId; }\n            const sortedArray2: any[] = this.selectedAnswer.sort(sortArr2);\n            if (duplicateAnswers.length === this.topicQuestions[index].answers.length) {\n                if (JSON.stringify(sortedArray1) === JSON.stringify(sortedArray2)) {\n                    this.topicQuestions[index].checkAnswer = \"Correct\"\n                } else {\n                    this.topicQuestions[index].checkAnswer = \"Partial\"\n                }\n            } else {\n                this.topicQuestions[index].checkAnswer = \"Partial\"\n            }\n        }\n    }\n\n    previousQuestion() {\n        this.selectedAnswer = [];\n    }\n\n    nextQuestion() {\n        this.selectedAnswer = [];\n    }\n}\n","module.exports = \"<div class=\\\"w-100 my-3 justify-content-between d-flex\\\">\\n    <div class=\\\"btn btn-danger\\\" (click)=\\\"onBack()\\\">\\n        <i class=\\\"fa fa-chevron-left mr-2\\\"></i> Back\\n    </div>\\n</div>\\n\\n<div id=\\\"stepperTab\\\">\\n    <ul id=\\\"progressbar\\\">\\n        <li class=\\\"active\\\">\\n            <span class=\\\"bar\\\">\\n            </span>\\n        </li>\\n        <li>\\n        </li>\\n    </ul>\\n\\n    <fieldset>\\n        <div class=\\\"row pb-4\\\">\\n            <div class=\\\"col-xxl-12 p-3 alert-warning\\\">\\n                <p class=\\\"font-20 text-warning\\\">Step 1 - Edit question</p>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-xxl-12 mx-3\\\">\\n                <div class=\\\"form-group mb-2 row d-flex justify-content-between flex-wrap mb-2\\\">\\n                    <label class=\\\"font-16 mb-3\\\">Select question category</label>\\n                    <div class=\\\"d-flex w-100 row\\\">\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let category of questionCategory\\\">\\n                            <input type=\\\"radio\\\" id=\\\"{{category.name}}\\\" name=\\\"assessmentCategory\\\"\\n                                (click)=\\\"onSelectQuestionCategory(category.tag)\\\" [checked]=\\\"category.checked\\\">\\n                            <label for=\\\"{{category.name}}\\\">{{category.name}}</label>\\n                        </div>\\n                    </div>\\n                </div>\\n                <div class=\\\"form-group  row d-flex justify-content-between flex-wrap mb-2\\\">\\n                    <label class=\\\"font-16 mb-3\\\">Select question complexity level</label>\\n                    <div class=\\\"d-flex w-100 row\\\">\\n                        <div class=\\\"radio col-xxl-3\\\" *ngFor=\\\"let level of questionComplexityLevel\\\">\\n                            <input type=\\\"radio\\\" id=\\\"{{level.name}}\\\" name=\\\"complexityLevel\\\" [checked]=\\\"level.checked\\\"\\n                                (click)=\\\"onSelectComplexityLevel(level.value)\\\">\\n                            <label for=\\\"{{level.name}}\\\">{{level.name}}</label>\\n                        </div>\\n                    </div>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div\\n            *ngIf=\\\"viewModel.QuestionType === 'MCQ_SINGLE' || viewModel.QuestionType === 'MCQ_MULTIPLE' || viewModel.QuestionType === 'MCQ_TRUE_FALSE'\\\">\\n            <div class=\\\"w-100 d-block my-2\\\" *ngIf=\\\"viewModel\\\">\\n                <div class=\\\"row my-2\\\">\\n                    <div class=\\\"col-xxl-12 d-flex justify-content-between\\\">\\n                        <h5 class=\\\"font-18 font-bold\\\">Compose question</h5>\\n                    </div>\\n                </div>\\n                <div class=\\\"row mb-3\\\">\\n                    <div class=\\\"col-xxl-12\\\">\\n                        <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\"\\n                            #questionInput=\\\"ngModel\\\">\\n                        </ckeditor>\\n                    </div>\\n                </div>\\n            </div>\\n            <div class=\\\"mb-3\\\">\\n                <h5 class=\\\"font-20 font-bold\\\">Choices</h5>\\n            </div>\\n            <div class=\\\"w-100 mb-2 my-2 d-flex\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\n                <div class=\\\"mcq-choice d-flex align-items-center\\\"\\n                    [ngClass]=\\\"{'radio': choiceType === 'radio','checkbox': choiceType === 'checkbox'}\\\">\\n                    <input type=\\\"{{choiceType}}\\\" [id]=\\\"choice.ChoiceId\\\" name=\\\"answer\\\" [answers]=\\\"viewModel.Answers\\\"\\n                        [choiceid]=\\\"choice.ChoiceId\\\" (click)=\\\"markAsMCQAnswer(choice.ChoiceId)\\\">\\n                    <label for=\\\"{{choice.ChoiceId}}\\\"></label>\\n                </div>\\n                <div class=\\\"mcq-question\\\">\\n                    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\"\\n                        #questionInput=\\\"ngModel\\\">\\n                    </ckeditor>\\n                </div>\\n                <div class=\\\"mcq-action font-22 d-flex align-items-center text-danger d-flex justify-content-end\\\">\\n                    <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteChoice(choice.ChoiceId)\\\"></i>\\n                </div>\\n            </div>\\n            <div class=\\\"w-100 d-flex justify-content-end align-self-start my-2\\\">\\n                <div class=\\\"btn btn-info\\\" *ngIf=\\\"viewModel.QuestionType !== 'MCQ_TRUE_FALSE'\\\" (click)=\\\"addChoice()\\\">\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Choice</div>\\n            </div>\\n            <div class=\\\"my-3 font-18\\\">\\n                <div class=\\\"border-success p-3 alert-success\\\">\\n                    <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                        *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                        <span [MathJax]=\\\"answer | sanitizeHtml\\\"></span>\\n                        {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div *ngIf=\\\"viewModel.QuestionType ==='MCQ_CHOICE_MATRIX'\\\">\\n            <div class=\\\"row my-2\\\">\\n                <div class=\\\"col-xxl-12 d-flex justify-content-between\\\">\\n                    <h5 class=\\\"font-18 font-bold\\\">Compose question</h5>\\n                </div>\\n            </div>\\n            <div class=\\\"row mb-3\\\">\\n                <div class=\\\"col-xxl-12\\\">\\n                    <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"viewModel.Question\\\">\\n                    </ckeditor>\\n                </div>\\n            </div>\\n            <div class=\\\"w-100 d-block my-2\\\">\\n                <p class=\\\"font-20 font-bold\\\">Stems</p>\\n                <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\n                    <div class=\\\"mcq-stem\\\">\\n                        <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"choice.ChoiceText\\\">\\n                        </ckeditor>\\n                    </div>\\n                    <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger\\\">\\n                        <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteStem(choice.ChoiceId)\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\n                <button class=\\\"btn btn-info\\\" (click)=\\\"addChoice()\\\">\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add stem</button>\\n            </div>\\n\\n            <div class=\\\"w-100 d-block my-2\\\">\\n                <p class=\\\"font-20 font-bold\\\">Options</p>\\n                <div class=\\\"w-100 d-flex mb-2\\\" *ngFor=\\\"let option of viewModel.Options\\\">\\n                    <div class=\\\"mcq-stem\\\">\\n                        <ckeditor class=\\\"w-100\\\" [config]=\\\"editorChoiceConfig\\\" [(ngModel)]=\\\"option.OptionText\\\">\\n                        </ckeditor>\\n                    </div>\\n                    <div class=\\\"mcq-action d-flex align-items-center justify-content-end font-22 text-danger\\\">\\n                        <i class=\\\"fa fa-trash\\\" (click)=\\\"deleteOption(option.OptionId)\\\"></i>\\n                    </div>\\n                </div>\\n            </div>\\n\\n            <div class=\\\"w-100 d-flex justify-content-end my-2 align-self-start\\\">\\n                <button class=\\\"btn btn-info\\\" (click)=\\\"addOption()\\\">\\n                    <i class=\\\"fa fa-plus-circle mr-2\\\"></i> Add Option</button>\\n            </div>\\n\\n            <div class=\\\"w-100 d-block my-2\\\">\\n                <p class=\\\"font-20 font-bold\\\">Setting up answers</p>\\n            </div>\\n\\n            <table class=\\\"table-matrix my-2\\\">\\n                <tr class=\\\"bg-lightgray\\\">\\n                    <td></td>\\n                    <td *ngFor=\\\"let option of viewModel.Options\\\">\\n                        <span class=\\\"text-dark\\\" [MathJax]=\\\"option.OptionText | sanitizeHtml\\\"></span>\\n                    </td>\\n                </tr>\\n                <tr style=\\\"background: none !important;\\\" *ngFor=\\\"let choice of viewModel.Choices\\\">\\n                    <td><span [MathJax]=\\\"choice.ChoiceText | sanitizeHtml\\\"></span></td>\\n                    <td *ngFor=\\\"let option of viewModel.Options\\\">\\n                        <div class=\\\"radio\\\">\\n                            <input type=\\\"radio\\\" [id]=\\\"choice.ChoiceId+option.OptionId\\\"\\n                                [choicematrix]=\\\"viewModel.Answers\\\" [optionid]=\\\"option.OptionId\\\"\\n                                [choiceid]=\\\"choice.ChoiceId\\\" name=\\\"{{ choice.ChoiceId }}\\\"\\n                                (click)=\\\"markAsMatrixAnswer(choice, option)\\\">\\n                            <label for=\\\"{{choice.ChoiceId+option.OptionId}}\\\"></label>\\n                        </div>\\n                    </td>\\n                </tr>\\n            </table>\\n\\n            <div class=\\\"mb-3 font-18\\\">\\n                <div class=\\\"border-success p-3 alert-success\\\">\\n                    <span class=\\\"text-success\\\">Answer&nbsp;:&nbsp;</span><span class=\\\"text-dark\\\"\\n                        *ngFor=\\\"let answer of answers;let checkIndex =index\\\">\\n                        <span [MathJax]=\\\"answer.choiceName | sanitizeHtml\\\"></span> -\\n                        <span [MathJax]=\\\"answer.optionName | sanitizeHtml\\\"></span>\\n                        {{checkIndex  === answers.length - 1? ' ' : ','}}</span>\\n                </div>\\n            </div>\\n        </div>\\n\\n        <div *ngIf=\\\"viewModel.QuestionType === 'MCQ_MATCH_LIST'\\\">\\n            <match-list [questionResource]=\\\"viewModel\\\"></match-list>\\n        </div>\\n\\n        <button class=\\\"next btn btn-success float-right\\\" (click)=\\\"loadQuestionResource()\\\">\\n            Next<i class=\\\"fa fa-arrow-right ml-2\\\"></i>\\n        </button>\\n\\n    </fieldset>\\n\\n    <fieldset>\\n        <div class=\\\"row mb-2\\\">\\n            <div class=\\\"col-xxl-12 mb-2 alert-warning p-3\\\">\\n                <p class=\\\"font-20 text-warning\\\">Step 2 - Edit solution content</p>\\n            </div>\\n        </div>\\n\\n        <div class=\\\"row\\\">\\n            <div class=\\\"col-xxl-12 mb-2\\\">\\n                <label for=\\\"\\\">Solution content</label>\\n                <ckeditor class=\\\"w-100\\\" [config]=\\\"editorQuestionConfig\\\" [(ngModel)]=\\\"solutionContent\\\"\\n                    #questionInput=\\\"ngModel\\\" placeholder=\\\"Enter question (min length: 3 and max length: 4000)\\\"\\n                    [required]=\\\"true\\\">\\n                </ckeditor>\\n            </div>\\n        </div>\\n\\n\\n        <button class=\\\"btn btn-success ml-2 float-right next\\\" (click)=\\\"updateQuestion()\\\">\\n            <i class=\\\"fa fa-save mr-2\\\"></i>\\n            Save question\\n        </button>\\n\\n        <button class=\\\"btn btn-danger ml-2 float-right next\\\" (click)=\\\"resetQuestion()\\\">\\n            <i class=\\\"fa fa-times mr-2\\\"></i>Reset\\n        </button>\\n\\n        <div class=\\\"previous btn btn-danger float-right\\\">\\n            <i class=\\\"fa fa-arrow-left mr-2\\\"></i>Previous\\n        </div>\\n    </fieldset>\\n</div>\"","import { Component, OnInit } from \"@angular/core\";\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { FormBuilder, FormGroup, FormControl, Validators } from '@angular/forms';\nimport { SyllabusLessonTopicService } from '../syllabus-lesson-topic.service';\nimport { PluginService } from '../../shared/plugin/plugin.service';\nimport { QuestionBuilderService } from '../../question-builder/question-builder.service';\nimport { UserLoginInfoService } from '../../shared/user-login-info/user-login-info.service';\nimport { HttpResponse, HttpErrorResponse } from '@angular/common/http';\nimport { IOrgGeneralTopicQuestion } from '../../shared/model/content/org-general-topic-question.model';\nimport { Observable } from 'rxjs';\nimport { IQuestion } from '../../shared/model/content/question.model';\nimport { Choice } from '../../question-builder/mcq-standard/mcq-standard.service';\nimport { Option, Answer } from '../../question-builder/mcq-choicematrix';\nimport { CommonService } from '../../shared/common/common.service';\n\ndeclare var $: any;\ndeclare var swal: any;\n\n@Component({\n    templateUrl: \"./topic-question-update.component.html\",\n    providers: [SyllabusLessonTopicService]\n})\nexport class CurriculumTopicQuestionUpdateComponent implements OnInit {\n    questionDetail: IQuestion = {};\n    viewModel: any = {};\n    answers: any[] = [];\n    questionCategory: any[] = [];\n    questionComplexityLevel: any[] = [];\n    contentSource: any[] = [];\n    questionType: string;\n    currentRoute: string;\n    choiceType: string;\n    category: string;\n    questionId: number;\n    complexityLevel: number;\n    validateQuestion: boolean;\n    selectedContentSource: any;\n    editorQuestionConfig: any;\n    editorChoiceConfig: any;\n    solutionContent: any;\n\n    constructor(\n        public activatedRoute: ActivatedRoute,\n        public router: Router,\n        public pluginService: PluginService,\n        public questionBuilderService: QuestionBuilderService,\n        public questionService: SyllabusLessonTopicService,\n        public formBuilder: FormBuilder,\n        public userLoginService: UserLoginInfoService,\n        public commonService: CommonService\n    ) {\n        this.editorQuestionConfig = this.pluginService.getCKEditorQuestionConfig();\n        this.editorChoiceConfig = this.pluginService.getCKEditorQuestionConfig();\n        this.validateQuestion = true;\n        this.getCurrentRouteInfo();\n        this.activatedRoute.data.subscribe((args: any) => {\n            if (args.type === \"MCQ_MATCH_LIST\") {\n                this.viewModel.QuestionType = args.type;\n            }\n        });\n    }\n\n    getCurrentRouteInfo() {\n        let splitArray: any[] = [], currentUrl;\n        currentUrl = this.router.url\n        splitArray = currentUrl.split('/');\n        this.currentRoute = splitArray.pop();\n    }\n\n    ngOnInit() {\n        this.pluginService.sideMenuToggle();\n        this.pluginService.newStepperJs();\n        this.getContentSource();\n        this.getQuestionCategory();\n        this.getQuestionComplexityLevel();\n        this.activatedRoute.params.subscribe(params => {\n            this.questionId = params['id'];\n            this.getQuestionDetail(this.questionId);\n        });\n    }\n\n    ngAfterViewInit() {\n        this.loadUpdatedAnswers();\n    }\n\n    loadUpdatedAnswers() {\n        if (this.viewModel.QuestionType === \"MCQ_CHOICE_MATRIX\") {\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\n            this.showChoiceMatrixAnswers();\n        } else if (this.viewModel.QuestionType === \"MCQ_MULTIPLE\" || this.viewModel.QuestionType === \"MCQ_SINGLE\" || this.viewModel.QuestionType === \"MCQ_TRUE_FALSE\") {\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\n            this.showMCQAnswers();\n        }\n    }\n\n    loadQuestionResource() {\n        if (this.viewModel.QuestionType === \"MCQ_CHOICE_MATRIX\") {\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\n            this.showChoiceMatrixAnswers();\n            this.validateQuestion = false;\n        } else if (this.viewModel.QuestionType === \"MCQ_MULTIPLE\" || this.viewModel.QuestionType === \"MCQ_SINGLE\" || this.viewModel.QuestionType === \"MCQ_TRUE_FALSE\") {\n            this.questionBuilderService.generateQuestionResource(this.viewModel);\n            this.validateQuestion = false;\n            this.showMCQAnswers();\n        }\n    }\n\n    getContentSource() {\n        this.commonService.getContentSourceList().subscribe((data: any) => {\n            this.contentSource = data;\n        });\n    }\n\n    getQuestionCategory() {\n        this.commonService.getQuestionCategoryList().subscribe((data: any) => {\n            this.questionCategory = data;\n        });\n    }\n\n    getQuestionComplexityLevel() {\n        this.commonService.getQuestionComplexityLevelList().subscribe((data: any) => {\n            this.questionComplexityLevel = data;\n        });\n    }\n\n    onSelectQuestionCategory(value) {\n        this.category = value;\n    }\n\n    onSelectComplexityLevel(value) {\n        this.complexityLevel = value;\n    }\n\n    getQuestionDetail(questionId) {\n        this.questionService\n            .getQuestionByQuestionId(questionId)\n            .subscribe(\n                (res: HttpResponse<IQuestion>) => this.assignQuestionResource(res.body),\n                (res: HttpErrorResponse) => this.onError(res.message)\n            );\n    }\n\n    assignQuestionResource(data: IQuestion) {\n        let categoryIndex, levelIndex;\n        this.questionDetail = data;\n        this.viewModel = this.questionBuilderService.convertStringToJson(this.questionDetail.contentJson);\n        if (this.viewModel.QuestionType === \"MCQ_MULTIPLE\") {\n            this.choiceType = \"checkbox\";\n        } else if (this.viewModel.QuestionType === \"MCQ_SINGLE\" || this.viewModel.QuestionType === \"MCQ_TRUE_FALSE\") {\n            this.choiceType = \"radio\";\n        }\n        categoryIndex = this.questionCategory.findIndex(item => item.tag === this.questionDetail.category);\n        this.questionCategory[categoryIndex].checked = true;\n        levelIndex = this.questionComplexityLevel.findIndex(item => item.value === this.questionDetail.complexityLevel);\n        this.questionComplexityLevel[levelIndex].checked = true;\n    }\n\n    onError(resp) {\n        this.pluginService.alertMessage(\"Could not get question detail please contact admin\", \"error\");\n    }\n\n    public addChoice() {\n        this.viewModel.Choices.push(new Choice(new Date().getUTCMilliseconds(), \"\"))\n    }\n\n    public deleteChoice(choiceId) {\n        for (let i = 0; i < this.viewModel.Answers.length; i++) {\n            if (this.viewModel.Answers[i] !== choiceId) {\n                let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\n                this.viewModel.Choices.splice(index, 1);\n            } else {\n                this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\n            }\n        }\n    }\n\n    deleteStem(choiceId) {\n        if (this.viewModel.Answers.length > 0) {\n            this.pluginService.alertMessage(\"You can't delete it, choice is already related to answer\", \"error\");\n        } else {\n            let index = this.viewModel.Choices.findIndex(item => item.ChoiceId === choiceId);\n            this.viewModel.Choices.splice(index, 1);\n        }\n    }\n\n    public markAsMCQAnswer(choiceId: string) {\n        var index = this.viewModel.Answers.indexOf(choiceId);\n        if (this.viewModel.QuestionType !== \"MCQ_MULTIPLE\") {\n            this.viewModel.Answers = [];\n        }\n        if (index === -1) {\n            this.viewModel.Answers = [...this.viewModel.Answers, choiceId]\n        } else {\n            this.viewModel.Answers = this.viewModel.Answers.filter((item) => { return item !== choiceId; })\n        }\n        this.loadUpdatedAnswers();\n    }\n\n    public showMCQAnswers() {\n        this.answers = [];\n        for (let j = 0; j < this.viewModel.Answers.length; j++) {\n            let answerText = this.viewModel.Choices.find(item => item.ChoiceId === this.viewModel.Answers[j]).ChoiceText;\n            this.answers.push(answerText);\n            answerText = \"\"\n        }\n    }\n\n    public showChoiceMatrixAnswers() {\n        let answers: any[] = [], matrixChoices: any[] = [], matrixOptions: any[] = [];\n        this.answers = [];\n        answers = this.viewModel.Answers;\n        matrixChoices = this.viewModel.Choices;\n        matrixOptions = this.viewModel.Options;\n        for (let k = 0; k < answers.length; k++) {\n            this.answers.push({\n                choiceName: matrixChoices.find(item => item.ChoiceId === answers[k].ChoiceId).ChoiceText,\n                optionName: matrixOptions.find(item => item.OptionId === answers[k].OptionId).OptionText\n            })\n        }\n    }\n\n    addOption() {\n        this.viewModel.Options = [...this.viewModel.Options,\n        new Option(new Date().getUTCMilliseconds(), \"\")];\n    }\n\n    deleteOption(optionId) {\n        if (this.viewModel.Answers.length > 0) {\n            this.pluginService.alertMessage(\"You can't delete it, option is already related to answer\", \"error\");\n        } else {\n            let index = this.viewModel.Options.findIndex(item => item.OptionId === optionId);\n            this.viewModel.Options.splice(index, 1);\n        }\n    }\n\n    markAsMatrixAnswer(choice: Choice, option: Option) {\n        this.viewModel.Answers = this.viewModel.Answers.filter((item: Answer) => {\n            return item.ChoiceId !== choice.ChoiceId;\n        })\n        this.viewModel.Answers = [...this.viewModel.Answers,\n        new Answer(choice.ChoiceId, option.OptionId)];\n        this.loadUpdatedAnswers();\n    }\n\n    resetQuestion() {\n        this.answers = []\n        this.getQuestionDetail(this.questionId);\n    }\n\n    updateQuestion() {\n        let updatedQuestionResource = this.questionBuilderService.getQuestionResource;\n        this.questionDetail.contentJson = this.questionBuilderService.convertJsonToString(JSON.stringify(updatedQuestionResource));\n        this.questionDetail.solutionJson = this.questionBuilderService.convertJsonToString(JSON.stringify(this.solutionContent));\n        this.questionDetail.marks = updatedQuestionResource.TotalMarks;\n        if (this.category) {\n            this.questionDetail.category = this.category;\n        } else {\n            this.questionDetail.category = this.questionCategory[0].tag;\n        }\n        if (this.complexityLevel) {\n            this.questionDetail.complexityLevel = this.complexityLevel;\n        } else {\n            this.questionDetail.complexityLevel = 1;\n        }\n        this.subscribeToSaveResponse(this.questionService.updateQuestion(this.questionDetail));\n    }\n\n    protected subscribeToSaveResponse(result: Observable<HttpResponse<IQuestion>>) {\n        result.subscribe((resp: HttpResponse<IQuestion>) => this.onSaveSuccess(resp), (errRes: HttpErrorResponse) => this.onSaveError(errRes));\n    }\n\n    protected onSaveSuccess(res: HttpResponse<IOrgGeneralTopicQuestion>) {\n        this.pluginService.alertMessage(\"Topic question updated successfully\", \"success\");\n        this.previousUrl();\n    }\n\n    protected onSaveError(errRes: HttpErrorResponse) {\n        this.pluginService.alertMessage(\"Could not save, please contact admin\", \"error\")\n    }\n\n    onBack() {\n        var localObj = this;\n        swal({\n            title: \"Are you sure to go previous page ?\",\n            type: \"warning\",\n            showCancelButton: true,\n            confirmButtonText: \"Yes\",\n            confirmButtonColor: \"#32b432\",\n            cancelButtonText: \"No\",\n            closeOnConfirm: true,\n            closeOnCancel: true\n        },\n            function (isConfirm) {\n                if (isConfirm) {\n                    localObj.previousUrl();\n                    localObj.pluginService.sideMenuToggle();\n                }\n            });\n    }\n\n    public previousUrl() {\n        if (this.currentRoute === \"topic-question-edit\") {\n            this.router.navigateByUrl('/lesson-topic/topic-question');\n        } else if (this.currentRoute === \"general-topic-question-edit\") {\n            this.router.navigateByUrl('/general-concept-and-topic/general-topic-question');\n        } else {\n            this.router.navigateByUrl('../')\n        }\n    }\n}"],"sourceRoot":""}